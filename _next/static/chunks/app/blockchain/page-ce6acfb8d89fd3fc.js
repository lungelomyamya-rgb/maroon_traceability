(this.webpackJsonp=this.webpackJsonp||[]).push([[266],{5720:function(e,s,r){Promise.resolve().then(r.bind(r,3195))},7307:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(7461).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},6578:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(7461).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9733:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(7461).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},2235:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3195:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return P}});var t=r(3827),a=r(3688),i=r(3899),l=r(7461);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,l.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var n=r(7307);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,l.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var x=r(4697);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,l.Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),m=(0,l.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var h=r(6578),u=r(5671),f=r(3277),g=r(575),j=r(2169);function p(e){let{status:s,className:r}=e,a={Certified:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1.5",children:[(0,t.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,t.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"In Transit":(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1.5",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,t.jsx)("polyline",{points:"12 6 12 12 16 14"})]}),Delivered:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1.5",children:[(0,t.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,t.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,t.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]})};return(0,t.jsxs)("div",{className:(0,j.cn)("inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border",{Certified:"bg-success/10 text-success border-success/20","In Transit":"bg-warning/10 text-warning border-warning/20",Delivered:"bg-primary/10 text-primary border-primary/20"}[s],r),children:[a[s],s]})}var y=r(8945),N=r(985),v=r(4090);function b(e){let{record:s}=e,{userRole:r}=(0,i.useUser)(),{verifyProduct:l,setSelectedProduct:j}=(0,a.useProducts)(),b=N.pG[s.category],[w,k]=(0,v.useState)(!1),[Z,C]=(0,v.useState)(!1),M=async()=>{try{k(!0),await l(s.id),C(!0)}catch(e){console.error("Verification failed:",e)}finally{k(!1)}};return(0,t.jsx)(u.Zb,{variant:"bordered",className:"hover:shadow-xl transition-shadow duration-300 bg-background",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"flex items-start justify-between mb-3",children:(0,t.jsxs)("div",{className:"flex items-center flex-1",children:[(0,t.jsx)("div",{className:"".concat(b.bg," p-2 rounded-lg mr-3"),children:(()=>{let e=(0,N.tu)(s.category);return(0,t.jsx)(e,{className:"h-6 w-6 ".concat(b.text)})})()}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)(y.tc,{children:s.productName}),(0,t.jsx)(p,{status:s.status}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(b.bg," ").concat(b.text),children:s.category})]})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(c,{className:"h-4 w-4 text-muted-foreground/70 mr-2 flex-shrink-0"}),(0,t.jsx)(y.dn,{className:"text-foreground",children:s.location})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4 text-muted-foreground/70 mr-2 flex-shrink-0"}),(0,t.jsx)(y.dn,{className:"text-foreground",children:s.harvestDate})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(d,{className:"h-4 w-4 text-muted-foreground/70 mr-2 flex-shrink-0"}),(0,t.jsx)(y.dn,{className:"text-foreground",children:s.farmer})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground/70 mr-2 flex-shrink-0"}),(0,t.jsx)(y.dn,{className:"text-foreground",children:s.batchSize})]})]}),s.certifications&&s.certifications.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(o,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(y.dn,{className:"font-medium text-foreground",children:"Certifications:"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:s.certifications.map((e,s)=>(0,t.jsx)(f.C,{variant:"default",children:e},s))})]}),(0,t.jsxs)("div",{className:"bg-muted/30 p-3 rounded-lg space-y-1 border border-border",children:[(0,t.jsxs)(y.Se,{children:[(0,t.jsx)(y.cK,{children:"Block ID:"})," ",s.id]}),(0,t.jsxs)(y.Se,{className:"truncate",children:[(0,t.jsx)(y.cK,{children:"Block Hash:"})," ",s.blockHash]}),(0,t.jsxs)(y.Se,{className:"truncate",children:[(0,t.jsx)(y.cK,{children:"Farmer Address:"})," ",s.farmerAddress]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-2 border-t border-border/50 mt-2",children:[(0,t.jsxs)(y.Se,{children:[(0,t.jsx)(y.cK,{children:"Fee:"})," ",s.transactionFee.toFixed(4)," ETH"]}),(0,t.jsxs)(y.Se,{children:[(0,t.jsx)(y.cK,{children:"Verifications:"}),(0,t.jsx)("span",{className:"ml-1 px-2 py-0.5 bg-success/10 text-success-foreground rounded-full font-bold",children:s.verifications})]})]})]})]}),(0,t.jsxs)("div",{className:"lg:ml-6 mt-4 lg:mt-0 flex flex-col gap-2",children:["retailer"===r&&(0,t.jsx)(t.Fragment,{children:Z||s.verifications>0?(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 px-4 py-2 bg-success/10 text-success rounded-md",children:[(0,t.jsx)(m,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:Z?"Verified!":"Verified ".concat(s.verifications," times")})]}):(0,t.jsx)(g.z,{onClick:M,variant:"primary",className:"w-full lg:w-auto flex items-center justify-center",disabled:w,children:w?"Verifying...":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Verify Product"]})})}),(0,t.jsx)(g.z,{onClick:()=>j(s),variant:"secondary",className:"w-full lg:w-auto",children:"View Details"})]})]})})}var w=r(2235);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let k=(0,l.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Z=(0,l.Z)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var C=r(9733);function M(){let{selectedProduct:e,setSelectedProduct:s}=(0,a.useProducts)();if(!e)return null;let r=N.pG[e.category];return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto animate-slide-up",children:[(0,t.jsx)("div",{className:"".concat(r.bg," p-6 border-b"),children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"text-5xl",children:(()=>{let s=(0,N.tu)(e.category);return(0,t.jsx)(s,{className:"h-12 w-12 ".concat(r.text)})})()}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:e.productName}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.C,{variant:"Certified"===e.status?"success":"warning",children:e.status}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(r.bg," ").concat(r.text),children:e.category})]})]})]}),(0,t.jsx)("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600 transition-colors bg-white rounded-full p-2 hover:bg-gray-100",children:(0,t.jsx)(w.Z,{className:"h-6 w-6"})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)(k,{className:"h-5 w-5 text-gray-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Farmer"}),(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:e.farmer})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)(c,{className:"h-5 w-5 text-gray-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Location"}),(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:e.location})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)(n.Z,{className:"h-5 w-5 text-gray-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Harvest Date"}),(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:e.harvestDate})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)(x.Z,{className:"h-5 w-5 text-gray-500 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Batch Size"}),(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:e.batchSize})]})]})]}),e.certifications&&e.certifications.length>0&&(0,t.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)(o,{className:"h-5 w-5 text-blue-600"}),(0,t.jsx)("p",{className:"font-semibold text-gray-800",children:"Certifications"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.certifications.map((e,s)=>(0,t.jsx)(f.C,{variant:"secondary",className:"text-sm",children:e},s))})]}),(0,t.jsxs)("div",{className:"p-4 bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg text-white",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(Z,{className:"h-5 w-5"}),(0,t.jsx)("p",{className:"font-semibold",children:"Blockchain Information"})]}),(0,t.jsxs)("div",{className:"space-y-3 text-sm font-mono",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Block ID"}),(0,t.jsx)("p",{className:"text-green-400",children:e.id})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Block Hash"}),(0,t.jsx)("p",{className:"text-green-400 break-all",children:e.blockHash})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Farmer Wallet Address"}),(0,t.jsx)("p",{className:"text-green-400 break-all",children:e.farmerAddress})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-gray-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Transaction Fee"}),(0,t.jsxs)("p",{className:"text-yellow-400 font-semibold",children:[e.transactionFee.toFixed(4)," ETH"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-400 text-xs mb-1",children:"Timestamp"}),(0,t.jsx)("p",{className:"text-blue-400",children:(0,j.o0)(e.timestamp)})]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-green-100 p-3 rounded-full",children:(0,t.jsx)(C.Z,{className:"h-6 w-6 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Verifications"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-700",children:e.verifications})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Trust Score"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-green-600",children:[Math.min(100,20*e.verifications),"%"]})]})]})]})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let L=(0,l.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);function P(){let{blockchainRecords:e}=(0,a.useProducts)(),{userRole:s}=(0,i.useUser)();return(0,t.jsxs)("div",{className:"animate-fade-in",children:[(0,t.jsxs)("div",{className:"mb-8 text-center",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-3 mb-4 px-6 py-3 bg-gradient-to-r from-primary/5 to-primary/10 rounded-full border border-primary/20",children:[(0,t.jsx)(L,{className:"h-6 w-6 text-primary"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-foreground",children:"farmer"===s?"My Products":"Available Products"})]}),(0,t.jsx)(y.NZ,{className:"mb-2",children:"farmer"===s?"My Certified Products":"Verified Products Marketplace"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-4",children:[(0,t.jsx)("div",{className:"h-2 w-2 bg-primary rounded-full animate-pulse"}),(0,t.jsxs)(y.XU,{className:"text-muted-foreground",children:[e.length," products on blockchain"]})]})]}),0===e.length?(0,t.jsxs)("div",{className:"text-center py-20 bg-background rounded-2xl shadow-lg",children:[(0,t.jsx)("div",{className:"bg-muted w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(x.Z,{className:"h-12 w-12 text-muted-foreground"})}),(0,t.jsx)(y.NZ,{className:"text-muted-foreground mb-3",children:"No products found"}),(0,t.jsx)(y.XU,{className:"text-muted-foreground",children:"farmer"===s?"Start by certifying your first product":"Check back soon for new certified products"})]}):(0,t.jsx)("div",{className:"space-y-6",children:e.map((e,s)=>(0,t.jsx)("div",{className:"animate-slide-up",style:{animationDelay:"".concat(50*s,"ms")},children:(0,t.jsx)(b,{record:e})},e.id))}),(0,t.jsx)(M,{})]})}},3277:function(e,s,r){"use strict";r.d(s,{C:function(){return i}});var t=r(3827),a=r(2169);let i=(0,r(4090).forwardRef)((e,s)=>{let{className:r,variant:i="default",...l}=e;return(0,t.jsx)("span",{className:(0,a.cn)("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"bg-primary/10 text-primary hover:bg-primary/20",secondary:"bg-secondary/10 text-secondary-foreground hover:bg-secondary/20",success:"bg-success/10 text-success-foreground hover:bg-success/20",warning:"bg-warning/10 text-warning-foreground hover:bg-warning/20",error:"bg-error/10 text-error-foreground hover:bg-error/20",outline:"border border-border"}[i],r),ref:s,...l})});i.displayName="Badge"},3899:function(e,s,r){"use strict";r.r(s),r.d(s,{UserProvider:function(){return l},useUser:function(){return c}});var t=r(3827),a=r(4090);let i=(0,a.createContext)(void 0);function l(e){let{children:s}=e,[r,l]=(0,a.useState)("farmer");return(0,t.jsx)(i.Provider,{value:{userRole:r,setUserRole:l},children:s})}function c(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}}},function(e){e.O(0,[150,594,392,971,69,744],function(){return e(e.s=5720)}),_N_E=e.O()}]);