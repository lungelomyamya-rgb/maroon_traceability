(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},3939,e=>{"use strict";let t={farmer:{hero:"from-green-600 to-green-500",button:"bg-green-600 hover:bg-green-700 text-white",accent:"bg-green-100 text-green-800 border-green-200"},retailer:{hero:"from-blue-600 to-blue-500",button:"bg-blue-600 hover:bg-blue-700 text-white",accent:"bg-blue-100 text-blue-800 border-blue-200"},viewer:{hero:"from-gray-600 to-gray-500",button:"bg-gray-600 hover:bg-gray-700 text-white",accent:"bg-gray-100 text-gray-800 border-gray-200"},logistics:{hero:"from-emerald-600 to-emerald-500",button:"bg-emerald-600 hover:bg-emerald-700 text-white",accent:"bg-emerald-100 text-emerald-800 border-emerald-200"}};function a(e){return t[e]||t.viewer}e.s(["cardColors",0,{"total-transactions":{bg:"bg-card-green-light",text:"text-card-green",border:"border-card-green/20",icon:"text-card-green"},"monthly-revenue":{bg:"bg-card-blue-light",text:"text-card-blue",border:"border-card-blue/20",icon:"text-card-blue"},"active-farms":{bg:"bg-card-purple-light",text:"text-card-purple",border:"border-card-purple/20",icon:"text-card-purple"},retailers:{bg:"bg-card-orange-light",text:"text-card-orange",border:"border-card-orange/20",icon:"text-card-orange"},"avg-fee":{bg:"bg-card-neutral-light",text:"text-card-neutral",border:"border-card-neutral/20",icon:"text-card-neutral"},"primary-card":{bg:"bg-card-blue-light",text:"text-card-blue",border:"border-card-blue/20",icon:"text-card-blue"},"secondary-card":{bg:"bg-card-purple-light",text:"text-card-purple",border:"border-card-purple/20",icon:"text-card-purple"}},"chartColors",0,{primary:"#3b82f6",primaryDark:"#2563eb",success:"#10b981",successDark:"#059669",warning:"#f59e0b",warningDark:"#d97706",error:"#ef4444",errorDark:"#dc2626",purple:"#8b5cf6",purpleDark:"#7c3aed",gray:"#666666",pieDefault:"#8884d8"},"commonColors",0,{white:"text-white",black:"text-black",gray50:"bg-gray-50",gray100:"bg-gray-100",gray200:"bg-gray-200",gray400:"text-gray-400",gray500:"text-gray-500",gray600:"text-gray-600",gray700:"text-gray-700",gray800:"text-gray-800",gray900:"text-gray-900",borderGray200:"border-gray-200",borderGray700:"border-gray-700",hoverGray100:"hover:bg-gray-100",blue500:"text-blue-500",blue600:"text-blue-600",green400:"text-green-400",green600:"text-green-600",green700:"text-green-700",red100:"bg-red-100",red800:"text-red-800",yellow100:"bg-yellow-100",yellow400:"text-yellow-400",yellow800:"text-yellow-800",emerald100:"bg-emerald-100",emerald800:"text-emerald-800",pink100:"bg-pink-100",pink800:"text-pink-800",purple100:"bg-purple-100",purple800:"text-purple-800",orange100:"bg-orange-100",orange800:"text-orange-800",blockchainBg:"bg-gradient-to-r from-blue-50 to-indigo-50",blockchainText:"text-blue-600",blockchainBorder:"border-gray-700",hoverTransition:"transition-colors",whiteBg:"bg-white",transparentBg:"bg-transparent",shadowLg:"shadow-lg",roundedLg:"rounded-lg",roundedFull:"rounded-full"},"getRoleColors",()=>a,"textColors",0,{primary:"text-gray-700",secondary:"text-gray-600",muted:"text-gray-500",foreground:"text-foreground",white:"text-white",success:"text-success",warning:"text-warning",error:"text-error",info:"text-info"}])},67881,e=>{"use strict";var t=e.i(43476);function a({className:e="",variant:a="outline",size:r="default",children:s,...l}){let i=/bg-\w+-\d+|text-\w+-\d+/.test(e);return(0,t.jsx)("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background ${i?"":({default:"bg-primary text-primary-foreground hover:bg-primary/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-blue text-white hover:bg-blue-hover",ghost:"hover:bg-accent hover:text-accent-foreground"})[a]} ${{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}[r]} ${e}`,...l,children:s})}e.s(["Button",()=>a])},70065,e=>{"use strict";var t=e.i(43476);function a({children:e,className:a="",variant:r="default",title:s,description:l,badge:i}){return(0,t.jsxs)("div",{className:`rounded-lg border bg-card text-card-foreground shadow-sm ${{default:"border-border",outline:"border-2 border-border",ghost:"border-transparent bg-transparent",success:"border-green-200 bg-green-50",warning:"border-yellow-200 bg-yellow-50",danger:"border-red-200 bg-red-50"}[r]} ${a}`,children:[(s||l||i)&&(0,t.jsx)("div",{className:"p-6 pb-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[s&&(0,t.jsx)("h3",{className:"text-lg font-semibold leading-none tracking-tight",children:s}),l&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:l})]}),i&&(0,t.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${"destructive"===i.variant?"bg-red-100 text-red-800":"success"===i.variant?"bg-green-100 text-green-800":"warning"===i.variant?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.text})]})}),(0,t.jsx)("div",{className:"p-6 pt-0",children:e})]})}function r({children:e,className:a=""}){return(0,t.jsx)("div",{className:`p-6 pt-0 ${a}`,children:e})}e.s(["Card",()=>a,"CardContent",()=>r])},94179,e=>{"use strict";var t=e.i(43476);function a({children:e,variant:a="outline",className:r=""}){let s=/bg-\w+-\d+|text-\w+-\d+/.test(r);return(0,t.jsx)("div",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${s?"":({default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input bg-background hover:bg-accent hover:text-accent-foreground",info:"bg-blue-100 text-blue-800 hover:bg-blue-200",success:"bg-green-100 text-green-800 hover:bg-green-200",warning:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"})[a]} ${r}`,children:e})}e.s(["Badge",()=>a])},23750,e=>{"use strict";var t=e.i(43476);function a({className:e="",...a}){return(0,t.jsx)("input",{className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,...a})}e.s(["Input",()=>a])},84762,e=>{"use strict";var t=e.i(43476);function a({className:e="",...a}){return(0,t.jsx)("textarea",{className:`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,...a})}e.s(["Textarea",()=>a])},84614,e=>{"use strict";let t=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);e.s(["Calendar",()=>t],87316)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},5631,e=>{"use strict";let t=(0,e.i(75254).default)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],5631)},40160,e=>{"use strict";let t=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],40160)},23962,e=>{"use strict";let t=(0,e.i(75254).default)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);e.s(["QrCode",()=>t],23962)},62031,e=>{"use strict";let t=(0,e.i(75254).default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);e.s(["Share2",()=>t],62031)},68553,e=>{"use strict";let t=(0,e.i(75254).default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>t],68553)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},74886,e=>{"use strict";let t=(0,e.i(75254).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],74886)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},13474,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(23962),s=e.i(40160),l=e.i(62031),i=e.i(74886),n=e.i(43531),c=e.i(67881);function o({productId:e="",productName:o="",farmer:d="",location:u="",onGenerate:g,mockMode:m=!0}){let[p,x]=(0,a.useState)(""),[h,b]=(0,a.useState)(!1),[y,f]=(0,a.useState)(!1),[j,v]=(0,a.useState)(!1),N=(0,a.useCallback)(()=>e.trim()?JSON.stringify({id:e,name:o,farmer:d,location:u,timestamp:new Date().toISOString(),source:"maroon-traceability"}):"",[e,o,d,u]),k=(0,a.useCallback)(async()=>{if(!e.trim())return;b(!0),await new Promise(e=>setTimeout(e,1e3));let t=N();x(t),v(!0),b(!1),g?.(t)},[e,N,g]),w=(0,a.useCallback)(()=>{navigator.clipboard.writeText(p),f(!0),setTimeout(()=>f(!1),2e3)},[p]),C=(0,a.useCallback)(()=>{let t=new Blob([p],{type:"text/plain"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`qr-${e}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)},[p,e]),S=(0,a.useCallback)(async()=>{if(navigator.share)try{await navigator.share({title:`Product QR Code: ${o}`,text:`Scan this QR code to verify ${o} from ${d}`,url:p})}catch(e){w()}else w()},[o,d,p,w]),P=(0,a.useCallback)(()=>{let e=[];for(let t=0;t<25;t++){let a=[];for(let e=0;e<25;e++){let r=t<7&&e<7||t<7&&e>=18||t>=18&&e<7,s=Math.random()>.5;a.push(r||s)}e.push(a)}return e},[])();return(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:(0,t.jsx)(r.QrCode,{className:"h-8 w-8 text-green-600"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"QR Code Generator"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:m?"Mock Mode - Generate demo QR codes":"Generate product QR codes"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product ID"}),(0,t.jsx)("input",{type:"text",value:e,onChange:e=>x(""),placeholder:"e.g., PRD-2024-001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>x(""),placeholder:"e.g., Organic Apples",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Farmer"}),(0,t.jsx)("input",{type:"text",value:d,onChange:e=>x(""),placeholder:"Farm name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,t.jsx)("input",{type:"text",value:u,onChange:e=>x(""),placeholder:"Location",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),(0,t.jsx)(c.Button,{onClick:k,disabled:!e.trim()||h,className:"w-full bg-green-600 hover:bg-green-700",children:h?"Generating...":"Generate QR Code"}),j&&p&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"p-4 bg-white border-2 border-gray-300 rounded-lg",children:(0,t.jsx)("div",{className:"grid grid-cols-25 gap-0",style:{gridTemplateColumns:"repeat(25, 1fr)"},children:P.map((e,a)=>e.map((e,r)=>(0,t.jsx)("div",{className:`w-1 h-1 ${e?"bg-black":"bg-white"}`},`${a}-${r}`)))})})}),(0,t.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"QR Code Data:"}),(0,t.jsx)("p",{className:"text-xs font-mono text-gray-600 break-all",children:p})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:w,className:"flex items-center gap-1",children:[y?(0,t.jsx)(n.Check,{className:"h-3 w-3"}):(0,t.jsx)(i.Copy,{className:"h-3 w-3"}),y?"Copied!":"Copy"]}),(0,t.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:C,className:"flex items-center gap-1",children:[(0,t.jsx)(s.Download,{className:"h-3 w-3"}),"Download"]}),(0,t.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:S,className:"flex items-center gap-1",children:[(0,t.jsx)(l.Share2,{className:"h-3 w-3"}),"Share"]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Product Summary:"}),(0,t.jsxs)("div",{className:"text-xs text-blue-700 space-y-1",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"ID:"})," ",e]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",o]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Farmer:"})," ",d]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Location:"})," ",u]})]})]})]}),m&&(0,t.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"This is a mock implementation for demonstration"})]})]})}e.s(["QRGenerator",()=>o])},47627,e=>{"use strict";var t=e.i(43476),a=e.i(3939);function r({children:e,className:r=""}){return(0,t.jsx)("table",{className:`min-w-full divide-y ${a.commonColors.borderGray200} ${r}`,children:e})}function s({data:e,columns:s,onRowClick:l,className:i="",pageSize:n}){return(0,t.jsx)("div",{className:`overflow-x-auto ${i}`,children:(0,t.jsxs)(r,{children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:s.map((e,r)=>(0,t.jsx)("th",{className:`px-6 py-3 text-left text-xs font-medium ${a.commonColors.gray500} uppercase tracking-wider`,children:e.header},r))})}),(0,t.jsx)("tbody",{className:`${a.commonColors.whiteBg} divide-y ${a.commonColors.borderGray200}`,children:e.map((e,r)=>(0,t.jsx)("tr",{onClick:()=>l?.(e),className:`${a.commonColors.gray50} cursor-pointer`,children:s.map((r,s)=>(0,t.jsx)("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${a.commonColors.gray900}`,children:e[r.accessor]},s))},r))})]})})}e.s(["DataTable",()=>s])},79986,e=>{"use strict";let t={"cardboard-box":{label:"Cardboard Box",description:"Standard corrugated cardboard packaging",icon:"ðŸ“¦",typicalUnits:["boxes","pieces"],defaultCapacity:50},"plastic-crate":{label:"Plastic Crate",description:"Reusable plastic crate for transport",icon:"ðŸ—ƒï¸",typicalUnits:["crates","pieces"],defaultCapacity:100},"wooden-crate":{label:"Wooden Crate",description:"Traditional wooden crate for bulk items",icon:"ðŸ“¦",typicalUnits:["crates","pieces"],defaultCapacity:200},"vacuum-sealed":{label:"Vacuum Sealed",description:"Vacuum packaging for freshness",icon:"ðŸ¥«",typicalUnits:["packages","kg","lbs"],defaultCapacity:10},"bulk-bag":{label:"Bulk Bag",description:"Large bulk packaging bags",icon:"ðŸ‘œ",typicalUnits:["bags","kg","tons"],defaultCapacity:1e3},"paper-bag":{label:"Paper Bag",description:"Eco-friendly paper packaging",icon:"ðŸ›ï¸",typicalUnits:["bags","pieces"],defaultCapacity:25},"plastic-pouch":{label:"Plastic Pouch",description:"Flexible plastic pouch packaging",icon:"ðŸ›ï¸",typicalUnits:["pouches","pieces"],defaultCapacity:20},"glass-jar":{label:"Glass Jar",description:"Glass jar packaging for premium products",icon:"ðŸ«™",typicalUnits:["jars","ml","oz"],defaultCapacity:500},"metal-can":{label:"Metal Can",description:"Metal can packaging for preservation",icon:"ðŸ¥«",typicalUnits:["cans","ml","oz"],defaultCapacity:400},custom:{label:"Custom Packaging",description:"Specialized packaging solution",icon:"ðŸ“‹",typicalUnits:["units","pieces","custom"],defaultCapacity:1}};e.s(["BATCH_STATUS_COLORS",0,{pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800","qc-pending":"bg-orange-100 text-orange-800","qc-approved":"bg-emerald-100 text-emerald-800",shipped:"bg-purple-100 text-purple-800"},"PACKAGING_TYPES",0,t,"generateBatchCode",0,(e,a)=>{let r=new Date,s=r.getFullYear();String(r.getMonth()+1).padStart(2,"0"),String(r.getDate()).padStart(2,"0");let l=t[e].label.substring(0,3).toUpperCase(),i=a?a.substring(0,3).toUpperCase():"GEN",n=Math.random().toString(36).substring(2,5).toUpperCase();return`BATCH-${s}-${l}-${i}-${n}`},"getUnitsForPackagingType",0,e=>t[e].typicalUnits])},13662,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(67881),l=e.i(23750),i=e.i(70065),n=e.i(47627),c=e.i(94179),o=e.i(7233),d=e.i(37727),u=e.i(75254);let g=(0,u.default)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var m=e.i(23962),p=e.i(88844);let x=(0,u.default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var h=e.i(53145),b=e.i(94814),y=e.i(81307),f=e.i(84762),j=e.i(87316),v=e.i(46897),N=e.i(84614),k=e.i(68553),w=e.i(5631),C=e.i(79986);let S=y.z.object({productId:y.z.string().min(1,"Product ID is required"),productName:y.z.string().min(1,"Product name is required"),packagingType:y.z.enum(["cardboard-box","plastic-crate","wooden-crate","vacuum-sealed","bulk-bag","paper-bag","plastic-pouch","glass-jar","metal-can","custom"]),quantity:y.z.number().min(1,"Quantity must be at least 1"),unitOfMeasure:y.z.string().min(1,"Unit of measure is required"),location:y.z.string().min(1,"Location is required"),operator:y.z.string().min(1,"Operator name is required"),packagingDate:y.z.string().min(1,"Packaging date is required"),notes:y.z.string().optional()});function P({onSubmit:e,initialData:r,existingRecord:n}){let o,{register:u,handleSubmit:g,formState:{errors:x},watch:y,setValue:P}=(0,h.useForm)({resolver:(0,b.zodResolver)(S),defaultValues:{packagingDate:new Date().toISOString().slice(0,16),unitOfMeasure:"pieces",...r,...n}}),[T,M]=(0,a.useState)(!1),[B,I]=(0,a.useState)([]),[D,q]=(0,a.useState)(""),[O,U]=(0,a.useState)(!1),R=y("packagingType"),$=y("location"),z=async t=>{try{M(!0),await e({...t,photos:B})}catch(e){console.error("Error submitting packaging event:",e)}finally{M(!1)}};return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(i.Card,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,t.jsx)(p.Package,{className:"h-5 w-5 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Packaging Event"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Record packaging details and generate batch codes"})]})]}),n&&(0,t.jsx)(c.Badge,{className:(o=n.status,C.BATCH_STATUS_COLORS[o]),children:n.status})]}),(0,t.jsxs)("form",{onSubmit:g(z),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product ID"}),(0,t.jsx)(l.Input,{...u("productId"),placeholder:"e.g., PRD-2024-001"}),x.productId&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.productId.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),(0,t.jsx)(l.Input,{...u("productName"),placeholder:"e.g., Organic Apples"}),x.productName&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.productName.message})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,t.jsx)(p.Package,{className:"inline h-4 w-4 mr-1"}),"Packaging Type"]}),(0,t.jsxs)("select",{...u("packagingType"),onChange:e=>{var t;let a;t=e.target.value,(a=(0,C.getUnitsForPackagingType)(t)).length>0&&P("unitOfMeasure",a[0])},className:"w-full p-2 border border-gray-300 rounded-md focus:border-purple-500 focus:ring-purple-500",children:[(0,t.jsx)("option",{value:"",children:"Select packaging type"}),Object.entries(C.PACKAGING_TYPES).map(([e,a])=>(0,t.jsxs)("option",{value:e,children:[a.icon," ",a.label]},e))]}),x.packagingType&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.packagingType.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),(0,t.jsx)(l.Input,{type:"number",min:"1",...u("quantity",{valueAsNumber:!0}),placeholder:"e.g., 100"}),x.quantity&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.quantity.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit of Measure"}),(0,t.jsx)("select",{...u("unitOfMeasure"),className:"w-full p-2 border border-gray-300 rounded-md focus:border-purple-500 focus:ring-purple-500",children:R&&(0,C.getUnitsForPackagingType)(R).map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),x.unitOfMeasure&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.unitOfMeasure.message})]})]}),(0,t.jsxs)("div",{className:"border-t pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Batch Code Generation"}),(0,t.jsxs)(s.Button,{type:"button",variant:"outline",onClick:()=>{R&&$&&(q((0,C.generateBatchCode)(R,$)),U(!0))},disabled:!R||!$,className:"flex items-center gap-2",children:[(0,t.jsx)(m.QrCode,{className:"h-4 w-4"}),"Generate Batch Code"]})]}),O&&D&&(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Generated Batch Code:"}),(0,t.jsx)("p",{className:"text-lg font-mono text-blue-800",children:D})]}),(0,t.jsxs)(c.Badge,{className:"bg-green-100 text-green-800",children:[(0,t.jsx)(w.CheckCircle,{className:"h-3 w-3 mr-1"}),"Ready"]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,t.jsx)(v.MapPin,{className:"inline h-4 w-4 mr-1"}),"Packaging Location"]}),(0,t.jsx)(l.Input,{...u("location"),placeholder:"e.g., Packhouse 1, Stellenbosch"}),x.location&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.location.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,t.jsx)(j.Calendar,{className:"inline h-4 w-4 mr-1"}),"Packaging Date"]}),(0,t.jsx)(l.Input,{type:"datetime-local",...u("packagingDate")}),x.packagingDate&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.packagingDate.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,t.jsx)(N.User,{className:"inline h-4 w-4 mr-1"}),"Operator Name"]}),(0,t.jsx)(l.Input,{...u("operator"),placeholder:"e.g., John Smith"}),x.operator&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.operator.message})]})]}),(0,t.jsxs)("div",{className:"border-t pt-6",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Visual Evidence"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{let t=e.target.files;t&&Array.from(t).forEach((e,t)=>{let a=new FileReader;a.onload=e=>{let t=e.target?.result;I(e=>[...e,t])},a.readAsDataURL(e)})},className:"hidden",id:"photo-upload"}),(0,t.jsxs)("label",{htmlFor:"photo-upload",className:"flex items-center justify-center gap-2 w-full p-4 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-purple-500 hover:bg-purple-50",children:[(0,t.jsx)(k.Camera,{className:"h-5 w-5 text-gray-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Upload packaging photos"})]}),B.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:B.map((e,a)=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("img",{src:e,alt:`Packaging photo ${a+1}`,className:"w-full h-24 object-cover rounded-lg"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:(0,t.jsx)(s.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{I(B.filter((e,t)=>t!==a))},className:"text-white hover:text-red-300",children:(0,t.jsx)(d.X,{className:"h-4 w-4"})})})]},a))})]})]}),(0,t.jsxs)("div",{className:"border-t pt-6",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Additional Notes"}),(0,t.jsx)(f.Textarea,{...u("notes"),rows:4,placeholder:"Enter any additional observations or notes about the packaging process..."})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[(0,t.jsx)(s.Button,{type:"button",variant:"outline",children:"Save as Draft"}),(0,t.jsx)(s.Button,{type:"submit",disabled:T,children:T?"Submitting...":"Record Packaging Event"})]})]})]})})}var T=e.i(13474);function M(){let e=(0,r.useRouter)(),[u,h]=(0,a.useState)([]),[b,y]=(0,a.useState)({productId:"",productName:"",quantity:1,unitOfMeasure:"pieces",packagingType:"cardboard-box"}),[f,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1),[k,w]=(0,a.useState)(!1),[S,M]=(0,a.useState)(null),[B,I]=(0,a.useState)([]),[D,q]=(0,a.useState)(!1),O=[{accessorKey:"productName",header:"Product Name",enableSorting:!0,enableFiltering:!0},{accessorKey:"quantity",header:"Quantity",enableSorting:!0,cell:({row:e})=>(0,t.jsxs)("span",{children:[e.original.quantity," ",e.original.unitOfMeasure]})},{accessorKey:"packagingType",header:"Packaging Type",cell:({row:e})=>{let a=C.PACKAGING_TYPES[e.original.packagingType];return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:a.icon}),(0,t.jsx)("span",{className:"text-sm",children:a.label})]})}},{accessorKey:"batchCode",header:"Batch Code",cell:({row:e})=>(0,t.jsx)("span",{className:"font-mono text-xs",children:e.original.batchCode||"Not generated"})},{accessorKey:"status",header:"Status",cell:({row:e})=>(0,t.jsx)(c.Badge,{className:C.BATCH_STATUS_COLORS[e.original.status],children:e.original.status.charAt(0).toUpperCase()+e.original.status.slice(1).replace("-"," ")})},{accessorKey:"actions",header:"Actions",cell:({row:e})=>(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(s.Button,{variant:"outline",size:"sm",onClick:()=>{M(e.original),N(!0)},children:(0,t.jsx)(p.Package,{className:"h-3 w-3"})}),e.original.batchCode&&(0,t.jsx)(s.Button,{variant:"outline",size:"sm",onClick:()=>{M(e.original),w(!0)},children:(0,t.jsx)(m.QrCode,{className:"h-3 w-3"})})]})}],U=()=>{b.productName.trim()&&b.productId.trim()&&(h([...u,{id:Date.now().toString(),productId:b.productId.trim(),productName:b.productName.trim(),quantity:Math.max(1,b.quantity),unitOfMeasure:b.unitOfMeasure,packagingType:b.packagingType,status:"pending"}]),y({productId:"",productName:"",quantity:1,unitOfMeasure:"pieces",packagingType:"cardboard-box"}))},R=async()=>{if(0!==u.length){j(!0);try{await new Promise(e=>setTimeout(e,2e3));let e=u.map(e=>{let t=(0,C.generateBatchCode)(e.packagingType,"Packhouse 1");return{...e,batchCode:t,status:"completed",packagingDate:new Date().toISOString(),qrGenerated:!0}});h(e);let t=e.map(e=>({id:`record-${e.id}`,batchId:e.batchCode,productId:e.productId,productName:e.productName,packagingType:e.packagingType,quantity:e.quantity,unitOfMeasure:e.unitOfMeasure,packagingDate:e.packagingDate,location:"Packhouse 1, Stellenbosch",operator:"System User",status:"completed",batchCode:e.batchCode,qrCodes:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));I([...B,...t])}catch(e){console.error("Batch processing failed:",e)}finally{j(!1)}}},$=async e=>{console.log("Packaging event submitted:",e),N(!1),M(null)};return(0,t.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-4 w-full md:w-auto",children:(0,t.jsxs)(s.Button,{variant:"outline",onClick:()=>{e.push("/packaging")},className:"gap-2",children:[(0,t.jsx)(x,{className:"h-4 w-4"}),"Back to Dashboard"]})}),(0,t.jsxs)("div",{className:"text-center flex-1",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"Batch Processing"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage and process your product batches"})]}),(0,t.jsx)("div",{className:"w-full md:w-auto flex justify-end",children:(0,t.jsx)(s.Button,{onClick:R,disabled:f||0===u.length,className:"gap-1",children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):"Process Batch"})})]}),(0,t.jsx)(i.Card,{children:(0,t.jsxs)(i.CardContent,{className:"pt-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("label",{htmlFor:"productId",className:"text-sm font-medium",children:"Product ID"}),(0,t.jsx)(l.Input,{id:"productId",placeholder:"e.g., PRD-2024-001",value:b.productId,onChange:e=>y({...b,productId:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("label",{htmlFor:"productName",className:"text-sm font-medium",children:"Product Name"}),(0,t.jsx)(l.Input,{id:"productName",placeholder:"Enter product name",value:b.productName,onChange:e=>y({...b,productName:e.target.value}),onKeyDown:e=>"Enter"===e.key&&U()})]}),(0,t.jsxs)("div",{className:"w-32 space-y-2",children:[(0,t.jsx)("label",{htmlFor:"quantity",className:"text-sm font-medium",children:"Quantity"}),(0,t.jsx)(l.Input,{id:"quantity",type:"number",min:"1",value:b.quantity,onChange:e=>y({...b,quantity:parseInt(e.target.value)||1})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"packagingType",className:"text-sm font-medium",children:"Packaging"}),(0,t.jsx)("select",{id:"packagingType",value:b.packagingType,onChange:e=>y({...b,packagingType:e.target.value}),className:"w-full p-2 border border-gray-300 rounded-md focus:border-purple-500 focus:ring-purple-500",children:Object.entries(C.PACKAGING_TYPES).map(([e,a])=>(0,t.jsxs)("option",{value:e,children:[a.icon," ",a.label]},e))})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)(s.Button,{onClick:U,className:"gap-1",children:[(0,t.jsx)(o.Plus,{className:"h-4 w-4"}),"Add"]})})]}),(0,t.jsx)(n.DataTable,{columns:O,data:u,onRowClick:e=>{console.log("Row clicked:",e)},pageSize:10})]})}),v&&S&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Packaging Event Details"}),(0,t.jsx)(s.Button,{variant:"ghost",onClick:()=>{N(!1),M(null)},children:(0,t.jsx)(d.X,{className:"h-4 w-4"})})]}),(0,t.jsx)(P,{onSubmit:$,initialData:{productId:S.productId,productName:S.productName,quantity:S.quantity,unitOfMeasure:S.unitOfMeasure,packagingType:S.packagingType}})]})})}),k&&S&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Generate QR Code"}),(0,t.jsx)(s.Button,{variant:"ghost",onClick:()=>{w(!1),M(null)},children:(0,t.jsx)(d.X,{className:"h-4 w-4"})})]}),(0,t.jsx)(T.QRGenerator,{productId:S.productId,productName:S.productName,farmer:"Maroon Farm",location:"Stellenbosch, South Africa",onGenerate:e=>{console.log("QR code generated:",e),h(u.map(t=>t.id===S?.id?{...t,qrGenerated:!0,qrCode:e}:t))},mockMode:!1})]})})})]})}e.s(["BatchProcessing",()=>M],13662)},1043,e=>{e.n(e.i(13662))}]);