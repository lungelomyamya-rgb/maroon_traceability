{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/contexts/authContext.tsx"],"sourcesContent":["// src/contexts/authContext.tsx\r\n'use client';\r\n\r\nimport React, { createContext, useContext, useState, ReactNode } from 'react';\r\n\r\ninterface AuthContextType {\r\n  user: any | null;\r\n  login: (email: string, password: string) => Promise<boolean>;\r\n  logout: () => void;\r\n  loading: boolean;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<any>(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const login = async (email: string, password: string): Promise<boolean> => {\r\n    setLoading(true);\r\n    try {\r\n      // Mock login logic\r\n      if (email && password) {\r\n        setUser({ email, name: 'User' });\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (error) {\r\n      console.error('Login failed:', error);\r\n      return false;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n  };\r\n\r\n  const value = { user, login, logout, loading };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA;;;AAHA,+BAA+B;AAC/B;;AAWA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAM;IACtC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,QAAQ,OAAO,OAAe;QAClC,WAAW;QACX,IAAI;YACF,mBAAmB;YACnB,IAAI,SAAS,UAAU;gBACrB,QAAQ;oBAAE;oBAAO,MAAM;gBAAO;gBAC9B,OAAO;YACT;YACA,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,OAAO;QACT,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,SAAS;QACb,QAAQ;IACV;IAEA,MAAM,QAAQ;QAAE;QAAM;QAAO;QAAQ;IAAQ;IAE7C,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAC1B;;;;;;AAGP;GAhCgB;KAAA;AAkCT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/types/user.ts"],"sourcesContent":["// src/types/user.ts\r\nimport { LucideIcon, User as UserIcon, Briefcase, Shield, UserCheck, Users, Package, Truck, Eye } from 'lucide-react';\r\n\r\nexport const USER_ROLES = [\r\n  'farmer',\r\n  'inspector',\r\n  'logistics',\r\n  'packaging',\r\n  'retailer',\r\n  'viewer',\r\n  'government',\r\n  'admin'\r\n] as const;\r\n\r\nexport type UserRole = typeof USER_ROLES[number];\r\n\r\nexport type RoleIcon = string | LucideIcon;\r\n\r\nexport interface UserPermissions {\r\n  canCreate?: boolean;\r\n  canEdit?: boolean;\r\n  canDelete?: boolean;\r\n  canVerify?: boolean;\r\n  canExport?: boolean;\r\n  [key: string]: boolean | undefined;\r\n}\r\n\r\nexport interface User {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  role: UserRole;\r\n  avatar?: string;\r\n  address?: string;\r\n  permissions?: UserPermissions;\r\n}\r\n\r\nexport interface UserContextType {\r\n  user: Omit<User, 'permissions'> & {\r\n    permissions?: User['permissions'];\r\n  } | null;\r\n  currentUser: Omit<User, 'permissions'> & {\r\n    permissions?: User['permissions'];\r\n  } | null;\r\n  setUser: (user: User | null) => void;\r\n  updateUserRole: (role: UserRole) => void;\r\n  switchUser: (userId: string) => void;\r\n  loading: boolean;\r\n}\r\n\r\nexport const ROLE_PERMISSIONS: Record<UserRole, {\r\n  canCreate: boolean;\r\n  canVerify: boolean;\r\n  canView: boolean;\r\n  allowedEvents: string[];\r\n  displayName: string;\r\n  icon: RoleIcon;\r\n  color: string;\r\n  IconComponent?: LucideIcon;\r\n}> = {\r\n  admin: {\r\n    canCreate: true,\r\n    canVerify: true,\r\n    canView: true,\r\n    allowedEvents: ['*'],\r\n    displayName: 'Administrator',\r\n    icon: 'üëë',\r\n    color: 'role-admin',\r\n    IconComponent: Users,\r\n  },\r\n  government: {\r\n    canCreate: false,\r\n    canVerify: true,\r\n    canView: true,\r\n    allowedEvents: ['compliance-check', 'audit', 'inspection'],\r\n    displayName: 'Government',\r\n    icon: 'üèõÔ∏è',\r\n    color: 'role-government',\r\n    IconComponent: Shield,\r\n  },\r\n  farmer: {\r\n    canCreate: true,\r\n    canVerify: false,\r\n    canView: true,\r\n    allowedEvents: ['planting', 'growth', 'harvest'],\r\n    displayName: 'Farmer',\r\n    icon: 'üë®\\u200düåæ',\r\n    color: 'role-farmer',\r\n    IconComponent: UserCheck,\r\n  },\r\n  inspector: {\r\n    canCreate: false,\r\n    canVerify: true,\r\n    canView: true,\r\n    allowedEvents: ['quality-inspection', 'compliance-check'],\r\n    displayName: 'Inspector',\r\n    icon: 'üîç',\r\n    color: 'role-inspector',\r\n    IconComponent: Shield,\r\n  },\r\n  logistics: {\r\n    canCreate: false,\r\n    canVerify: false,\r\n    canView: true,\r\n    allowedEvents: ['collection', 'transport', 'delivery'],\r\n    displayName: 'Logistics',\r\n    icon: 'üöö',\r\n    color: 'role-logistics',\r\n    IconComponent: Truck,\r\n  },\r\n  packaging: {\r\n    canCreate: true,\r\n    canVerify: false,\r\n    canView: true,\r\n    allowedEvents: ['packaging', 'labeling', 'qr-generation'],\r\n    displayName: 'Packaging',\r\n    icon: 'üì¶',\r\n    color: 'role-packaging',\r\n    IconComponent: Package,\r\n  },\r\n  retailer: {\r\n    canCreate: false,\r\n    canVerify: true,\r\n    canView: true,\r\n    allowedEvents: ['retail-verification', 'sale'],\r\n    displayName: 'Retailer',\r\n    icon: 'üõí',\r\n    color: 'role-retailer',\r\n    IconComponent: Briefcase,\r\n  },\r\n  viewer: {\r\n    canCreate: false,\r\n    canVerify: false,\r\n    canView: true,\r\n    allowedEvents: [],\r\n    displayName: 'Viewer',\r\n    icon: 'üëÅÔ∏è',\r\n    color: 'role-viewer',\r\n    IconComponent: Eye,\r\n  },\r\n};"],"names":[],"mappings":";;;;;;AAAA,oBAAoB;AACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEO,MAAM,aAAa;IACxB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAsCM,MAAM,mBASR;IACH,OAAO;QACL,WAAW;QACX,WAAW;QACX,SAAS;QACT,eAAe;YAAC;SAAI;QACpB,aAAa;QACb,MAAM;QACN,OAAO;QACP,eAAe,gNAAK;IACtB;IACA,YAAY;QACV,WAAW;QACX,WAAW;QACX,SAAS;QACT,eAAe;YAAC;YAAoB;YAAS;SAAa;QAC1D,aAAa;QACb,MAAM;QACN,OAAO;QACP,eAAe,mNAAM;IACvB;IACA,QAAQ;QACN,WAAW;QACX,WAAW;QACX,SAAS;QACT,eAAe;YAAC;YAAY;YAAU;SAAU;QAChD,aAAa;QACb,MAAM;QACN,OAAO;QACP,eAAe,gOAAS;IAC1B;IACA,WAAW;QACT,WAAW;QACX,WAAW;QACX,SAAS;QACT,eAAe;YAAC;YAAsB;SAAmB;QACzD,aAAa;QACb,MAAM;QACN,OAAO;QACP,eAAe,mNAAM;IACvB;IACA,WAAW;QACT,WAAW;QACX,WAAW;QACX,SAAS;QACT,eAAe;YAAC;YAAc;YAAa;SAAW;QACtD,aAAa;QACb,MAAM;QACN,OAAO;QACP,eAAe,gNAAK;IACtB;IACA,WAAW;QACT,WAAW;QACX,WAAW;QACX,SAAS;QACT,eAAe;YAAC;YAAa;YAAY;SAAgB;QACzD,aAAa;QACb,MAAM;QACN,OAAO;QACP,eAAe,sNAAO;IACxB;IACA,UAAU;QACR,WAAW;QACX,WAAW;QACX,SAAS;QACT,eAAe;YAAC;YAAuB;SAAO;QAC9C,aAAa;QACb,MAAM;QACN,OAAO;QACP,eAAe,4NAAS;IAC1B;IACA,QAAQ;QACN,WAAW;QACX,WAAW;QACX,SAAS;QACT,eAAe,EAAE;QACjB,aAAa;QACb,MAAM;QACN,OAAO;QACP,eAAe,0MAAG;IACpB;AACF"}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/lib/auth.ts"],"sourcesContent":["// src/lib/auth.ts\r\nimport { User, UserRole } from '@/types/user';\r\nimport { ROLE_PERMISSIONS } from '@/types/user';\r\n\r\n// Mock user database for demo\r\nconst MOCK_USERS = [\r\n  {\r\n    id: '1',\r\n    name: 'John Farmer',\r\n    email: 'john@farm.com',\r\n    password: 'password123', // In production, this would be hashed\r\n    role: 'farmer' as UserRole,\r\n    address: 'Stellenbosch, Western Cape'\r\n  },\r\n  {\r\n    id: '2',\r\n    name: 'Jane Inspector',\r\n    email: 'jane@inspect.gov',\r\n    password: 'password123',\r\n    role: 'inspector' as UserRole,\r\n    address: 'Cape Town, Western Cape'\r\n  },\r\n  {\r\n    id: '3',\r\n    name: 'Bob Retailer',\r\n    email: 'bob@retail.com',\r\n    password: 'password123',\r\n    role: 'retailer' as UserRole,\r\n    address: 'Johannesburg, Gauteng'\r\n  },\r\n  {\r\n    id: '4',\r\n    name: 'Admin User',\r\n    email: 'admin@system.com',\r\n    password: 'admin123',\r\n    role: 'admin' as UserRole,\r\n    address: 'Pretoria, Gauteng'\r\n  },\r\n  {\r\n    id: '5',\r\n    name: 'Charlie Packaging',\r\n    email: 'charlie@packaging.com',\r\n    password: 'password123',\r\n    role: 'packaging' as UserRole,\r\n    address: 'Durban, KwaZulu-Natal'\r\n  }\r\n];\r\n\r\nexport interface LoginCredentials {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\nexport interface RegisterData {\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n  role: UserRole;\r\n  address?: string;\r\n}\r\n\r\nexport interface AuthResponse {\r\n  success: boolean;\r\n  user?: User;\r\n  error?: string;\r\n  token?: string;\r\n}\r\n\r\nclass AuthService {\r\n  private users: typeof MOCK_USERS;\r\n\r\n  constructor() {\r\n    // Initialize with mock users\r\n    this.users = [...MOCK_USERS];\r\n    // Load any additional users from localStorage (only on client side)\r\n    if (typeof window !== 'undefined') {\r\n      const storedUsers = localStorage.getItem('registeredUsers');\r\n      if (storedUsers) {\r\n        try {\r\n          const parsedUsers = JSON.parse(storedUsers);\r\n          this.users.push(...parsedUsers);\r\n        } catch (error) {\r\n          console.error('Failed to parse stored users:', error);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Simulate API delay\r\n  private delay(ms: number = 1000): Promise<void> {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n\r\n  // Generate JWT-like token (in production, use proper JWT)\r\n  private generateToken(user: User): string {\r\n    const payload = {\r\n      id: user.id,\r\n      email: user.email,\r\n      role: user.role,\r\n      exp: Date.now() + (24 * 60 * 60 * 1000) // 24 hours\r\n    };\r\n    return btoa(JSON.stringify(payload));\r\n  }\r\n\r\n  // Verify token\r\n  private verifyToken(token: string): User | null {\r\n    try {\r\n      const payload = JSON.parse(atob(token));\r\n      if (payload.exp < Date.now()) {\r\n        return null; // Token expired\r\n      }\r\n      \r\n      const user = this.users.find(u => u.id === payload.id);\r\n      if (!user) return null;\r\n\r\n      // Return user without password\r\n      const { password, ...userWithoutPassword } = user;\r\n      return {\r\n        ...userWithoutPassword,\r\n        permissions: {\r\n          canCreate: ROLE_PERMISSIONS[user.role].canCreate,\r\n          canVerify: ROLE_PERMISSIONS[user.role].canVerify,\r\n          canView: ROLE_PERMISSIONS[user.role].canView\r\n        }\r\n      };\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Login method\r\n  async login(credentials: LoginCredentials): Promise<AuthResponse> {\r\n    await this.delay(); // Simulate network delay\r\n\r\n    const user = this.users.find(u => u.email === credentials.email);\r\n    \r\n    if (!user) {\r\n      return {\r\n        success: false,\r\n        error: 'Invalid email or password'\r\n      };\r\n    }\r\n\r\n    if (user.password !== credentials.password) {\r\n      return {\r\n        success: false,\r\n        error: 'Invalid email or password'\r\n      };\r\n    }\r\n\r\n    // Remove password from user object\r\n    const { password, ...userWithoutPassword } = user;\r\n    const userWithPermissions = {\r\n      ...userWithoutPassword,\r\n      permissions: {\r\n        canCreate: ROLE_PERMISSIONS[user.role].canCreate,\r\n        canVerify: ROLE_PERMISSIONS[user.role].canVerify,\r\n        canView: ROLE_PERMISSIONS[user.role].canView\r\n      }\r\n    };\r\n\r\n    const token = this.generateToken(userWithPermissions);\r\n\r\n    // Store session\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem('authToken', token);\r\n      localStorage.setItem('user', JSON.stringify(userWithPermissions));\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      user: userWithPermissions,\r\n      token\r\n    };\r\n  }\r\n\r\n  // Register method\r\n  async register(data: RegisterData): Promise<AuthResponse> {\r\n    await this.delay(); // Simulate network delay\r\n\r\n    // Check if user already exists\r\n    const existingUser = this.users.find(u => u.email === data.email);\r\n    if (existingUser) {\r\n      return {\r\n        success: false,\r\n        error: 'User with this email already exists'\r\n      };\r\n    }\r\n\r\n    // Validate password strength\r\n    if (data.password.length < 6) {\r\n      return {\r\n        success: false,\r\n        error: 'Password must be at least 6 characters long'\r\n      };\r\n    }\r\n\r\n    // Create new user\r\n    const newUser = {\r\n      id: Date.now().toString(),\r\n      name: data.name,\r\n      email: data.email,\r\n      password: data.password, // In production, hash this\r\n      role: data.role,\r\n      address: data.address || ''\r\n    };\r\n\r\n    // Add to users array\r\n    this.users.push(newUser);\r\n\r\n    // Save to localStorage for persistence\r\n    if (typeof window !== 'undefined') {\r\n      const registeredUsers = this.users.filter(u => !MOCK_USERS.find(mu => mu.id === u.id));\r\n      localStorage.setItem('registeredUsers', JSON.stringify(registeredUsers));\r\n    }\r\n\r\n    // Remove password and create user with permissions\r\n    const { password, ...userWithoutPassword } = newUser;\r\n    const userWithPermissions = {\r\n      ...userWithoutPassword,\r\n      permissions: {\r\n        canCreate: ROLE_PERMISSIONS[newUser.role].canCreate,\r\n        canVerify: ROLE_PERMISSIONS[newUser.role].canVerify,\r\n        canView: ROLE_PERMISSIONS[newUser.role].canView\r\n      }\r\n    };\r\n\r\n    const token = this.generateToken(userWithPermissions);\r\n\r\n    // Store session\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem('authToken', token);\r\n      localStorage.setItem('user', JSON.stringify(userWithPermissions));\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      user: userWithPermissions,\r\n      token\r\n    };\r\n  }\r\n\r\n  // Logout method\r\n  async logout(): Promise<void> {\r\n    await this.delay(500); // Simulate network delay\r\n    \r\n    // Clear session\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.removeItem('authToken');\r\n      localStorage.removeItem('user');\r\n    }\r\n  }\r\n\r\n  // Get current user from token\r\n  getCurrentUser(): User | null {\r\n    if (typeof window === 'undefined') return null;\r\n    \r\n    const token = localStorage.getItem('authToken');\r\n    if (!token) return null;\r\n\r\n    return this.verifyToken(token);\r\n  }\r\n\r\n  // Check if user is authenticated\r\n  isAuthenticated(): boolean {\r\n    return this.getCurrentUser() !== null;\r\n  }\r\n\r\n  // Refresh token\r\n  async refreshToken(): Promise<AuthResponse> {\r\n    if (typeof window === 'undefined') {\r\n      return { success: false, error: 'Not available on server' };\r\n    }\r\n\r\n    const token = localStorage.getItem('authToken');\r\n    if (!token) {\r\n      return { success: false, error: 'No token found' };\r\n    }\r\n\r\n    const user = this.verifyToken(token);\r\n    if (!user) {\r\n      return { success: false, error: 'Invalid token' };\r\n    }\r\n\r\n    const newToken = this.generateToken(user);\r\n    localStorage.setItem('authToken', newToken);\r\n\r\n    return {\r\n      success: true,\r\n      user,\r\n      token: newToken\r\n    };\r\n  }\r\n\r\n  // Update user profile\r\n  async updateProfile(updates: Partial<User>): Promise<AuthResponse> {\r\n    await this.delay();\r\n\r\n    const currentUser = this.getCurrentUser();\r\n    if (!currentUser) {\r\n      return { success: false, error: 'Not authenticated' };\r\n    }\r\n\r\n    // Update user in array\r\n    const userIndex = this.users.findIndex(u => u.id === currentUser.id);\r\n    if (userIndex === -1) {\r\n      return { success: false, error: 'User not found' };\r\n    }\r\n\r\n    this.users[userIndex] = {\r\n      ...this.users[userIndex],\r\n      ...updates\r\n    };\r\n\r\n    // Update stored user\r\n    const updatedUser = { ...currentUser, ...updates };\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem('user', JSON.stringify(updatedUser));\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      user: updatedUser\r\n    };\r\n  }\r\n\r\n  // Change password\r\n  async changePassword(oldPassword: string, newPassword: string): Promise<AuthResponse> {\r\n    await this.delay();\r\n\r\n    const currentUser = this.getCurrentUser();\r\n    if (!currentUser) {\r\n      return { success: false, error: 'Not authenticated' };\r\n    }\r\n\r\n    // Find user with password\r\n    const userIndex = this.users.findIndex(u => u.id === currentUser.id);\r\n    if (userIndex === -1) {\r\n      return { success: false, error: 'User not found' };\r\n    }\r\n\r\n    const user = this.users[userIndex];\r\n    if (user.password !== oldPassword) {\r\n      return { success: false, error: 'Current password is incorrect' };\r\n    }\r\n\r\n    // Validate new password\r\n    if (newPassword.length < 6) {\r\n      return { success: false, error: 'New password must be at least 6 characters long' };\r\n    }\r\n\r\n    // Update password\r\n    this.users[userIndex] = {\r\n      ...user,\r\n      password: newPassword\r\n    };\r\n\r\n    return {\r\n      success: true,\r\n      user: currentUser\r\n    };\r\n  }\r\n}\r\n\r\nexport const authService = new AuthService();\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 551, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/constants/users.ts"],"sourcesContent":["// src/constants/users.ts\r\n\r\nimport { User, UserRole } from '@/types/user';\r\n\r\nexport const DEMO_USERS: User[] = [\r\n  {\r\n    id: 'user_1',\r\n    name: 'John Farmer',\r\n    email: 'john@farm.com',\r\n    role: 'farmer',\r\n    permissions: {\r\n      canCreate: true,\r\n      canVerify: false\r\n    }\r\n  },\r\n  {\r\n    id: 'user_2',\r\n    name: 'Jane Inspector',\r\n    email: 'jane@inspect.com',\r\n    role: 'inspector',\r\n    permissions: {\r\n      canCreate: false,\r\n      canVerify: true\r\n    }\r\n  },\r\n  {\r\n    id: 'user_3',\r\n    name: 'Bob Retailer',\r\n    email: 'bob@retail.com',\r\n    role: 'retailer',\r\n    permissions: {\r\n      canCreate: false,\r\n      canVerify: true\r\n    }\r\n  },\r\n  {\r\n    id: 'user_4',\r\n    name: 'Alice Logistics',\r\n    email: 'alice@logistics.com',\r\n    role: 'logistics',\r\n    permissions: {\r\n      canCreate: false,\r\n      canVerify: false\r\n    }\r\n  },\r\n  {\r\n    id: 'user_5',\r\n    name: 'Charlie Packaging',\r\n    email: 'charlie@packaging.com',\r\n    role: 'packaging',\r\n    permissions: {\r\n      canCreate: true,\r\n      canVerify: false\r\n    }\r\n  },\r\n  {\r\n    id: 'user_6',\r\n    name: 'Dana Viewer',\r\n    email: 'dana@viewer.com',\r\n    role: 'viewer',\r\n    permissions: {\r\n      canCreate: false,\r\n      canVerify: false\r\n    }\r\n  },\r\n  {\r\n    id: 'user_7',\r\n    name: 'Eve Government',\r\n    email: 'eve@gov.com',\r\n    role: 'government',\r\n    permissions: {\r\n      canCreate: false,\r\n      canVerify: true\r\n    }\r\n  }\r\n];\r\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;AAIlB,MAAM,aAAqB;IAChC;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,aAAa;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,aAAa;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,aAAa;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,aAAa;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,aAAa;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,aAAa;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,MAAM;QACN,aAAa;YACX,WAAW;YACX,WAAW;QACb;IACF;CACD"}},
    {"offset": {"line": 635, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/contexts/userContext.tsx"],"sourcesContent":["// src/contexts/userContext.tsx\r\nimport { createContext, \r\n  useContext, \r\n  useState, \r\n  ReactNode, \r\n  useCallback, \r\n  useEffect, \r\n  useMemo } from 'react';\r\nimport { User, UserRole, UserContextType } from '@/types/user';\r\nimport { ROLE_PERMISSIONS } from '@/types/user';\r\nimport { useRouter } from 'next/navigation';\r\nimport { authService } from '../lib/auth';\r\nimport { DEMO_USERS } from '@/constants/users';\r\n\r\n// Create the context with the correct type\r\nexport const UserContext = createContext<UserContextType | undefined>(undefined);\r\n\r\nexport function UserProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const router = useRouter();\r\n\r\n  const currentUser = user; // Alias for compatibility\r\n\r\n  const switchUser = useCallback((userId: string) => {\r\n    // Find user in mock data\r\n    const mockUser = DEMO_USERS.find(u => u.id === userId);\r\n    if (mockUser) {\r\n      setUser(mockUser);\r\n    }\r\n  }, []);\r\n\r\n  const setUserWithPersistence = useCallback((newUser: User | null) => {\r\n    setUser(newUser);\r\n    // In-memory state for demo purposes (no localStorage for security)\r\n  }, []);\r\n\r\n  const updateUserRole = useCallback((role: UserRole) => {\r\n    setUser(prevUser => {\r\n      if (!prevUser) return null;\r\n      return {\r\n        ...prevUser,\r\n        role,\r\n        permissions: {\r\n          canCreate: ROLE_PERMISSIONS[role].canCreate,\r\n          canVerify: ROLE_PERMISSIONS[role].canVerify,\r\n          canView: ROLE_PERMISSIONS[role].canView\r\n        }\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  // Initialize user from auth service on mount\r\n  useEffect(() => {\r\n    const currentUser = authService.getCurrentUser();\r\n    if (currentUser) {\r\n      // Ensure user has required permissions structure\r\n      const userWithPermissions: User = {\r\n        ...currentUser,\r\n        permissions: {\r\n          canCreate: ROLE_PERMISSIONS[currentUser.role].canCreate,\r\n          canVerify: ROLE_PERMISSIONS[currentUser.role].canVerify,\r\n          canView: ROLE_PERMISSIONS[currentUser.role].canView\r\n        }\r\n      };\r\n      setUser(userWithPermissions);\r\n    } else {\r\n      // For demo purposes, set default viewer user if no user is logged in (public access)\r\n      const viewerUser = DEMO_USERS.find(u => u.role === 'viewer');\r\n      if (viewerUser) {\r\n        setUser(viewerUser);\r\n      }\r\n    }\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const contextValue: UserContextType = useMemo(() => ({\r\n    user,\r\n    currentUser,\r\n    setUser,\r\n    updateUserRole,\r\n    switchUser,\r\n    loading\r\n  }), [user, loading, updateUserRole, switchUser]);\r\n\r\n  return (\r\n    <UserContext.Provider value={contextValue}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useUser() {\r\n  const context = useContext(UserContext);\r\n  if (context === undefined) {\r\n    throw new Error('useUser must be used within a UserProvider');\r\n  }\r\n  return context;\r\n}"],"names":[],"mappings":";;;;;;;;;AAAA,+BAA+B;AAC/B;AAQA;AACA;AACA;AACA;;;;;;;;AAGO,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAE/D,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,cAAc,MAAM,0BAA0B;IAEpD,MAAM,aAAa,IAAA,4KAAW;gDAAC,CAAC;YAC9B,yBAAyB;YACzB,MAAM,WAAW,mIAAU,CAAC,IAAI;iEAAC,CAAA,IAAK,EAAE,EAAE,KAAK;;YAC/C,IAAI,UAAU;gBACZ,QAAQ;YACV;QACF;+CAAG,EAAE;IAEL,MAAM,yBAAyB,IAAA,4KAAW;4DAAC,CAAC;YAC1C,QAAQ;QACR,mEAAmE;QACrE;2DAAG,EAAE;IAEL,MAAM,iBAAiB,IAAA,4KAAW;oDAAC,CAAC;YAClC;4DAAQ,CAAA;oBACN,IAAI,CAAC,UAAU,OAAO;oBACtB,OAAO;wBACL,GAAG,QAAQ;wBACX;wBACA,aAAa;4BACX,WAAW,oIAAgB,CAAC,KAAK,CAAC,SAAS;4BAC3C,WAAW,oIAAgB,CAAC,KAAK,CAAC,SAAS;4BAC3C,SAAS,oIAAgB,CAAC,KAAK,CAAC,OAAO;wBACzC;oBACF;gBACF;;QACF;mDAAG,EAAE;IAEL,6CAA6C;IAC7C,IAAA,0KAAS;kCAAC;YACR,MAAM,cAAc,6HAAW,CAAC,cAAc;YAC9C,IAAI,aAAa;gBACf,iDAAiD;gBACjD,MAAM,sBAA4B;oBAChC,GAAG,WAAW;oBACd,aAAa;wBACX,WAAW,oIAAgB,CAAC,YAAY,IAAI,CAAC,CAAC,SAAS;wBACvD,WAAW,oIAAgB,CAAC,YAAY,IAAI,CAAC,CAAC,SAAS;wBACvD,SAAS,oIAAgB,CAAC,YAAY,IAAI,CAAC,CAAC,OAAO;oBACrD;gBACF;gBACA,QAAQ;YACV,OAAO;gBACL,qFAAqF;gBACrF,MAAM,aAAa,mIAAU,CAAC,IAAI;yDAAC,CAAA,IAAK,EAAE,IAAI,KAAK;;gBACnD,IAAI,YAAY;oBACd,QAAQ;gBACV;YACF;YACA,WAAW;QACb;iCAAG,EAAE;IAEL,MAAM,eAAgC,IAAA,wKAAO;8CAAC,IAAM,CAAC;gBACnD;gBACA;gBACA;gBACA;gBACA;gBACA;YACF,CAAC;6CAAG;QAAC;QAAM;QAAS;QAAgB;KAAW;IAE/C,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAC1B;;;;;;AAGP;GAzEgB;;QAGC,kJAAS;;;KAHV;AA2ET,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 774, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/types/product.ts"],"sourcesContent":["// src/types/product.ts\r\n\r\n// 1. Product Categories\r\nexport enum ProductCategory {\r\n  FRUITS = 'Fruit',\r\n  VEGETABLES = 'Veg',\r\n  BEEF = 'Beef',\r\n  POULTRY = 'Poultry',\r\n  PORK = 'Pork',\r\n  LAMB = 'Lamb',\r\n  GOAT = 'Goat',\r\n  FISH = 'Fish'\r\n}\r\n\r\n// 2. Status Types\r\nexport type ProductStatus = 'pending' | 'verified' | 'rejected';\r\nexport type VerificationStatus = 'verified' | 'failed' | 'expired' | 'already_verified';\r\nexport type InspectionStatus = 'pending' | 'passed' | 'failed';\r\n\r\n// 3. Metadata and Related Types\r\nexport interface ProductMetadata {\r\n  organic?: boolean;\r\n  weight?: string;\r\n  // Add other known metadata fields here\r\n  [key: string]: unknown; // Keep flexibility for additional fields\r\n}\r\n\r\nexport interface VerificationMetadata {\r\n  ipAddress?: string;\r\n  userAgent?: string;\r\n  location: string;\r\n}\r\n\r\n// 4. Core Product Types\r\nexport interface ProductBase {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  category: ProductCategory;\r\n  location: string;\r\n  harvestDate: string; // ISO date string\r\n  batchSize: string;\r\n  photos: string[];\r\n  certifications: string[];\r\n  status: ProductStatus;\r\n  verifications: number;\r\n  createdAt: string; // ISO date string\r\n  updatedAt?: string; // ISO date string\r\n  transactionFee?: number;\r\n  blockHash?: string;\r\n  farmerAddress?: string;\r\n  farmerId?: string;\r\n  farmerName?: string;\r\n  metadata?: ProductMetadata;\r\n  lastVerified?: string | null; // ISO date string\r\n}\r\n\r\nexport interface Product extends ProductBase {}\r\n\r\n// 5. DTOs for API Operations\r\nexport interface CreateProduct {\r\n  name: string;\r\n  description: string;\r\n  category: ProductCategory;\r\n  location: string;\r\n  harvestDate: string; // ISO date string\r\n  batchSize: string;\r\n  photos?: string[];\r\n  certifications?: string[];\r\n  metadata?: ProductMetadata;\r\n}\r\n\r\nexport interface UpdateProduct extends Partial<CreateProduct> {\r\n  id: string;\r\n  status?: ProductStatus;\r\n}\r\n\r\n// 6. View-Specific Types\r\nexport interface ProductDisplay extends Omit<Product, 'name'> {\r\n  productName: string; // For backward compatibility\r\n  verificationCount: number;\r\n}\r\n\r\nexport interface ProductModalData extends Omit<Product, 'name'> {\r\n  productName: string;\r\n  transactionFee?: number;\r\n  blockHash?: string;\r\n  farmerAddress?: string;\r\n}\r\n\r\n// 7. Event and Verification Types\r\nexport interface ProductEvent {\r\n  id: string;\r\n  type: string;\r\n  productId: string;\r\n  timestamp: string; // ISO date string\r\n  data: Record<string, unknown>;\r\n}\r\n\r\nexport interface VerificationData {\r\n  notes?: string;\r\n  location?: string;\r\n}\r\n\r\nexport interface VerificationRecord {\r\n  id: string;\r\n  productId: string;\r\n  verifiedAt: string; // ISO date string\r\n  verifiedBy: string;\r\n  status: VerificationStatus;\r\n  notes?: string;\r\n  metadata?: VerificationMetadata;\r\n}\r\n\r\nexport interface VerificationResult {\r\n  success: boolean;\r\n  record?: VerificationRecord;\r\n  error?: string;\r\n  message?: string;\r\n  statusCode?: number;\r\n}\r\n\r\n// 8. Inspection Types\r\nexport interface Inspection {\r\n  id: string;\r\n  productId: string;\r\n  productName: string;\r\n  category: ProductCategory;\r\n  status: InspectionStatus;\r\n  inspector: string;\r\n  scheduledDate: string; // ISO date string\r\n  completedDate?: string; // ISO date string\r\n  notes?: string;\r\n  issues?: string[];\r\n}\r\n\r\n// 9. Queue Item for Background Processing\r\nexport interface QueueItem<T = unknown> {\r\n  id: string;\r\n  type: string;\r\n  data: T;\r\n  createdAt: string; // ISO date string\r\n  retryCount?: number;\r\n  status: 'pending' | 'processing' | 'completed' | 'failed';\r\n  error?: string;\r\n}\r\n\r\n// 10. Type Guards\r\nexport function isProductStatus(status: string): status is ProductStatus {\r\n  return ['pending', 'verified', 'rejected'].includes(status);\r\n}\r\n\r\nexport function isProductCategory(category: string): category is ProductCategory {\r\n  return Object.values(ProductCategory).includes(category as ProductCategory);\r\n}"],"names":[],"mappings":"AAAA,uBAAuB;AAEvB,wBAAwB;;;;;;;;;AACjB,IAAA,AAAK,yCAAA;;;;;;;;;WAAA;;AAiJL,SAAS,gBAAgB,MAAc;IAC5C,OAAO;QAAC;QAAW;QAAY;KAAW,CAAC,QAAQ,CAAC;AACtD;AAEO,SAAS,kBAAkB,QAAgB;IAChD,OAAO,OAAO,MAAM,CAAC,iBAAiB,QAAQ,CAAC;AACjD"}},
    {"offset": {"line": 812, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/lib/utils.ts"],"sourcesContent":["// src/lib/utils.ts\r\nimport { type ClassValue, clsx } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n\r\nexport function generateBlockHash(): string {\r\n  return '0x' + Math.random().toString(16).substr(2, 40);\r\n}\r\n\r\nexport function generateAddress(): string {\r\n  return '0x' + Math.random().toString(16).substr(2, 40);\r\n}\r\n\r\nexport function generateBlockId(currentLength: number): string {\r\n  return `BLK${String(currentLength + 1).padStart(3, '0')}`;\r\n}\r\n\r\nexport function formatDate(date: string): string {\r\n  return new Date(date).toLocaleDateString();\r\n}\r\n\r\nexport function formatDateTime(date: string | number): string {\r\n  return new Date(date).toLocaleString();\r\n}"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,mBAAmB;AACnB;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAEO,SAAS;IACd,OAAO,OAAO,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;AACrD;AAEO,SAAS;IACd,OAAO,OAAO,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;AACrD;AAEO,SAAS,gBAAgB,aAAqB;IACnD,OAAO,CAAC,GAAG,EAAE,OAAO,gBAAgB,GAAG,QAAQ,CAAC,GAAG,MAAM;AAC3D;AAEO,SAAS,WAAW,IAAY;IACrC,OAAO,IAAI,KAAK,MAAM,kBAAkB;AAC1C;AAEO,SAAS,eAAe,IAAqB;IAClD,OAAO,IAAI,KAAK,MAAM,cAAc;AACtC"}},
    {"offset": {"line": 856, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/lib/blockchain.ts"],"sourcesContent":["// src/lib/blockchain.ts\r\nimport { BlockchainRecord } from '@/types/blockchain';\r\nimport { CreateProduct } from '@/types/product';\r\nimport { generateBlockHash, generateAddress, generateBlockId } from './utils';\r\n\r\ntype TransactionParam = string | number | boolean | Record<string, unknown> | TransactionParam[];\r\n\r\nexport function createBlockchainRecord(\r\n  product: CreateProduct,\r\n  currentRecordsLength: number,\r\n  farmerName: string = 'Current Farm'\r\n): BlockchainRecord {\r\n  return {\r\n    id: generateBlockId(currentRecordsLength),\r\n    productName: product.name,  // Map name to productName\r\n    category: product.category,\r\n    location: product.location,\r\n    description: product.description || '',\r\n    harvestDate: product.harvestDate,\r\n    batchSize: product.batchSize,\r\n    certifications: product.certifications || [],\r\n    farmer: farmerName,\r\n    farmerAddress: generateAddress(),\r\n    blockHash: generateBlockHash(),\r\n    txHash: generateBlockHash(),\r\n    verified: true,\r\n    timestamp: Date.now(),\r\n    status: 'Certified',\r\n    transactionFee: Math.random() * 0.005 + 0.001,\r\n    verifications: 1,\r\n  };\r\n}\r\n\r\nexport function incrementVerification(record: BlockchainRecord): BlockchainRecord {\r\n  return {\r\n    ...record,\r\n    verifications: (record.verifications || 0) + 1,\r\n  };\r\n}\r\n\r\nexport const mockBlockchain = {\r\n  async sendTransaction(method: string, params: TransactionParam[]) {\r\n    console.log('Mock blockchain transaction:', { method, params });\r\n    await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate block time\r\n    \r\n    // Simulate random failures (10% chance)\r\n    if (Math.random() < 0.1) {\r\n      throw new Error('Blockchain transaction failed (simulated)');\r\n    }\r\n    \r\n    return {\r\n      hash: `0x${Math.random().toString(16).substr(2, 64)}`,\r\n      blockNumber: Math.floor(Math.random() * 10000),\r\n    };\r\n  },\r\n};"],"names":[],"mappings":"AAAA,wBAAwB;;;;;;;;;AAGxB;;AAIO,SAAS,uBACd,OAAsB,EACtB,oBAA4B,EAC5B,aAAqB,cAAc;IAEnC,OAAO;QACL,IAAI,IAAA,kIAAe,EAAC;QACpB,aAAa,QAAQ,IAAI;QACzB,UAAU,QAAQ,QAAQ;QAC1B,UAAU,QAAQ,QAAQ;QAC1B,aAAa,QAAQ,WAAW,IAAI;QACpC,aAAa,QAAQ,WAAW;QAChC,WAAW,QAAQ,SAAS;QAC5B,gBAAgB,QAAQ,cAAc,IAAI,EAAE;QAC5C,QAAQ;QACR,eAAe,IAAA,kIAAe;QAC9B,WAAW,IAAA,oIAAiB;QAC5B,QAAQ,IAAA,oIAAiB;QACzB,UAAU;QACV,WAAW,KAAK,GAAG;QACnB,QAAQ;QACR,gBAAgB,KAAK,MAAM,KAAK,QAAQ;QACxC,eAAe;IACjB;AACF;AAEO,SAAS,sBAAsB,MAAwB;IAC5D,OAAO;QACL,GAAG,MAAM;QACT,eAAe,CAAC,OAAO,aAAa,IAAI,CAAC,IAAI;IAC/C;AACF;AAEO,MAAM,iBAAiB;IAC5B,MAAM,iBAAgB,MAAc,EAAE,MAA0B;QAC9D,QAAQ,GAAG,CAAC,gCAAgC;YAAE;YAAQ;QAAO;QAC7D,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS,QAAQ,sBAAsB;QAE/E,wCAAwC;QACxC,IAAI,KAAK,MAAM,KAAK,KAAK;YACvB,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO;YACL,MAAM,CAAC,EAAE,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,KAAK;YACrD,aAAa,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;QAC1C;IACF;AACF"}},
    {"offset": {"line": 918, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/lib/constants.ts"],"sourcesContent":["// src/lib/constants.ts\r\n\r\nimport { ProductCategory } from '@/types/product';\r\n\r\nexport const INITIAL_METRICS = {\r\n  totalProducts: 0,\r\n  totalVerifications: 0,\r\n  successfulVerifications: 0,\r\n  lastVerification: undefined,\r\n  totalInspections: 0,\r\n  totalTransactions: 0,\r\n  monthlyRevenue: 0,\r\n  activeFarms: 0,\r\n  connectedRetailers: 0,\r\n  averageFee: 0.002,\r\n  productsByCategory: {} as Record<ProductCategory, number>,\r\n  inspectionsByCategory: {} as Record<ProductCategory, {\r\n    total: number;\r\n    passed: number;\r\n    failed: number;\r\n    passRate: number;\r\n  }>,\r\n  systemUptime: Date.now(),\r\n  lastActivity: new Date().toISOString()\r\n};\r\n\r\nexport const CATEGORY_COLORS: Record<ProductCategory, { bg: string; text: string; icon: any }> = {\r\n  [ProductCategory.FRUITS]: { bg: 'bg-green-100', text: 'text-green-800', icon: 'üçé' },\r\n  [ProductCategory.VEGETABLES]: { bg: 'bg-emerald-100', text: 'text-emerald-800', icon: 'ü•¨' },\r\n  [ProductCategory.BEEF]: { bg: 'bg-red-100', text: 'text-red-800', icon: 'ü•©' },\r\n  [ProductCategory.POULTRY]: { bg: 'bg-yellow-100', text: 'text-yellow-800', icon: 'üêî' },\r\n  [ProductCategory.PORK]: { bg: 'bg-pink-100', text: 'text-pink-800', icon: 'ü•ì' },\r\n  [ProductCategory.LAMB]: { bg: 'bg-purple-100', text: 'text-purple-800', icon: 'üêë' },\r\n  [ProductCategory.GOAT]: { bg: 'bg-orange-100', text: 'text-orange-800', icon: 'üêê' },\r\n  [ProductCategory.FISH]: { bg: 'bg-blue-100', text: 'text-blue-800', icon: 'üêü' },\r\n};\r\n\r\nexport const eventTypes = [\r\n  { value: 'planting', label: 'Planting' },\r\n  { value: 'growth', label: 'Growth Monitoring' },\r\n  { value: 'harvest', label: 'Harvest' },\r\n  { value: 'quality-inspection', label: 'Quality Inspection' },\r\n  { value: 'packaging', label: 'Packaging' },\r\n  { value: 'transport', label: 'Transport' },\r\n  { value: 'delivery', label: 'Delivery' },\r\n  { value: 'verification', label: 'Verification' },\r\n];\r\n\r\nexport const eventTypeValues = eventTypes.map(type => type.value) as [string, ...string[]];\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA,uBAAuB;AAEvB;;AAEO,MAAM,kBAAkB;IAC7B,eAAe;IACf,oBAAoB;IACpB,yBAAyB;IACzB,kBAAkB;IAClB,kBAAkB;IAClB,mBAAmB;IACnB,gBAAgB;IAChB,aAAa;IACb,oBAAoB;IACpB,YAAY;IACZ,oBAAoB,CAAC;IACrB,uBAAuB,CAAC;IAMxB,cAAc,KAAK,GAAG;IACtB,cAAc,IAAI,OAAO,WAAW;AACtC;AAEO,MAAM,kBAAoF;IAC/F,CAAC,sIAAe,CAAC,MAAM,CAAC,EAAE;QAAE,IAAI;QAAgB,MAAM;QAAkB,MAAM;IAAK;IACnF,CAAC,sIAAe,CAAC,UAAU,CAAC,EAAE;QAAE,IAAI;QAAkB,MAAM;QAAoB,MAAM;IAAK;IAC3F,CAAC,sIAAe,CAAC,IAAI,CAAC,EAAE;QAAE,IAAI;QAAc,MAAM;QAAgB,MAAM;IAAK;IAC7E,CAAC,sIAAe,CAAC,OAAO,CAAC,EAAE;QAAE,IAAI;QAAiB,MAAM;QAAmB,MAAM;IAAK;IACtF,CAAC,sIAAe,CAAC,IAAI,CAAC,EAAE;QAAE,IAAI;QAAe,MAAM;QAAiB,MAAM;IAAK;IAC/E,CAAC,sIAAe,CAAC,IAAI,CAAC,EAAE;QAAE,IAAI;QAAiB,MAAM;QAAmB,MAAM;IAAK;IACnF,CAAC,sIAAe,CAAC,IAAI,CAAC,EAAE;QAAE,IAAI;QAAiB,MAAM;QAAmB,MAAM;IAAK;IACnF,CAAC,sIAAe,CAAC,IAAI,CAAC,EAAE;QAAE,IAAI;QAAe,MAAM;QAAiB,MAAM;IAAK;AACjF;AAEO,MAAM,aAAa;IACxB;QAAE,OAAO;QAAY,OAAO;IAAW;IACvC;QAAE,OAAO;QAAU,OAAO;IAAoB;IAC9C;QAAE,OAAO;QAAW,OAAO;IAAU;IACrC;QAAE,OAAO;QAAsB,OAAO;IAAqB;IAC3D;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAY,OAAO;IAAW;IACvC;QAAE,OAAO;QAAgB,OAAO;IAAe;CAChD;AAEM,MAAM,kBAAkB,WAAW,GAAG,CAAC,CAAA,OAAQ,KAAK,KAAK"}},
    {"offset": {"line": 1031, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/contexts/productContext.tsx"],"sourcesContent":["// src/contexts/ProductContext.tsx\r\n'use client';\r\n\r\nimport React, { createContext, useContext, useState, ReactNode, useMemo } from 'react';\r\nimport { BlockchainRecord } from '@/types/blockchain';\r\nimport { CreateProduct, Product, ProductCategory, ProductStatus } from '@/types/product';\r\nimport { BusinessMetrics } from '@/types/metrics';\r\nimport { createBlockchainRecord, incrementVerification } from '@/lib/blockchain';\r\nimport { INITIAL_METRICS } from '@/lib/constants';\r\n\r\n// Re-export ProductCategory for other components\r\nexport { ProductCategory } from '@/types/product';\r\n\r\ninterface ProductContextType {\r\n  blockchainRecords: BlockchainRecord[];\r\n  businessMetrics: BusinessMetrics;\r\n  selectedProduct: BlockchainRecord | null;\r\n  selectedCategory: ProductCategory | 'All';\r\n  searchQuery: string;\r\n  addProduct: (product: CreateProduct, farmerName?: string) => void;\r\n  verifyProduct: (productId: string) => void;\r\n  setSelectedProduct: (product: BlockchainRecord | null) => void;\r\n  setSelectedCategory: (category: ProductCategory | 'All') => void;\r\n  setSearchQuery: (query: string) => void;\r\n  filteredRecords: BlockchainRecord[];\r\n  categoryStats: Record<ProductCategory, number>;\r\n  products: Product[],\r\n  isLoading?: boolean;\r\n}\r\n\r\nconst ProductContext = createContext<ProductContextType | undefined>(undefined);\r\n\r\nconst INITIAL_RECORDS: BlockchainRecord[] = [\r\n  {\r\n    id: 'BLK001',\r\n    productName: 'Organic Apples',\r\n    description: 'Fresh organic apples from Green Valley Farm',\r\n    category: ProductCategory.FRUITS,\r\n    farmer: 'Green Valley Farm',\r\n    farmerAddress: '0x742d35Cc6634C0532925a3b8D1750B87B02B6C71',\r\n    location: 'Stellenbosch, Western Cape',\r\n    harvestDate: '2025-09-10',\r\n    certifications: ['Organic', 'Fair Trade'],\r\n    batchSize: '500kg',\r\n    blockHash: '0x4f3c2a1b8e7d6c5a9b8e7f6d5c4a3b2c1d0e9f8a',\r\n    timestamp: new Date('2025-09-10T08:30:00Z').getTime(),\r\n    status: 'Certified',\r\n    txHash: '0x4f3c2a1b8e7d6c5a9b8e7f6d5c4a3b2c1d0e9f8a',\r\n    verified: true,\r\n    transactionFee: 0.002,\r\n    verifications: 3,\r\n  },\r\n  {\r\n    id: 'BLK002',\r\n    productName: 'Free-Range Eggs',\r\n    description: 'Fresh free-range eggs from happy chickens',\r\n    category: ProductCategory.POULTRY,\r\n    farmer: 'Sunrise Poultry',\r\n    farmerAddress: '0x8b3e4d2a1c9f8e7d6c5b4a3f2e1d0c9b8a7f6e5d',\r\n    location: 'Robertson, Western Cape',\r\n    harvestDate: '2025-09-11',\r\n    certifications: ['Free-Range', 'Animal Welfare Approved'],\r\n    batchSize: '1200 eggs',\r\n    blockHash: '0x7e6d5c4b3a2f1e0d9c8b7a6f5e4d3c2b1a0f9e8d',\r\n    timestamp: new Date('2025-09-11T06:15:00Z').getTime(),\r\n    status: 'In Transit',\r\n    txHash: '0x7e6d5c4b3a2f1e0d9c8b7a6f5e4d3c2b1a0f9e8d',\r\n    verified: true,\r\n    transactionFee: 0.0015,\r\n    verifications: 1,\r\n  },\r\n  {\r\n    id: 'BLK003',\r\n    productName: 'Grass-Fed Beef',\r\n    description: 'Fresh beef from happy beef',\r\n    category: ProductCategory.BEEF,\r\n    farmer: 'Karoo Cattle Co.',\r\n    farmerAddress: '0x9c4f5e6d7a8b9c0e1f2a3b4c5d6e7f8a9b0c1d2e',\r\n    location: 'Graaff-Reinet, Eastern Cape',\r\n    harvestDate: '2025-09-12',\r\n    certifications: ['Organic', 'Animal Welfare Approved', 'Sustainable'],\r\n    batchSize: '250kg',\r\n    blockHash: '0x8f7e6d5c4b3a2f1e0d9c8b7a6f5e4d3c2b1a0f9e',\r\n    timestamp: new Date('2025-09-12T10:20:00Z').getTime(),\r\n    status: 'Certified',\r\n    txHash: '0x8f7e6d5c4b3a2f1e0d9c8b7a6f5e4d3c2b1a0f9e',\r\n    verified: true,\r\n    transactionFee: 0.0025,\r\n    verifications: 5,\r\n  },\r\n  {\r\n    id: 'BLK004',\r\n    productName: 'Fresh Spinach',\r\n    description: 'Fresh spinach from Green Valley Farm',\r\n    category: ProductCategory.VEGETABLES,\r\n    farmer: 'Leafy Greens Farm',\r\n    farmerAddress: '0x1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b',\r\n    location: 'Paarl, Western Cape',\r\n    harvestDate: '2025-09-13',\r\n    certifications: ['Organic', 'Local'],\r\n    batchSize: '150kg',\r\n    blockHash: '0x2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c',\r\n    timestamp: new Date('2025-09-13T07:30:00Z').getTime(),\r\n    status: 'Certified',\r\n    txHash: '0x2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c',\r\n    verified: true,\r\n    transactionFee: 0.0012,\r\n    verifications: 2,\r\n  },\r\n];\r\n\r\nexport function ProductProvider({ children }: { children: ReactNode }) {\r\n  const [blockchainRecords, setBlockchainRecords] = useState<BlockchainRecord[]>(INITIAL_RECORDS);\r\n  const [businessMetrics, setBusinessMetrics] = useState<BusinessMetrics>(INITIAL_METRICS);\r\n  const [selectedProduct, setSelectedProduct] = useState<BlockchainRecord | null>(null);\r\n  const [selectedCategory, setSelectedCategory] = useState<ProductCategory | 'All'>('All');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const products = useMemo(() => {\r\n    return blockchainRecords.map(record => ({\r\n      id: record.id,\r\n      name: record.productName || 'Unknown Product',\r\n      description: `${record.category} product from ${record.location || 'Unknown Location'}`,\r\n      category: record.category || ProductCategory.FRUITS,\r\n      location: record.location || 'Unknown Location',\r\n      harvestDate: record.timestamp ? new Date(record.timestamp).toISOString() : new Date().toISOString(),\r\n      batchSize: 'Standard',\r\n      photos: [],\r\n      certifications: record.verified ? ['Verified'] : [],\r\n      status: (record.verified ? 'verified' : 'pending') as ProductStatus,\r\n      verifications: record.verifications || 0,\r\n      createdAt: record.timestamp ? new Date(record.timestamp).toISOString() : new Date().toISOString(),\r\n      lastVerified: record.timestamp ? new Date(record.timestamp).toISOString() : null,\r\n      farmerName: record.farmer || 'Unknown Farmer'\r\n    }));\r\n  }, [blockchainRecords]);\r\n\r\n  // Filter records based on category and search\r\n  const filteredRecords = useMemo(() => {\r\n    let filtered = blockchainRecords;\r\n\r\n    // Filter by category\r\n    if (selectedCategory !== 'All') {\r\n      filtered = filtered.filter(record => record.category === selectedCategory);\r\n    }\r\n\r\n    // Filter by search query\r\n    if (searchQuery) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = filtered.filter(record =>\r\n        (record.productName?.toLowerCase().includes(query)) ||\r\n        (record.farmer?.toLowerCase().includes(query)) ||\r\n        (record.location?.toLowerCase().includes(query)) ||\r\n        (record.category?.toLowerCase().includes(query))\r\n      );\r\n    }\r\n\r\n    return filtered;\r\n  }, [blockchainRecords, selectedCategory, searchQuery]);\r\n\r\n  // Calculate category statistics\r\n  const categoryStats = useMemo<Record<ProductCategory, number>>(() => {\r\n    const stats = {} as Record<ProductCategory, number>;\r\n\r\n    // Initialize all categories with 0\r\n    const allCategories: ProductCategory[] = [\r\n      ProductCategory.FRUITS, ProductCategory.VEGETABLES, ProductCategory.BEEF, \r\n      ProductCategory.POULTRY, ProductCategory.PORK, ProductCategory.LAMB, \r\n      ProductCategory.GOAT, ProductCategory.FISH\r\n    ];\r\n    allCategories.forEach(cat => {\r\n      stats[cat] = 0;\r\n    });\r\n    \r\n    // Count records per category\r\n    blockchainRecords.forEach(record => {\r\n      if (record.category && record.category in stats) {\r\n        stats[record.category as ProductCategory]++;\r\n      }\r\n    });\r\n    \r\n    return stats;\r\n  }, [blockchainRecords]);\r\n\r\n  const verifyProduct = async (productId: string) => {\r\n    try {\r\n      // In a real app, you would call your blockchain function here:\r\n      // const result = await incrementVerification(productId);\r\n      \r\n      // For now, we'll simulate a successful verification\r\n      const verificationResult = { success: true };\r\n      \r\n      if (verificationResult.success) {\r\n        // Update blockchain records with new verification\r\n        setBlockchainRecords(prevRecords => \r\n          prevRecords.map(record => {\r\n            if (record.id === productId) {\r\n              return {\r\n                ...record,\r\n                verifications: (record.verifications || 0) + 1,\r\n                lastVerified: new Date().toISOString(),\r\n                verifiedBy: 'retailer',\r\n              };\r\n            }\r\n            return record;\r\n          })\r\n        );\r\n\r\n        // Update business metrics\r\n        setBusinessMetrics(prev => ({\r\n          ...prev,\r\n          totalVerifications: (prev.totalVerifications || 0) + 1,\r\n          lastVerification: new Date().toISOString(),\r\n        }));\r\n\r\n        // Show success message\r\n        // In a real app, you might want to use a toast notification here\r\n        console.log(`Successfully verified product ${productId}`);\r\n      } else {\r\n        console.error('Failed to verify product on the blockchain');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error verifying product:', error);\r\n    }\r\n  };\r\n\r\n  const addProduct = (product: CreateProduct, farmerName?: string) => {\r\n    const newRecord = createBlockchainRecord(product, blockchainRecords.length, farmerName);\r\n    \r\n    setBlockchainRecords((prev) => [...prev, newRecord]);\r\n    setBusinessMetrics((prev) => ({\r\n      ...prev,\r\n      totalTransactions: prev.totalTransactions + 1,\r\n      monthlyRevenue: prev.monthlyRevenue + prev.averageFee,\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <ProductContext.Provider\r\n      value={{\r\n        blockchainRecords,\r\n        businessMetrics,\r\n        selectedProduct,\r\n        selectedCategory,\r\n        searchQuery,\r\n        products,\r\n        addProduct,\r\n        verifyProduct,\r\n        setSelectedProduct,\r\n        setSelectedCategory,\r\n        setSearchQuery,\r\n        filteredRecords,\r\n        categoryStats,\r\n      }}\r\n    >\r\n      {children}\r\n    </ProductContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useProducts(): ProductContextType {\r\n  const context = useContext(ProductContext);\r\n  if (context === undefined) {\r\n    throw new Error('useProducts must be used within a ProductProvider');\r\n  }\r\n  return context;\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1325, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/components/errorBoundary.tsx"],"sourcesContent":["// src/components/errorBoundary.tsx\r\n'use client';\r\n\r\nimport React, { Component, ErrorInfo, ReactNode } from 'react';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error?: Error;\r\n  errorInfo?: ErrorInfo;\r\n  errorId?: string;\r\n}\r\n\r\nclass ErrorBoundary extends Component<Props, State> {\r\n  public state: State = {\r\n    hasError: false\r\n  };\r\n\r\n  public static getDerivedStateFromError(error: Error): State {\r\n    return { \r\n      hasError: true, \r\n      error,\r\n      errorId: `error_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`\r\n    };\r\n  }\r\n\r\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    // Enhanced error logging\r\n    const errorData = {\r\n      errorId: this.state.errorId,\r\n      timestamp: new Date().toISOString(),\r\n      error: {\r\n        name: error.name,\r\n        message: error.message,\r\n        stack: error.stack,\r\n      },\r\n      componentStack: errorInfo.componentStack,\r\n      context: {\r\n        url: typeof window !== 'undefined' ? window.location.href : 'N/A',\r\n        userAgent: typeof navigator !== 'undefined' ? navigator.userAgent : 'N/A',\r\n      },\r\n    };\r\n\r\n    // Log to console in development\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.error('Uncaught error:', errorData);\r\n    }\r\n\r\n    // Log error reporting service (in production, send to monitoring service)\r\n    this.logError(errorData);\r\n\r\n    // Call custom error handler if provided\r\n    if (this.props.onError) {\r\n      this.props.onError(error, errorInfo);\r\n    }\r\n  }\r\n\r\n  private logError = (errorData: any) => {\r\n    try {\r\n      // Store error in localStorage for debugging (only on client)\r\n      if (typeof window !== 'undefined') {\r\n        const existingErrors = JSON.parse(localStorage.getItem('errorLog') || '[]');\r\n        existingErrors.push(errorData);\r\n        \r\n        // Keep only last 50 errors\r\n        if (existingErrors.length > 50) {\r\n          existingErrors.splice(0, existingErrors.length - 50);\r\n        }\r\n        \r\n        localStorage.setItem('errorLog', JSON.stringify(existingErrors));\r\n        \r\n        // In production, you would send this to an error reporting service\r\n        // like Sentry, LogRocket, or a custom endpoint\r\n        if (process.env.NODE_ENV === 'production') {\r\n          // Example: sendToErrorReporting(errorData);\r\n        }\r\n      }\r\n    } catch (loggingError) {\r\n      console.error('Failed to log error:', loggingError);\r\n    }\r\n  };\r\n\r\n  private handleRetry = () => {\r\n    this.setState({ hasError: false, error: undefined, errorInfo: undefined });\r\n  };\r\n\r\n  private handleReload = () => {\r\n    if (typeof window !== 'undefined') {\r\n      window.location.reload();\r\n    }\r\n  };\r\n\r\n  private copyErrorDetails = () => {\r\n    if (this.state.error && this.state.errorInfo) {\r\n      const errorDetails = `\r\nError ID: ${this.state.errorId}\r\nTimestamp: ${new Date().toISOString()}\r\nError: ${this.state.error.name}\r\nMessage: ${this.state.error.message}\r\nStack: ${this.state.error.stack}\r\nComponent Stack: ${this.state.errorInfo.componentStack}\r\nURL: ${typeof window !== 'undefined' ? window.location.href : 'N/A'}\r\n      `.trim();\r\n\r\n      navigator.clipboard.writeText(errorDetails).then(() => {\r\n        console.log('Error details copied to clipboard');\r\n      }).catch((error) => {\r\n        console.error('Failed to copy error details:', error);\r\n      });\r\n    }\r\n  };\r\n\r\n  public render() {\r\n    if (this.state.hasError) {\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      return (\r\n        <div className=\"flex items-center justify-center min-h-screen bg-gray-50 p-4\">\r\n          <div className=\"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center\">\r\n            <div className=\"mb-4\">\r\n              <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                <svg\r\n                  className=\"w-8 h-8 text-red-600\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n                Something went wrong\r\n              </h1>\r\n              <p className=\"text-gray-600 mb-6\">\r\n                We apologize for the inconvenience. An unexpected error has occurred.\r\n              </p>\r\n            </div>\r\n\r\n            {/* Error details for development */}\r\n            {process.env.NODE_ENV === 'development' && this.state.error && (\r\n              <details className=\"mb-6 text-left\">\r\n                <summary className=\"cursor-pointer text-sm font-medium text-gray-700 mb-2\">\r\n                  Error Details (Development Only)\r\n                </summary>\r\n                <div className=\"mt-2 p-3 bg-gray-100 rounded text-xs font-mono overflow-auto max-h-40\">\r\n                  <div className=\"mb-2\">\r\n                    <strong>Error ID:</strong> {this.state.errorId}\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Error:</strong> {this.state.error.name}\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Message:</strong> {this.state.error.message}\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Stack:</strong>\r\n                    <pre className=\"whitespace-pre-wrap\">{this.state.error.stack}</pre>\r\n                  </div>\r\n                </div>\r\n              </details>\r\n            )}\r\n\r\n            {/* Action buttons */}\r\n            <div className=\"space-y-3\">\r\n              <button\r\n                onClick={this.handleRetry}\r\n                className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors\"\r\n              >\r\n                Try Again\r\n              </button>\r\n              \r\n              <div className=\"flex space-x-3\">\r\n                <button\r\n                  onClick={this.handleReload}\r\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Reload Page\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={this.copyErrorDetails}\r\n                  className=\"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  Copy Error\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Support information */}\r\n            <div className=\"mt-6 pt-6 border-t border-gray-200\">\r\n              <p className=\"text-sm text-gray-500\">\r\n                If this problem persists, please contact support with Error ID:{' '}\r\n                <span className=\"font-mono bg-gray-100 px-2 py-1 rounded\">\r\n                  {this.state.errorId}\r\n                </span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport { ErrorBoundary };\r\nexport default ErrorBoundary;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1688, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/contexts/eventLogsContext.tsx"],"sourcesContent":["// src/contexts/eventLogsContext.tsx\r\n'use client';\r\n\r\nimport React, { createContext, useContext, useState, ReactNode } from 'react';\r\n\r\ninterface EventLog {\r\n  id: string;\r\n  timestamp: string;\r\n  message: string;\r\n  type: string;\r\n}\r\n\r\ninterface EventLogsContextType {\r\n  logs: EventLog[];\r\n  addLog: (log: Omit<EventLog, 'id'>) => void;\r\n  clearLogs: () => void;\r\n}\r\n\r\nconst EventLogsContext = createContext<EventLogsContextType | undefined>(undefined);\r\n\r\nexport function EventLogsProvider({ children }: { children: ReactNode }) {\r\n  const [logs, setLogs] = useState<EventLog[]>([]);\r\n\r\n  const addLog = (log: Omit<EventLog, 'id'>) => {\r\n    const newLog: EventLog = {\r\n      ...log,\r\n      id: `log_${Date.now()}`,\r\n      timestamp: new Date().toISOString(),\r\n    };\r\n    setLogs(prev => [...prev, newLog]);\r\n  };\r\n\r\n  const clearLogs = () => {\r\n    setLogs([]);\r\n  };\r\n\r\n  const value = { logs, addLog, clearLogs };\r\n\r\n  return (\r\n    <EventLogsContext.Provider value={value}>\r\n      {children}\r\n    </EventLogsContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useEventLogs() {\r\n  const context = useContext(EventLogsContext);\r\n  if (context === undefined) {\r\n    throw new Error('useEventLogs must be used within an EventLogsProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA;;;AAHA,oCAAoC;AACpC;;AAiBA,MAAM,iCAAmB,IAAA,8KAAa,EAAmC;AAElE,SAAS,kBAAkB,EAAE,QAAQ,EAA2B;;IACrE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAa,EAAE;IAE/C,MAAM,SAAS,CAAC;QACd,MAAM,SAAmB;YACvB,GAAG,GAAG;YACN,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,IAAI;YACvB,WAAW,IAAI,OAAO,WAAW;QACnC;QACA,QAAQ,CAAA,OAAQ;mBAAI;gBAAM;aAAO;IACnC;IAEA,MAAM,YAAY;QAChB,QAAQ,EAAE;IACZ;IAEA,MAAM,QAAQ;QAAE;QAAM;QAAQ;IAAU;IAExC,qBACE,6LAAC,iBAAiB,QAAQ;QAAC,OAAO;kBAC/B;;;;;;AAGP;GAvBgB;KAAA;AAyBT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 1753, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/contexts/search-context.tsx"],"sourcesContent":["// src/contexts/search-context.tsx\r\n'use client';\r\n\r\nimport React, { createContext, useContext, useState, ReactNode } from 'react';\r\n\r\ninterface SearchContextType {\r\n  query: string;\r\n  setQuery: (query: string) => void;\r\n  results: any[];\r\n  isSearching: boolean;\r\n}\r\n\r\nconst SearchContext = createContext<SearchContextType | undefined>(undefined);\r\n\r\nexport function SearchProvider({ children }: { children: ReactNode }) {\r\n  const [query, setQuery] = useState('');\r\n  const [results, setResults] = useState<any[]>([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n\r\n  const value = { query, setQuery, results, isSearching };\r\n\r\n  return (\r\n    <SearchContext.Provider value={value}>\r\n      {children}\r\n    </SearchContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useSearch() {\r\n  const context = useContext(SearchContext);\r\n  if (context === undefined) {\r\n    throw new Error('useSearch must be used within a SearchProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA;;;AAHA,kCAAkC;AAClC;;AAWA,MAAM,8BAAgB,IAAA,8KAAa,EAAgC;AAE5D,SAAS,eAAe,EAAE,QAAQ,EAA2B;;IAClE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAChD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,MAAM,QAAQ;QAAE;QAAO;QAAU;QAAS;IAAY;IAEtD,qBACE,6LAAC,cAAc,QAAQ;QAAC,OAAO;kBAC5B;;;;;;AAGP;GAZgB;KAAA;AAcT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 1807, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/app/providers.tsx"],"sourcesContent":["// src/app/providers.tsx\r\n'use client';\r\n\r\nimport { ThemeProvider as NextThemesProvider } from 'next-themes';\r\nimport { AuthProvider } from '@/contexts/authContext';\r\nimport { UserProvider } from '@/contexts/userContext';\r\nimport { ProductProvider } from '@/contexts/productContext';\r\nimport { ErrorBoundary } from '@/components/errorBoundary';\r\nimport { EventLogsProvider } from '@/contexts/eventLogsContext';\r\nimport { SearchProvider } from '@/contexts/search-context';\r\n\r\nfunction ThemeProvider({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <NextThemesProvider\r\n      attribute=\"class\"\r\n      defaultTheme=\"light\"\r\n      enableSystem\r\n      disableTransitionOnChange\r\n      storageKey=\"maroon-theme\"\r\n    >\r\n      {children}\r\n    </NextThemesProvider>\r\n  );\r\n}\r\n\r\nexport function Providers({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <ErrorBoundary>\r\n      <ThemeProvider>\r\n        <AuthProvider>\r\n          <UserProvider>\r\n            <ProductProvider>\r\n              <EventLogsProvider>\r\n                <SearchProvider>\r\n                  <main className=\"container mx-auto px-4 pt-20 pb-8\">\r\n                    {children}\r\n                  </main>\r\n                </SearchProvider>\r\n              </EventLogsProvider>\r\n            </ProductProvider>\r\n          </UserProvider>\r\n        </AuthProvider>\r\n      </ThemeProvider>\r\n    </ErrorBoundary>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AATA,wBAAwB;AACxB;;;;;;;;;AAUA,SAAS,cAAc,EAAE,QAAQ,EAAiC;IAChE,qBACE,6LAAC,6KAAkB;QACjB,WAAU;QACV,cAAa;QACb,YAAY;QACZ,yBAAyB;QACzB,YAAW;kBAEV;;;;;;AAGP;KAZS;AAcF,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,6LAAC,gJAAa;kBACZ,cAAA,6LAAC;sBACC,cAAA,6LAAC,2IAAY;0BACX,cAAA,6LAAC,2IAAY;8BACX,cAAA,6LAAC,iKAAe;kCACd,cAAA,6LAAC,qJAAiB;sCAChB,cAAA,6LAAC,mJAAc;0CACb,cAAA,6LAAC;oCAAK,WAAU;8CACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUrB;MApBgB"}},
    {"offset": {"line": 1907, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/app/clientLayout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { Providers } from './providers';\r\n\r\nexport default function ClientLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  return <Providers>{children}</Providers>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,aAAa,EACnC,QAAQ,EAGT;IACC,qBAAO,6LAAC,iIAAS;kBAAE;;;;;;AACrB;KANwB"}},
    {"offset": {"line": 1935, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/components/service-worker-registration.tsx"],"sourcesContent":["// src/components/service-worker-registration.tsx\r\n'use client';\r\n\r\nimport React, { useEffect } from 'react';\r\n\r\nexport function ServiceWorkerRegistration() {\r\n  useEffect(() => {\r\n    // Only register service worker in production\r\n    if (typeof window !== 'undefined' && 'serviceWorker' in navigator && process.env.NODE_ENV === 'production') {\r\n      // Determine the correct service worker path based on environment\r\n      const swPath = window.location.hostname.includes('github.io') \r\n        ? '/maroon_traceability/sw.js' \r\n        : '/sw.js';\r\n      \r\n      navigator.serviceWorker.register(swPath)\r\n        .then((registration) => {\r\n          console.log('SW registered: ', registration);\r\n        })\r\n        .catch((registrationError) => {\r\n          console.log('SW registration failed: ', registrationError);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  return null;\r\n}\r\n"],"names":[],"mappings":";;;;AAQyE;AALzE;;AAHA,iDAAiD;AACjD;;AAIO,SAAS;;IACd,IAAA,0KAAS;+CAAC;YACR,6CAA6C;YAC7C,IAAI,+CAAkB,eAAe,mBAAmB,aAAa,oDAAyB;;QAchG;8CAAG,EAAE;IAEL,OAAO;AACT;GApBgB;KAAA"}}]
}