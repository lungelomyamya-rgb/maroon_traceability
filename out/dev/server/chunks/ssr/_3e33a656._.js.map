{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/services/eventLogger.ts"],"sourcesContent":["// src/services/eventLogger.ts\r\n\r\nexport type EventType = 'user_action' | 'system_event' | 'error' | 'warning' | 'info';\r\n\r\nexport interface EventLog {\r\n  id: string;\r\n  type: EventType;\r\n  message: string;\r\n  timestamp: number;\r\n  metadata?: Record<string, unknown>;\r\n}\r\n\r\nexport class EventLogger {\r\n  private static instance: EventLogger;\r\n  private logs: EventLog[] = [];\r\n\r\n  static getInstance(): EventLogger {\r\n    if (!EventLogger.instance) {\r\n      EventLogger.instance = new EventLogger();\r\n    }\r\n    return EventLogger.instance;\r\n  }\r\n\r\n  log(type: EventType, message: string, metadata?: Record<string, unknown>): void {\r\n    const log: EventLog = {\r\n      id: `log_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n      type,\r\n      message,\r\n      timestamp: Date.now(),\r\n      metadata\r\n    };\r\n    \r\n    this.logs.push(log);\r\n    console.log(`[${type.toUpperCase()}] ${message}`, metadata);\r\n  }\r\n\r\n  getLogs(): EventLog[] {\r\n    return [...this.logs];\r\n  }\r\n\r\n  clearLogs(): void {\r\n    this.logs = [];\r\n  }\r\n}\r\n\r\nexport const eventLogger = EventLogger.getInstance();\r\n"],"names":[],"mappings":"AAAA,8BAA8B;;;;;;;AAYvB,MAAM;IACX,OAAe,SAAsB;IAC7B,OAAmB,EAAE,CAAC;IAE9B,OAAO,cAA2B;QAChC,IAAI,CAAC,YAAY,QAAQ,EAAE;YACzB,YAAY,QAAQ,GAAG,IAAI;QAC7B;QACA,OAAO,YAAY,QAAQ;IAC7B;IAEA,IAAI,IAAe,EAAE,OAAe,EAAE,QAAkC,EAAQ;QAC9E,MAAM,MAAgB;YACpB,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;YAClE;YACA;YACA,WAAW,KAAK,GAAG;YACnB;QACF;QAEA,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;QACf,QAAQ,GAAG,CAAC,CAAC,CAAC,EAAE,KAAK,WAAW,GAAG,EAAE,EAAE,SAAS,EAAE;IACpD;IAEA,UAAsB;QACpB,OAAO;eAAI,IAAI,CAAC,IAAI;SAAC;IACvB;IAEA,YAAkB;QAChB,IAAI,CAAC,IAAI,GAAG,EAAE;IAChB;AACF;AAEO,MAAM,cAAc,YAAY,WAAW"}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/services/analytics.ts"],"sourcesContent":["// src/services/analytics.ts\r\n\r\nexport interface AnalyticsEvent {\r\n  event: string;\r\n  properties?: Record<string, unknown>;\r\n  timestamp?: number;\r\n}\r\n\r\nexport class AnalyticsService {\r\n  private static instance: AnalyticsService;\r\n\r\n  static getInstance(): AnalyticsService {\r\n    if (!AnalyticsService.instance) {\r\n      AnalyticsService.instance = new AnalyticsService();\r\n    }\r\n    return AnalyticsService.instance;\r\n  }\r\n\r\n  track(event: string, properties?: Record<string, unknown>): void {\r\n    // Mock implementation\r\n    console.log('Analytics Event:', { event, properties, timestamp: Date.now() });\r\n  }\r\n\r\n  pageView(path: string): void {\r\n    this.track('page_view', { path });\r\n  }\r\n\r\n  userAction(action: string, details?: Record<string, unknown>): void {\r\n    this.track('user_action', { action, ...details });\r\n  }\r\n\r\n  trackUserAction(action: string, details?: Record<string, unknown>): void {\r\n    this.userAction(action, details);\r\n  }\r\n\r\n  trackFeatureUsage(feature: string, details?: Record<string, unknown>): void {\r\n    this.track('feature_usage', { feature, ...details });\r\n  }\r\n\r\n  trackConversion(event: string, details?: Record<string, unknown>): void {\r\n    this.track('conversion', { event, ...details });\r\n  }\r\n}\r\n\r\nexport const analytics = AnalyticsService.getInstance();\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;;AAQrB,MAAM;IACX,OAAe,SAA2B;IAE1C,OAAO,cAAgC;QACrC,IAAI,CAAC,iBAAiB,QAAQ,EAAE;YAC9B,iBAAiB,QAAQ,GAAG,IAAI;QAClC;QACA,OAAO,iBAAiB,QAAQ;IAClC;IAEA,MAAM,KAAa,EAAE,UAAoC,EAAQ;QAC/D,sBAAsB;QACtB,QAAQ,GAAG,CAAC,oBAAoB;YAAE;YAAO;YAAY,WAAW,KAAK,GAAG;QAAG;IAC7E;IAEA,SAAS,IAAY,EAAQ;QAC3B,IAAI,CAAC,KAAK,CAAC,aAAa;YAAE;QAAK;IACjC;IAEA,WAAW,MAAc,EAAE,OAAiC,EAAQ;QAClE,IAAI,CAAC,KAAK,CAAC,eAAe;YAAE;YAAQ,GAAG,OAAO;QAAC;IACjD;IAEA,gBAAgB,MAAc,EAAE,OAAiC,EAAQ;QACvE,IAAI,CAAC,UAAU,CAAC,QAAQ;IAC1B;IAEA,kBAAkB,OAAe,EAAE,OAAiC,EAAQ;QAC1E,IAAI,CAAC,KAAK,CAAC,iBAAiB;YAAE;YAAS,GAAG,OAAO;QAAC;IACpD;IAEA,gBAAgB,KAAa,EAAE,OAAiC,EAAQ;QACtE,IAAI,CAAC,KAAK,CAAC,cAAc;YAAE;YAAO,GAAG,OAAO;QAAC;IAC/C;AACF;AAEO,MAAM,YAAY,iBAAiB,WAAW"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/services/realtime.ts"],"sourcesContent":["// src/services/realtime.ts\r\n\r\nexport interface RealtimeEvent {\r\n  type: string;\r\n  data: unknown;\r\n  timestamp: number;\r\n}\r\n\r\nexport type EventCallback = (event: RealtimeEvent) => void;\r\n\r\nexport class RealtimeService {\r\n  private static instance: RealtimeService;\r\n  private listeners: Map<string, EventCallback[]> = new Map();\r\n  private mockInterval: NodeJS.Timeout | null = null;\r\n  private isRunning = false;\r\n\r\n  static getInstance(): RealtimeService {\r\n    if (!RealtimeService.instance) {\r\n      RealtimeService.instance = new RealtimeService();\r\n    }\r\n    return RealtimeService.instance;\r\n  }\r\n\r\n  constructor() {\r\n    this.startMockActivity();\r\n  }\r\n\r\n  private startMockActivity() {\r\n    if (this.isRunning) return;\r\n    \r\n    this.isRunning = true;\r\n    this.mockInterval = setInterval(() => {\r\n      this.generateMockEvent();\r\n    }, 3000 + Math.random() * 4000); // Random interval between 3-7 seconds\r\n  }\r\n\r\n  private stopMockActivity() {\r\n    if (this.mockInterval) {\r\n      clearInterval(this.mockInterval);\r\n      this.mockInterval = null;\r\n    }\r\n    this.isRunning = false;\r\n  }\r\n\r\n  private generateMockEvent() {\r\n    const eventTypes = [\r\n      'product_update',\r\n      'verification_update', \r\n      'blockchain_update',\r\n      'new_product',\r\n      'quality_check',\r\n      'shipment_update'\r\n    ];\r\n\r\n    const eventType = eventTypes[Math.floor(Math.random() * eventTypes.length)];\r\n    let mockData: any;\r\n\r\n    switch (eventType) {\r\n      case 'product_update':\r\n        mockData = {\r\n          productId: `PRD-2024-${String(Math.floor(Math.random() * 999) + 1).padStart(3, '0')}`,\r\n          status: Math.random() > 0.5 ? 'verified' : 'pending',\r\n          timestamp: new Date().toISOString()\r\n        };\r\n        break;\r\n\r\n      case 'verification_update':\r\n        mockData = {\r\n          productId: `PRD-2024-${String(Math.floor(Math.random() * 999) + 1).padStart(3, '0')}`,\r\n          verificationCount: Math.floor(Math.random() * 10) + 1,\r\n          verifiedBy: ['Inspector', 'Retailer', 'Consumer'][Math.floor(Math.random() * 3)],\r\n          timestamp: new Date().toISOString()\r\n        };\r\n        break;\r\n\r\n      case 'blockchain_update':\r\n        mockData = {\r\n          blockNumber: Math.floor(Math.random() * 100000) + 1700000,\r\n          transactionCount: Math.floor(Math.random() * 50) + 1,\r\n          timestamp: new Date().toISOString()\r\n        };\r\n        break;\r\n\r\n      case 'new_product':\r\n        const products = ['Organic Apples', 'Free Range Eggs', 'Artisanal Cheese', 'Fresh Vegetables', 'Grass-fed Beef'];\r\n        mockData = {\r\n          productId: `PRD-2024-${String(Math.floor(Math.random() * 999) + 1).padStart(3, '0')}`,\r\n          productName: products[Math.floor(Math.random() * products.length)],\r\n          farmer: ['Green Valley Farm', 'Sunny Acres', 'Happy Farms', 'Organic Haven'][Math.floor(Math.random() * 4)],\r\n          timestamp: new Date().toISOString()\r\n        };\r\n        break;\r\n\r\n      case 'quality_check':\r\n        mockData = {\r\n          productId: `PRD-2024-${String(Math.floor(Math.random() * 999) + 1).padStart(3, '0')}`,\r\n          quality: ['Grade A+', 'Grade A', 'Grade B'][Math.floor(Math.random() * 3)],\r\n          inspector: ['John Smith', 'Jane Doe', 'Mike Johnson'][Math.floor(Math.random() * 3)],\r\n          timestamp: new Date().toISOString()\r\n        };\r\n        break;\r\n\r\n      case 'shipment_update':\r\n        mockData = {\r\n          productId: `PRD-2024-${String(Math.floor(Math.random() * 999) + 1).padStart(3, '0')}`,\r\n          status: ['In Transit', 'Delivered', 'Processing'][Math.floor(Math.random() * 3)],\r\n          location: ['Cape Town', 'Johannesburg', 'Durban', 'Pretoria'][Math.floor(Math.random() * 4)],\r\n          timestamp: new Date().toISOString()\r\n        };\r\n        break;\r\n\r\n      default:\r\n        mockData = { message: 'Mock event', timestamp: new Date().toISOString() };\r\n    }\r\n\r\n    this.emit(eventType, mockData);\r\n  }\r\n\r\n  subscribe(eventType: string, callback: EventCallback): () => void {\r\n    if (!this.listeners.has(eventType)) {\r\n      this.listeners.set(eventType, []);\r\n    }\r\n    \r\n    const callbacks = this.listeners.get(eventType)!;\r\n    callbacks.push(callback);\r\n\r\n    // Return unsubscribe function\r\n    return () => {\r\n      const index = callbacks.indexOf(callback);\r\n      if (index > -1) {\r\n        callbacks.splice(index, 1);\r\n      }\r\n    };\r\n  }\r\n\r\n  subscribeToAll(callback: EventCallback): () => void {\r\n    return this.subscribe('*', callback);\r\n  }\r\n\r\n  getConnectionStatus(): boolean {\r\n    return this.isRunning; // Return actual mock connection status\r\n  }\r\n\r\n  // Control methods for mock activity\r\n  enableMockActivity() {\r\n    this.startMockActivity();\r\n  }\r\n\r\n  disableMockActivity() {\r\n    this.stopMockActivity();\r\n  }\r\n\r\n  // Generate specific events for testing\r\n  generateTestEvent(eventType: string, customData?: any) {\r\n    if (customData) {\r\n      this.emit(eventType, customData);\r\n    } else {\r\n      this.generateMockEvent();\r\n    }\r\n  }\r\n\r\n  emit(eventType: string, data: unknown): void {\r\n    const event: RealtimeEvent = {\r\n      type: eventType,\r\n      data,\r\n      timestamp: Date.now()\r\n    };\r\n\r\n    // Send to specific listeners\r\n    const specificListeners = this.listeners.get(eventType);\r\n    if (specificListeners) {\r\n      specificListeners.forEach(callback => callback(event));\r\n    }\r\n\r\n    // Send to all listeners\r\n    const allListeners = this.listeners.get('*');\r\n    if (allListeners) {\r\n      allListeners.forEach(callback => callback(event));\r\n    }\r\n  }\r\n}\r\n\r\nexport const realtime = RealtimeService.getInstance();\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/components/ui/button.tsx"],"sourcesContent":["// src/components/ui/button.tsx\r\nimport React from 'react';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'default' | 'outline' | 'secondary' | 'ghost';\r\n  size?: 'default' | 'sm' | 'lg';\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport function Button({ className = '', variant = 'outline', size = 'default', children, ...props }: ButtonProps) {\r\n  const baseClasses = 'inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background';\r\n  \r\n  const variants = {\r\n    default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n    outline: 'border border-input hover:bg-accent hover:text-accent-foreground',\r\n    secondary: 'bg-blue text-white hover:bg-blue-hover', // Matching GitHub repo\r\n    ghost: 'hover:bg-accent hover:text-accent-foreground',\r\n  };\r\n  \r\n  const sizes = {\r\n    default: 'h-10 py-2 px-4',\r\n    sm: 'h-9 px-3 rounded-md',\r\n    lg: 'h-11 px-8 rounded-md',\r\n  };\r\n\r\n  // Check if custom colors are provided in className\r\n  const hasCustomColors = /bg-\\w+-\\d+|text-\\w+-\\d+/.test(className);\r\n  const variantClasses = hasCustomColors ? '' : variants[variant];\r\n\r\n  return (\r\n    <button\r\n      className={`${baseClasses} ${variantClasses} ${sizes[size]} ${className}`}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;;AAUxB,SAAS,OAAO,EAAE,YAAY,EAAE,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAoB;IAC/G,MAAM,cAAc;IAEpB,MAAM,WAAW;QACf,SAAS;QACT,SAAS;QACT,WAAW;QACX,OAAO;IACT;IAEA,MAAM,QAAQ;QACZ,SAAS;QACT,IAAI;QACJ,IAAI;IACN;IAEA,mDAAmD;IACnD,MAAM,kBAAkB,0BAA0B,IAAI,CAAC;IACvD,MAAM,iBAAiB,kBAAkB,KAAK,QAAQ,CAAC,QAAQ;IAE/D,qBACE,8OAAC;QACC,WAAW,GAAG,YAAY,CAAC,EAAE,eAAe,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QACxE,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/lib/utils/assetPath.ts"],"sourcesContent":["// lib/utils/assetPath.ts\r\n/**\r\n * Utility function to get the correct asset path for GitHub Pages\r\n * This ensures all static assets are properly prefixed with the base path\r\n */\r\nexport function getAssetPath(path: string): string {\r\n  // In production on GitHub Pages, assets need the base path prefix\r\n  if (typeof window !== 'undefined' && window.location.hostname.includes('github.io')) {\r\n    return `/maroon_traceability${path}`;\r\n  }\r\n  \r\n  // For local development, return the path as-is\r\n  return path;\r\n}\r\n\r\n/**\r\n * Get the base URL for the application\r\n */\r\nexport function getBaseUrl(): string {\r\n  if (typeof window !== 'undefined' && window.location.hostname.includes('github.io')) {\r\n    return '/maroon_traceability';\r\n  }\r\n  return '';\r\n}\r\n"],"names":[],"mappings":"AAAA,yBAAyB;AACzB;;;CAGC;;;;;;AACM,SAAS,aAAa,IAAY;IACvC,kEAAkE;IAClE,IAAI,kDAAkB,eAAe,OAAO,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC;;IAIvE,+CAA+C;IAC/C,OAAO;AACT;AAKO,SAAS;IACd,IAAI,kDAAkB,eAAe,OAAO,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC;;IAGvE,OAAO;AACT"}},
    {"offset": {"line": 355, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/services/rolePermissionsService.ts"],"sourcesContent":["// src/services/rolePermissionsService.ts\r\n// Role-based access control for Maroon Traceability events\r\n\r\nexport type UserRole = 'farmer' | 'inspector' | 'logistics' | 'packaging' | 'viewer' | 'admin';\r\n\r\nexport interface EventType {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  category: 'planting' | 'growth' | 'harvest' | 'quality' | 'logistics' | 'packaging';\r\n  requiredRole: UserRole;\r\n  canEdit: UserRole[];\r\n  canView: UserRole[];\r\n  requiresApproval?: boolean;\r\n  attachmentsAllowed?: boolean;\r\n}\r\n\r\nexport interface Permission {\r\n  role: UserRole;\r\n  permissions: {\r\n    canCreateEvents: string[];\r\n    canEditEvents: string[];\r\n    canViewEvents: string[];\r\n    canDeleteEvents: string[];\r\n    canApproveEvents: string[];\r\n    canManageUsers: boolean;\r\n    canViewReports: boolean;\r\n    canExportData: boolean;\r\n    canManageSystem: boolean;\r\n  };\r\n}\r\n\r\nclass RolePermissionsService {\r\n  private static instance: RolePermissionsService;\r\n\r\n  static getInstance(): RolePermissionsService {\r\n    if (!RolePermissionsService.instance) {\r\n      RolePermissionsService.instance = new RolePermissionsService();\r\n    }\r\n    return RolePermissionsService.instance;\r\n  }\r\n\r\n  // Event type definitions\r\n  private eventTypes: EventType[] = [\r\n    // Farmer events\r\n    {\r\n      id: 'planting',\r\n      name: 'Planting',\r\n      description: 'Record seed planting information',\r\n      category: 'planting',\r\n      requiredRole: 'farmer',\r\n      canEdit: ['farmer', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      attachmentsAllowed: true\r\n    },\r\n    {\r\n      id: 'seed-selection',\r\n      name: 'Seed Selection',\r\n      description: 'Record seed variety and certification',\r\n      category: 'planting',\r\n      requiredRole: 'farmer',\r\n      canEdit: ['farmer', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      attachmentsAllowed: true\r\n    },\r\n    {\r\n      id: 'fertiliser-application',\r\n      name: 'Fertiliser Application',\r\n      description: 'Record fertiliser and nutrient applications',\r\n      category: 'growth',\r\n      requiredRole: 'farmer',\r\n      canEdit: ['farmer', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      attachmentsAllowed: true\r\n    },\r\n    {\r\n      id: 'growth-monitoring',\r\n      name: 'Growth Monitoring',\r\n      description: 'Track plant development and health',\r\n      category: 'growth',\r\n      requiredRole: 'farmer',\r\n      canEdit: ['farmer', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      attachmentsAllowed: true\r\n    },\r\n    {\r\n      id: 'harvest',\r\n      name: 'Harvest',\r\n      description: 'Record harvest information and yields',\r\n      category: 'harvest',\r\n      requiredRole: 'farmer',\r\n      canEdit: ['farmer', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      attachmentsAllowed: true\r\n    },\r\n\r\n    // Inspector events\r\n    {\r\n      id: 'quality-inspection',\r\n      name: 'Quality Inspection',\r\n      description: 'Third-party quality assessment',\r\n      category: 'quality',\r\n      requiredRole: 'inspector',\r\n      canEdit: ['inspector', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      requiresApproval: false,\r\n      attachmentsAllowed: true\r\n    },\r\n    {\r\n      id: 'compliance-check',\r\n      name: 'Compliance Check',\r\n      description: 'Regulatory compliance verification',\r\n      category: 'quality',\r\n      requiredRole: 'inspector',\r\n      canEdit: ['inspector', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      requiresApproval: true,\r\n      attachmentsAllowed: true\r\n    },\r\n    {\r\n      id: 'certification',\r\n      name: 'Certification',\r\n      description: 'Issue organic or quality certifications',\r\n      category: 'quality',\r\n      requiredRole: 'inspector',\r\n      canEdit: ['inspector', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      requiresApproval: true,\r\n      attachmentsAllowed: true\r\n    },\r\n\r\n    // Logistics events\r\n    {\r\n      id: 'collection',\r\n      name: 'Collection',\r\n      description: 'Produce collection from farm',\r\n      category: 'logistics',\r\n      requiredRole: 'logistics',\r\n      canEdit: ['logistics', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      attachmentsAllowed: true\r\n    },\r\n    {\r\n      id: 'transport',\r\n      name: 'Transport',\r\n      description: 'Transport to processing facility',\r\n      category: 'logistics',\r\n      requiredRole: 'logistics',\r\n      canEdit: ['logistics', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      attachmentsAllowed: true\r\n    },\r\n    {\r\n      id: 'delivery',\r\n      name: 'Delivery',\r\n      description: 'Delivery to packaging or retail',\r\n      category: 'logistics',\r\n      requiredRole: 'logistics',\r\n      canEdit: ['logistics', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      attachmentsAllowed: true\r\n    },\r\n\r\n    // Packaging events\r\n    {\r\n      id: 'packaging',\r\n      name: 'Packaging',\r\n      description: 'Product packaging and batch creation',\r\n      category: 'packaging',\r\n      requiredRole: 'packaging',\r\n      canEdit: ['packaging', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      attachmentsAllowed: true\r\n    },\r\n    {\r\n      id: 'batch-creation',\r\n      name: 'Batch Creation',\r\n      description: 'Create product batches with QR codes',\r\n      category: 'packaging',\r\n      requiredRole: 'packaging',\r\n      canEdit: ['packaging', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      attachmentsAllowed: true\r\n    },\r\n    {\r\n      id: 'quality-check',\r\n      name: 'Quality Check',\r\n      description: 'Final quality check before packaging',\r\n      category: 'packaging',\r\n      requiredRole: 'packaging',\r\n      canEdit: ['packaging', 'inspector', 'admin'],\r\n      canView: ['farmer', 'inspector', 'logistics', 'packaging', 'viewer', 'admin'],\r\n      attachmentsAllowed: true\r\n    }\r\n  ];\r\n\r\n  // Role permissions configuration\r\n  private rolePermissions: Permission[] = [\r\n    {\r\n      role: 'farmer',\r\n      permissions: {\r\n        canCreateEvents: ['planting', 'seed-selection', 'fertiliser-application', 'growth-monitoring', 'harvest'],\r\n        canEditEvents: ['planting', 'seed-selection', 'fertiliser-application', 'growth-monitoring', 'harvest'],\r\n        canViewEvents: ['planting', 'seed-selection', 'fertiliser-application', 'growth-monitoring', 'harvest', 'quality-inspection', 'collection', 'transport', 'packaging'],\r\n        canDeleteEvents: ['planting', 'seed-selection', 'fertiliser-application', 'growth-monitoring'],\r\n        canApproveEvents: [],\r\n        canManageUsers: false,\r\n        canViewReports: true,\r\n        canExportData: true,\r\n        canManageSystem: false\r\n      }\r\n    },\r\n    {\r\n      role: 'inspector',\r\n      permissions: {\r\n        canCreateEvents: ['quality-inspection', 'compliance-check', 'certification'],\r\n        canEditEvents: ['quality-inspection', 'compliance-check', 'certification'],\r\n        canViewEvents: ['planting', 'seed-selection', 'fertiliser-application', 'growth-monitoring', 'harvest', 'quality-inspection', 'compliance-check', 'certification', 'collection', 'transport', 'packaging'],\r\n        canDeleteEvents: ['quality-inspection'],\r\n        canApproveEvents: ['compliance-check', 'certification'],\r\n        canManageUsers: false,\r\n        canViewReports: true,\r\n        canExportData: true,\r\n        canManageSystem: false\r\n      }\r\n    },\r\n    {\r\n      role: 'logistics',\r\n      permissions: {\r\n        canCreateEvents: ['collection', 'transport', 'delivery'],\r\n        canEditEvents: ['collection', 'transport', 'delivery'],\r\n        canViewEvents: ['harvest', 'quality-inspection', 'collection', 'transport', 'delivery', 'packaging'],\r\n        canDeleteEvents: ['collection', 'transport'],\r\n        canApproveEvents: [],\r\n        canManageUsers: false,\r\n        canViewReports: true,\r\n        canExportData: true,\r\n        canManageSystem: false\r\n      }\r\n    },\r\n    {\r\n      role: 'packaging',\r\n      permissions: {\r\n        canCreateEvents: ['packaging', 'batch-creation', 'quality-check'],\r\n        canEditEvents: ['packaging', 'batch-creation', 'quality-check'],\r\n        canViewEvents: ['harvest', 'quality-inspection', 'collection', 'transport', 'packaging', 'batch-creation', 'quality-check'],\r\n        canDeleteEvents: ['packaging', 'batch-creation'],\r\n        canApproveEvents: [],\r\n        canManageUsers: false,\r\n        canViewReports: true,\r\n        canExportData: true,\r\n        canManageSystem: false\r\n      }\r\n    },\r\n    {\r\n      role: 'viewer',\r\n      permissions: {\r\n        canCreateEvents: [],\r\n        canEditEvents: [],\r\n        canViewEvents: ['planting', 'seed-selection', 'fertiliser-application', 'growth-monitoring', 'harvest', 'quality-inspection', 'compliance-check', 'certification', 'collection', 'transport', 'delivery', 'packaging', 'batch-creation', 'quality-check'],\r\n        canDeleteEvents: [],\r\n        canApproveEvents: [],\r\n        canManageUsers: false,\r\n        canViewReports: true,\r\n        canExportData: false,\r\n        canManageSystem: false\r\n      }\r\n    },\r\n    {\r\n      role: 'admin',\r\n      permissions: {\r\n        canCreateEvents: ['planting', 'seed-selection', 'fertiliser-application', 'growth-monitoring', 'harvest', 'quality-inspection', 'compliance-check', 'certification', 'collection', 'transport', 'delivery', 'packaging', 'batch-creation', 'quality-check'],\r\n        canEditEvents: ['planting', 'seed-selection', 'fertiliser-application', 'growth-monitoring', 'harvest', 'quality-inspection', 'compliance-check', 'certification', 'collection', 'transport', 'delivery', 'packaging', 'batch-creation', 'quality-check'],\r\n        canViewEvents: ['planting', 'seed-selection', 'fertiliser-application', 'growth-monitoring', 'harvest', 'quality-inspection', 'compliance-check', 'certification', 'collection', 'transport', 'delivery', 'packaging', 'batch-creation', 'quality-check'],\r\n        canDeleteEvents: ['planting', 'seed-selection', 'fertiliser-application', 'growth-monitoring', 'harvest', 'quality-inspection', 'compliance-check', 'certification', 'collection', 'transport', 'delivery', 'packaging', 'batch-creation', 'quality-check'],\r\n        canApproveEvents: ['compliance-check', 'certification'],\r\n        canManageUsers: true,\r\n        canViewReports: true,\r\n        canExportData: true,\r\n        canManageSystem: true\r\n      }\r\n    }\r\n  ];\r\n\r\n  // Public methods\r\n  getEventTypes(): EventType[] {\r\n    return this.eventTypes;\r\n  }\r\n\r\n  getEventTypesForRole(role: UserRole): EventType[] {\r\n    return this.eventTypes.filter(eventType => \r\n      eventType.canView.includes(role)\r\n    );\r\n  }\r\n\r\n  getCreatableEventTypes(role: UserRole): EventType[] {\r\n    return this.eventTypes.filter(eventType => \r\n      eventType.requiredRole === role || \r\n      (role === 'admin' && eventType.requiredRole !== 'admin')\r\n    );\r\n  }\r\n\r\n  canCreateEvent(role: UserRole, eventTypeId: string): boolean {\r\n    const eventType = this.eventTypes.find(et => et.id === eventTypeId);\r\n    if (!eventType) return false;\r\n    \r\n    return eventType.requiredRole === role || role === 'admin';\r\n  }\r\n\r\n  canEditEvent(role: UserRole, eventTypeId: string): boolean {\r\n    const eventType = this.eventTypes.find(et => et.id === eventTypeId);\r\n    if (!eventType) return false;\r\n    \r\n    return eventType.canEdit.includes(role) || role === 'admin';\r\n  }\r\n\r\n  canViewEvent(role: UserRole, eventTypeId: string): boolean {\r\n    const eventType = this.eventTypes.find(et => et.id === eventTypeId);\r\n    if (!eventType) return false;\r\n    \r\n    return eventType.canView.includes(role) || role === 'admin';\r\n  }\r\n\r\n  canDeleteEvent(role: UserRole, eventTypeId: string): boolean {\r\n    const permission = this.rolePermissions.find(p => p.role === role);\r\n    if (!permission) return false;\r\n    \r\n    return permission.permissions.canDeleteEvents.includes(eventTypeId) || role === 'admin';\r\n  }\r\n\r\n  canApproveEvent(role: UserRole, eventTypeId: string): boolean {\r\n    const eventType = this.eventTypes.find(et => et.id === eventTypeId);\r\n    if (!eventType) return false;\r\n    \r\n    return Boolean(eventType.requiresApproval) &&\r\n           (eventType.canEdit.includes(role) || role === 'admin');\r\n  }\r\n\r\n  getRolePermissions(role: UserRole): Permission | undefined {\r\n    return this.rolePermissions.find(p => p.role === role);\r\n  }\r\n\r\n  hasPermission(role: UserRole, permission: keyof Permission['permissions']): boolean {\r\n    const rolePerm = this.rolePermissions.find(p => p.role === role);\r\n    if (!rolePerm) return false;\r\n    \r\n    return Boolean(rolePerm.permissions[permission]);\r\n  }\r\n\r\n  // Validation methods\r\n  validateEventCreation(role: UserRole, eventTypeId: string): { valid: boolean; message?: string } {\r\n    if (!this.canCreateEvent(role, eventTypeId)) {\r\n      return {\r\n        valid: false,\r\n        message: `Your role (${role}) is not authorized to create ${eventTypeId} events`\r\n      };\r\n    }\r\n    \r\n    return { valid: true };\r\n  }\r\n\r\n  validateEventEdit(role: UserRole, eventTypeId: string): { valid: boolean; message?: string } {\r\n    if (!this.canEditEvent(role, eventTypeId)) {\r\n      return {\r\n        valid: false,\r\n        message: `Your role (${role}) is not authorized to edit ${eventTypeId} events`\r\n      };\r\n    }\r\n    \r\n    return { valid: true };\r\n  }\r\n\r\n  // Get events by category for a role\r\n  getEventsByCategory(role: UserRole, category: EventType['category']): EventType[] {\r\n    return this.eventTypes.filter(eventType => \r\n      eventType.category === category && \r\n      eventType.canView.includes(role)\r\n    );\r\n  }\r\n\r\n  // Get navigation items based on role\r\n  getNavigationItems(role: UserRole) {\r\n    const baseItems = role === 'viewer' \r\n      ? [{ name: 'Dashboard', href: '/viewer' }]\r\n      : [];\r\n\r\n    const roleSpecificItems = {\r\n      farmer: [\r\n        { name: 'Event Management', href: '/farmer/dashboard' },\r\n        { name: 'Growth Monitoring', href: '/farmer/growth' },\r\n        { name: 'Fertiliser Logs', href: '/farmer/fertiliser' },\r\n        { name: 'Seed Varieties', href: '/farmer/seeds' },\r\n        { name: 'Compliance', href: '/farmer/compliance' }\r\n      ],\r\n      inspector: [\r\n        { name: 'Overview', href: '/inspector' },\r\n        { name: 'Inspections', href: '/inspector/inspections' },\r\n        { name: 'Verification', href: '/inspector/verification' },\r\n        { name: 'Reports', href: '/inspector/reports' }\r\n      ],\r\n      logistics: [\r\n        { name: 'Overview', href: '/logistics' },\r\n        { name: 'Vehicles', href: '/logistics/vehicles' },\r\n        { name: 'Drivers', href: '/logistics/drivers' },\r\n        { name: 'Scheduling', href: '/logistics/scheduling' },\r\n        { name: 'Documentation', href: '/logistics/documentation' },\r\n        { name: 'Events', href: '/logistics/events' }\r\n      ],\r\n      packaging: [\r\n        { name: 'Overview', href: '/packaging' },\r\n        { name: 'Batch Creation', href: '/packaging/batch' },\r\n        { name: 'Quality Check', href: '/packaging/quality' }\r\n      ],\r\n      viewer: [\r\n        { name: 'Products', href: '/products' },\r\n        { name: 'Public Access', href: '/public-access' }\r\n      ],\r\n      admin: [\r\n        { name: 'System Admin', href: '/admin' },\r\n        { name: 'User Management', href: '/admin/users' },\r\n        { name: 'Reports', href: '/admin/reports' },\r\n        { name: 'Settings', href: '/admin/settings' }\r\n      ]\r\n    };\r\n\r\n    return [...baseItems, ...(roleSpecificItems[role] || [])];\r\n  }\r\n}\r\n\r\nexport const rolePermissionsService = RolePermissionsService.getInstance();\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1113, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/components/layout/navigation.tsx"],"sourcesContent":["// src/components/layout/navigation.tsx\r\n'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport { Shield, ChevronDown, Calendar, Sprout, Droplets, Package, Shield as ShieldIcon, Truck, MapPin, Clock, FileText, Menu } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { getRoleColors, textColors } from '@/lib/theme/colors';\r\nimport { useState } from 'react';\r\nimport { useUser } from '@/contexts/userContext';\r\nimport { DEMO_USERS } from '@/constants/users';\r\nimport { getAssetPath } from '@/lib/utils/assetPath';\r\nimport { rolePermissionsService } from '@/services/rolePermissionsService';\r\n\r\nexport function Navigation() {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const { currentUser, switchUser } = useUser();\r\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n\r\n  // Hide navigation on login page\r\n  if (pathname === '/login') {\r\n    return null;\r\n  }\r\n\r\n  // Page type detection\r\n  const cleanPathname = pathname?.replace(/\\/+$/, '') || '';\r\n  const isViewerPage = cleanPathname === '/viewer';\r\n  const isTracePage = cleanPathname.startsWith('/public-access/trace/');\r\n  const isPublicAccessPage = cleanPathname === '/public-access';\r\n  const isFarmerPage = cleanPathname.startsWith('/farmer');\r\n  const isLogisticsPage = cleanPathname.startsWith('/logistics');\r\n  const isInspectorPage = cleanPathname.startsWith('/inspector');\r\n  const isPackagingPage = cleanPathname.startsWith('/packaging');\r\n\r\n  // Logistics-specific navigation items\r\n  const getLogisticsNavigationItems = () => {\r\n    const logisticsTabs = [\r\n      { name: 'Overview', href: '/logistics', description: 'Logistics dashboard and metrics' },\r\n      { name: 'Vehicles', href: '/logistics/vehicles', description: 'Manage vehicle fleet and maintenance' },\r\n      { name: 'Drivers', href: '/logistics/drivers', description: 'Driver profiles and assignments' },\r\n      { name: 'Scheduling', href: '/logistics/scheduling', description: 'Transport scheduling and routes' },\r\n      { name: 'Documentation', href: '/logistics/documentation', description: 'Bills of lading and delivery docs' },\r\n      { name: 'Events', href: '/logistics/events', description: 'Logistics events and activities' }\r\n    ];\r\n\r\n    return logisticsTabs.map(tab => ({\r\n      ...tab,\r\n      current: cleanPathname === tab.href || (tab.href === '/logistics' && cleanPathname === '/logistics')\r\n    }));\r\n  };\r\n  const getFarmerNavigationItems = () => {\r\n    const farmerTabs = [\r\n      { name: 'Event Management', href: '/farmer/dashboard', description: 'Add planting, growth, harvest events' },\r\n      { name: 'Growth Monitoring', href: '/farmer/growth', description: 'Track plant development stages' },\r\n      { name: 'Fertiliser Logs', href: '/farmer/fertiliser', description: 'Record nutrient applications' },\r\n      { name: 'Seed Varieties', href: '/farmer/seeds', description: 'Manage seed certifications' },\r\n      { name: 'Compliance', href: '/farmer/compliance', description: 'Food safety and export compliance' }\r\n    ];\r\n\r\n    return farmerTabs.map(tab => ({\r\n      ...tab,\r\n      current: cleanPathname === tab.href || (tab.href === '/farmer/dashboard' && cleanPathname === '/farmer')\r\n    }));\r\n  };\r\n\r\n  // Inspector-specific navigation items\r\n  const getInspectorNavigationItems = () => {\r\n    const inspectorTabs = [\r\n      { name: 'Overview', href: '/inspector', description: 'Inspector dashboard and metrics' },\r\n      { name: 'Inspections', href: '/inspector/inspections', description: 'Quality inspections and assessments' },\r\n      { name: 'Verification', href: '/inspector/verification', description: 'Third-party verification requests' },\r\n      { name: 'Reports', href: '/inspector/reports', description: 'Inspection reports and analytics' }\r\n    ];\r\n\r\n    return inspectorTabs.map(tab => ({\r\n      ...tab,\r\n      current: cleanPathname === tab.href || (tab.href === '/inspector' && cleanPathname === '/inspector')\r\n    }));\r\n  };\r\n\r\n  // Packaging-specific navigation items (empty - no tabs for packaging)\r\n  const getPackagingNavigationItems = () => {\r\n    return [];\r\n  };\r\n\r\n  // Default navigation for other roles\r\n  const getDefaultNavigationItems = () => {\r\n    // Only show dashboard for viewer role\r\n    if (currentUser?.role === 'viewer') {\r\n      return [\r\n        { name: 'Dashboard', href: '/viewer', current: isViewerPage },\r\n        { name: 'Products', href: '/products', current: cleanPathname === '/products' },\r\n        { name: 'Public Access', href: '/public-access', current: isPublicAccessPage },\r\n      ];\r\n    }\r\n    return [];\r\n  };\r\n\r\n  // Choose navigation based on user role using the permissions service\r\n  const userRole = currentUser?.role as any;\r\n  const navigation = userRole \r\n    ? rolePermissionsService.getNavigationItems(userRole).map(item => ({\r\n        ...item,\r\n        current: cleanPathname === item.href || (item.href === '/viewer' && isViewerPage)\r\n      }))\r\n    : getDefaultNavigationItems();\r\n\r\n  const roles = [\r\n    { name: 'Viewer', href: '/viewer' },\r\n    { name: 'Farmer', href: '/farmer' },\r\n    { name: 'Logistics', href: '/logistics' },\r\n    { name: 'Packaging', href: '/packaging' },\r\n    { name: 'Inspector', href: '/inspector' },\r\n  ];\r\n\r\n  return (\r\n    <nav className=\"bg-white shadow-sm border-b\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-between h-16 items-center\">\r\n          <div className=\"flex\">\r\n            <div className=\"flex-shrink-0 flex items-center\">\r\n              <img src={getAssetPath(\"/images/maroon-logo.png\")} alt=\"MAROON\" className=\"h-8 w-8 mr-3 nav-logo\" />\r\n              <div>\r\n                <Link href=\"/viewer\" className=\"text-xl font-bold text-gray-900\">\r\n                  Maroon Blockchain\r\n                </Link>\r\n                {currentUser?.role === 'farmer' && (\r\n                  <div className=\"text-sm text-green-600 font-medium\">Farmer Portal</div>\r\n                )}\r\n                {currentUser?.role === 'viewer' && (\r\n                  <div className=\"text-sm text-gray-600 font-medium\">Public Portal</div>\r\n                )}\r\n                {currentUser?.role === 'logistics' && (\r\n                  <div className=\"text-sm text-blue-600 font-medium\">Logistics Portal</div>\r\n                )}\r\n                {currentUser?.role === 'inspector' && (\r\n                  <div className=\"text-sm text-purple-600 font-medium\">Inspector Portal</div>\r\n                )}\r\n                {currentUser?.role === 'packaging' && (\r\n                  <div className=\"text-sm text-orange-600 font-medium\">Packaging Portal</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center space-x-6\">\r\n            {/* Main Navigation - Desktop */}\r\n            <div className=\"hidden sm:flex sm:space-x-4\">\r\n              {navigation.map((item: any) => (\r\n                <Link\r\n                  key={item.name}\r\n                  href={item.href}\r\n                  className={`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${\r\n                    item.current\r\n                      ? 'border-green-600 text-green-700'\r\n                      : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'\r\n                  }`}\r\n                  title={item.description}\r\n                >\r\n                  {item.icon && <span className=\"mr-2\">{item.icon}</span>}\r\n                  {item.name}\r\n                </Link>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Mobile Navigation - Hamburger Menu with Navigation Tabs */}\r\n            <div className=\"sm:hidden\">\r\n              <Button \r\n                variant=\"ghost\" \r\n                className=\"flex items-center space-x-2\"\r\n                onClick={() => setIsDropdownOpen(!isDropdownOpen)}\r\n              >\r\n                <Menu className=\"h-4 w-4\" />\r\n              </Button>\r\n              \r\n              {isDropdownOpen && (\r\n                <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50 border border-gray-200\">\r\n                  <div className=\"py-1\">\r\n                    {/* Mobile Navigation Items - Same as Desktop */}\r\n                    {navigation.map((item: any) => (\r\n                      <Link\r\n                        key={item.name}\r\n                        href={item.href}\r\n                        onClick={() => setIsDropdownOpen(false)}\r\n                        className={`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 flex items-center space-x-2 ${\r\n                          item.current\r\n                            ? 'bg-gray-100'\r\n                            : ''\r\n                        }`}\r\n                        title={item.description}\r\n                      >\r\n                        {item.icon && <span className=\"mr-2\">{item.icon}</span>}\r\n                        {item.name}\r\n                      </Link>\r\n                    ))}\r\n                    \r\n                    {/* Role Switching Section */}\r\n                    <div className=\"border-t border-gray-200 mt-2 pt-2\">\r\n                      {roles.map((role: any) => (\r\n                        <button\r\n                          key={role.name}\r\n                          onClick={() => {\r\n                            if (role.name === 'Viewer') {\r\n                              // Update user context first, then navigate\r\n                              const viewerUser = DEMO_USERS.find((u: any) => u.role === 'viewer');\r\n                              if (viewerUser) {\r\n                                switchUser(viewerUser.id);\r\n                                // Small delay to ensure context updates before navigation\r\n                                setTimeout(() => {\r\n                                  window.location.href = '/viewer';\r\n                                }, 100);\r\n                              } else {\r\n                                // Fallback if viewer user not found\r\n                                window.location.href = '/viewer';\r\n                              }\r\n                            } else {\r\n                              // For other roles, go to login first\r\n                              router.push('/login');\r\n                            }\r\n                            setIsDropdownOpen(false);\r\n                          }}\r\n                          className={`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 flex items-center space-x-2 ${\r\n                            (currentUser?.role === 'farmer' && role.name === 'Farmer') || \r\n                            (currentUser?.role === 'viewer' && role.name === 'Viewer') ||\r\n                            (currentUser?.role === 'logistics' && role.name === 'Logistics') ||\r\n                            (currentUser?.role === 'inspector' && role.name === 'Inspector') ||\r\n                            (currentUser?.role === 'packaging' && role.name === 'Packaging')\r\n                              ? 'bg-gray-100' : ''\r\n                          }`}\r\n                        >\r\n                          <span className=\"capitalize\">{role.name}</span>\r\n                          {((currentUser?.role === 'farmer' && role.name === 'Farmer') || \r\n                            (currentUser?.role === 'viewer' && role.name === 'Viewer') ||\r\n                            (currentUser?.role === 'logistics' && role.name === 'Logistics') ||\r\n                            (currentUser?.role === 'inspector' && role.name === 'Inspector') ||\r\n                            (currentUser?.role === 'packaging' && role.name === 'Packaging')) && (\r\n                            <span className=\"text-xs text-gray-500\">(Current)</span>\r\n                          )}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1574, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/lib/theme/colors.ts"],"sourcesContent":["// src/lib/theme/colors.ts\r\n// Centralized color configuration for consistent theming across the application\r\n\r\n// Dashboard color variants for metrics cards and UI elements\r\nexport const dashboardColors = {\r\n  green: {\r\n    bg: 'bg-green',\r\n    light: 'bg-green-light',\r\n    text: 'text-green-foreground',\r\n    border: 'border-green/20',\r\n    hover: 'hover:bg-green-hover',\r\n  },\r\n  blue: {\r\n    bg: 'bg-blue',\r\n    light: 'bg-blue-light',\r\n    text: 'text-blue-foreground',\r\n    border: 'border-blue/20',\r\n    hover: 'hover:bg-blue-hover',\r\n  },\r\n  purple: {\r\n    bg: 'bg-purple',\r\n    light: 'bg-purple-light',\r\n    text: 'text-purple-foreground',\r\n    border: 'border-purple/20',\r\n    hover: 'hover:bg-purple-hover',\r\n  },\r\n  orange: {\r\n    bg: 'bg-orange',\r\n    light: 'bg-orange-light',\r\n    text: 'text-orange-foreground',\r\n    border: 'border-orange/20',\r\n    hover: 'hover:bg-orange-hover',\r\n  },\r\n  neutral: {\r\n    bg: 'bg-neutral',\r\n    light: 'bg-neutral-light',\r\n    text: 'text-neutral-foreground',\r\n    border: 'border-neutral/20',\r\n    hover: 'hover:bg-neutral-dark',\r\n  },\r\n};\r\n\r\n// Role-specific color schemes for harmonized hero and button colors\r\nexport const roleColorSchemes = {\r\n  farmer: {\r\n    hero: 'from-green-600 to-green-500',\r\n    button: 'bg-green-600 hover:bg-green-700 text-white',\r\n    accent: 'bg-green-100 text-green-800 border-green-200',\r\n  },\r\n  retailer: {\r\n    hero: 'from-blue-600 to-blue-500',\r\n    button: 'bg-blue-600 hover:bg-blue-700 text-white',\r\n    accent: 'bg-blue-100 text-blue-800 border-blue-200',\r\n  },\r\n  viewer: {\r\n    hero: 'from-gray-600 to-gray-500',\r\n    button: 'bg-gray-600 hover:bg-gray-700 text-white',\r\n    accent: 'bg-gray-100 text-gray-800 border-gray-200',\r\n  },\r\n  logistics: {\r\n    hero: 'from-emerald-600 to-emerald-500',\r\n    button: 'bg-emerald-600 hover:bg-emerald-700 text-white',\r\n    accent: 'bg-emerald-100 text-emerald-800 border-emerald-200',\r\n  },\r\n};\r\n\r\n// Helper function to get role-specific colors\r\nexport function getRoleColors(role: keyof typeof roleColorSchemes) {\r\n  return roleColorSchemes[role] || roleColorSchemes.viewer;\r\n}\r\n\r\n// Banner/hero section gradients\r\nexport const bannerGradients = {\r\n  primary: 'from-primary to-primary/80',\r\n  success: 'from-success to-success/80',\r\n  warning: 'from-warning to-warning/80',\r\n  error: 'from-error to-error/80',\r\n  info: 'from-blue to-blue/80',\r\n  green: 'from-green to-green/80',\r\n  blue: 'from-blue to-blue/80',\r\n  purple: 'from-purple to-purple/80',\r\n  orange: 'from-orange to-orange/80',\r\n};\r\n\r\n// Category colors for product categories\r\nexport const categoryColors = {\r\n  fruit: {\r\n    bg: 'bg-category-fruit-bg',\r\n    text: 'bg-category-fruit-text',\r\n    border: 'bg-category-fruit-border',\r\n  },\r\n  veg: {\r\n    bg: 'bg-category-veg-bg',\r\n    text: 'bg-category-veg-text',\r\n    border: 'bg-category-veg-border',\r\n  },\r\n  beef: {\r\n    bg: 'bg-category-beef-bg',\r\n    text: 'bg-category-beef-text',\r\n    border: 'bg-category-beef-border',\r\n  },\r\n  poultry: {\r\n    bg: 'bg-category-poultry-bg',\r\n    text: 'bg-category-poultry-text',\r\n    border: 'bg-category-poultry-border',\r\n  },\r\n  pork: {\r\n    bg: 'bg-category-pork-bg',\r\n    text: 'bg-category-pork-text',\r\n    border: 'bg-category-pork-border',\r\n  },\r\n  lamb: {\r\n    bg: 'bg-category-lamb-bg',\r\n    text: 'bg-category-lamb-text',\r\n    border: 'bg-category-lamb-border',\r\n  },\r\n  goat: {\r\n    bg: 'bg-category-goat-bg',\r\n    text: 'bg-category-goat-text',\r\n    border: 'bg-category-goat-border',\r\n  },\r\n  fish: {\r\n    bg: 'bg-category-fish-bg',\r\n    text: 'bg-category-fish-text',\r\n    border: 'bg-category-fish-border',\r\n  },\r\n};\r\n\r\n// Dashboard card colors for metrics\r\nexport const cardColors = {\r\n  'total-transactions': {\r\n    bg: 'bg-card-green-light',\r\n    text: 'text-card-green',\r\n    border: 'border-card-green/20',\r\n    icon: 'text-card-green',\r\n  },\r\n  'monthly-revenue': {\r\n    bg: 'bg-card-blue-light',\r\n    text: 'text-card-blue',\r\n    border: 'border-card-blue/20',\r\n    icon: 'text-card-blue',\r\n  },\r\n  'active-farms': {\r\n    bg: 'bg-card-purple-light',\r\n    text: 'text-card-purple',\r\n    border: 'border-card-purple/20',\r\n    icon: 'text-card-purple',\r\n  },\r\n  'retailers': {\r\n    bg: 'bg-card-orange-light',\r\n    text: 'text-card-orange',\r\n    border: 'border-card-orange/20',\r\n    icon: 'text-card-orange',\r\n  },\r\n  'avg-fee': {\r\n    bg: 'bg-card-neutral-light',\r\n    text: 'text-card-neutral',\r\n    border: 'border-card-neutral/20',\r\n    icon: 'text-card-neutral',\r\n  },\r\n  // Add fallback variants\r\n  'primary-card': {\r\n    bg: 'bg-card-blue-light',\r\n    text: 'text-card-blue',\r\n    border: 'border-card-blue/20',\r\n    icon: 'text-card-blue',\r\n  },\r\n  'secondary-card': {\r\n    bg: 'bg-card-purple-light',\r\n    text: 'text-card-purple',\r\n    border: 'border-card-purple/20',\r\n    icon: 'text-card-purple',\r\n  }\r\n};\r\n\r\n// Status colors for badges and indicators\r\nexport const statusColors = {\r\n  certified: {\r\n    bg: 'bg-success',\r\n    light: 'bg-success-light',\r\n    text: 'text-success-foreground',\r\n    border: 'border-success/20',\r\n    icon: 'text-success',\r\n  },\r\n  pending: {\r\n    bg: 'bg-warning',\r\n    light: 'bg-warning-light',\r\n    text: 'text-warning-foreground',\r\n    border: 'border-warning/20',\r\n    icon: 'text-warning',\r\n  },\r\n  'in-transit': {\r\n    bg: 'bg-warning',\r\n    light: 'bg-warning-light',\r\n    text: 'text-warning-foreground',\r\n    border: 'border-warning/20',\r\n    icon: 'text-warning',\r\n  },\r\n  delivered: {\r\n    bg: 'bg-blue',\r\n    light: 'bg-blue-light',\r\n    text: 'text-blue-foreground',\r\n    border: 'border-blue/20',\r\n    icon: 'text-blue',\r\n  },\r\n  info: {\r\n    bg: 'bg-blue',\r\n    light: 'bg-blue-light',\r\n    text: 'text-blue-foreground',\r\n    border: 'border-blue/20',\r\n    icon: 'text-blue',\r\n  },\r\n  error: {\r\n    bg: 'bg-error',\r\n    light: 'bg-error-light',\r\n    text: 'text-error-foreground',\r\n    border: 'border-error/20',\r\n    icon: 'text-error',\r\n  },\r\n  success: {\r\n    bg: 'bg-success',\r\n    light: 'bg-success-light',\r\n    text: 'text-success-foreground',\r\n    border: 'border-success/20',\r\n    icon: 'text-success',\r\n  },\r\n  warning: {\r\n    bg: 'bg-warning',\r\n    light: 'bg-warning-light',\r\n    text: 'text-warning-foreground',\r\n    border: 'border-warning/20',\r\n    icon: 'text-warning',\r\n  },\r\n};\r\n\r\n// Button variants for consistent styling\r\nexport const buttonVariants = {\r\n  primary: {\r\n    base: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n    outline: 'border border-primary text-primary hover:bg-primary/10',\r\n  },\r\n  secondary: {\r\n    base: 'bg-secondary text-secondary-foreground hover:bg-secondary/90',\r\n    outline: 'border border-secondary text-secondary hover:bg-secondary/10',\r\n  },\r\n  accent: {\r\n    base: 'bg-accent text-accent-foreground hover:bg-accent/90',\r\n    outline: 'border border-accent text-accent hover:bg-accent/10',\r\n  },\r\n  success: {\r\n    base: 'bg-success text-success-foreground hover:bg-success/90',\r\n    outline: 'border border-success text-success hover:bg-success/10',\r\n  },\r\n  warning: {\r\n    base: 'bg-warning text-warning-foreground hover:bg-warning/90',\r\n    outline: 'border border-warning text-warning hover:bg-warning/10',\r\n  },\r\n  error: {\r\n    base: 'bg-error text-error-foreground hover:bg-error/90',\r\n    outline: 'border border-error text-error hover:bg-error/10',\r\n  },\r\n  green: {\r\n    base: 'bg-green text-green-foreground hover:bg-green-hover',\r\n    outline: 'border border-green text-green hover:bg-green/10',\r\n  },\r\n  blue: {\r\n    base: 'bg-blue text-blue-foreground hover:bg-blue-hover',\r\n    outline: 'border border-blue text-blue hover:bg-blue/10',\r\n  },\r\n  purple: {\r\n    base: 'bg-purple text-purple-foreground hover:bg-purple-hover',\r\n    outline: 'border border-purple text-purple hover:bg-purple/10',\r\n  },\r\n  orange: {\r\n    base: 'bg-orange text-orange-foreground hover:bg-orange-hover',\r\n    outline: 'border border-orange text-orange hover:bg-orange/10',\r\n  },\r\n  neutral: {\r\n    base: 'bg-neutral text-neutral-foreground hover:bg-neutral-dark',\r\n    outline: 'border border-neutral text-neutral hover:bg-neutral-light',\r\n  },\r\n};\r\n\r\n// Helper function to get color scheme by variant\r\nexport function getColorScheme(variant: keyof typeof dashboardColors) {\r\n  return dashboardColors[variant] || dashboardColors.neutral;\r\n}\r\n\r\n// Helper function to get status colors\r\nexport function getStatusColors(status: keyof typeof statusColors) {\r\n  return statusColors[status] || statusColors.info;\r\n}\r\n\r\n// Helper function to get button styles\r\nexport function getButtonStyles(variant: keyof typeof buttonVariants, type: 'base' | 'outline' = 'base') {\r\n  return buttonVariants[variant]?.[type] || buttonVariants.primary.base;\r\n}\r\n\r\n// Text colors for better readability\r\nexport const textColors = {\r\n  primary: 'text-gray-700',\r\n  secondary: 'text-gray-600', \r\n  muted: 'text-gray-500',\r\n  foreground: 'text-foreground',\r\n  white: 'text-white',\r\n  success: 'text-success',\r\n  warning: 'text-warning',\r\n  error: 'text-error',\r\n  info: 'text-info'\r\n};\r\n\r\n// Background colors\r\nexport const bgColors = {\r\n  primary: 'bg-card-blue-light',\r\n  secondary: 'bg-card-purple-light',\r\n  success: 'bg-card-green-light',\r\n  warning: 'bg-card-orange-light',\r\n  error: 'bg-card-neutral-light',\r\n  neutral: 'bg-card-neutral-light',\r\n  white: 'bg-white',\r\n  muted: 'bg-gray-50'\r\n};\r\n\r\n// Border colors\r\nexport const borderColors = {\r\n  primary: 'border-card-blue/20',\r\n  secondary: 'border-card-purple/20',\r\n  success: 'border-card-green/20',\r\n  warning: 'border-card-orange/20',\r\n  error: 'border-card-neutral/20',\r\n  neutral: 'border-card-neutral/20',\r\n  default: 'border-gray-200'\r\n};\r\n\r\n// Common hardcoded colors that should be used consistently\r\nexport const commonColors = {\r\n  // Gray scale\r\n  white: 'text-white',\r\n  black: 'text-black',\r\n  gray50: 'bg-gray-50',\r\n  gray100: 'bg-gray-100',\r\n  gray200: 'bg-gray-200',\r\n  gray400: 'text-gray-400',\r\n  gray500: 'text-gray-500',\r\n  gray600: 'text-gray-600',\r\n  gray700: 'text-gray-700',\r\n  gray800: 'text-gray-800',\r\n  gray900: 'text-gray-900',\r\n  borderGray200: 'border-gray-200',\r\n  borderGray700: 'border-gray-700',\r\n  hoverGray100: 'hover:bg-gray-100',\r\n  \r\n  // Status colors\r\n  blue500: 'text-blue-500',\r\n  blue600: 'text-blue-600',\r\n  green400: 'text-green-400',\r\n  green600: 'text-green-600',\r\n  green700: 'text-green-700',\r\n  red100: 'bg-red-100',\r\n  red800: 'text-red-800',\r\n  yellow100: 'bg-yellow-100',\r\n  yellow400: 'text-yellow-400',\r\n  yellow800: 'text-yellow-800',\r\n  emerald100: 'bg-emerald-100',\r\n  emerald800: 'text-emerald-800',\r\n  pink100: 'bg-pink-100',\r\n  pink800: 'text-pink-800',\r\n  purple100: 'bg-purple-100',\r\n  purple800: 'text-purple-800',\r\n  orange100: 'bg-orange-100',\r\n  orange800: 'text-orange-800',\r\n  \r\n  // Blockchain/crypto colors\r\n  blockchainBg: 'bg-gradient-to-r from-blue-50 to-indigo-50',\r\n  blockchainText: 'text-blue-600',\r\n  blockchainBorder: 'border-gray-700',\r\n  \r\n  // Interactive states\r\n  hoverTransition: 'transition-colors',\r\n  \r\n  // Background colors\r\n  whiteBg: 'bg-white',\r\n  transparentBg: 'bg-transparent',\r\n  \r\n  // Shadow and border utilities\r\n  shadowLg: 'shadow-lg',\r\n  roundedLg: 'rounded-lg',\r\n  roundedFull: 'rounded-full',\r\n};\r\n\r\n// Chart colors for data visualization\r\nexport const chartColors = {\r\n  primary: '#3b82f6',\r\n  primaryDark: '#2563eb',\r\n  success: '#10b981', \r\n  successDark: '#059669',\r\n  warning: '#f59e0b',\r\n  warningDark: '#d97706',\r\n  error: '#ef4444',\r\n  errorDark: '#dc2626',\r\n  purple: '#8b5cf6',\r\n  purpleDark: '#7c3aed',\r\n  gray: '#666666',\r\n  pieDefault: '#8884d8'\r\n};\r\n\r\n// Helper function to get banner gradient\r\nexport function getBannerGradient(type: keyof typeof bannerGradients = 'primary') {\r\n  return bannerGradients[type] || bannerGradients.primary;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1986, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/components/dashboard/metricsCard.tsx"],"sourcesContent":["// src/components/dashboard/metricsCard.tsx\r\n'use client';\r\n\r\nimport React from 'react';\r\nimport { LucideIcon } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { cardColors } from '@/lib/theme/colors';\r\n\r\ninterface MetricsCardProps {\r\n  icon: React.ReactNode;\r\n  label: string;\r\n  value: string | number;\r\n  variant?: 'primary' | 'secondary' | 'success' | 'warning' | 'error' | 'total-transactions' | 'monthly-revenue' | 'active-farms' | 'retailers' | 'avg-fee' | 'primary-card' | 'secondary-card';\r\n  compact?: boolean;\r\n}\r\n\r\nexport function MetricsCard({ \r\n  icon, \r\n  label, \r\n  value, \r\n  variant = 'primary',\r\n  compact = false \r\n}: MetricsCardProps) {\r\n  // Use colors from the centralized color file\r\n  const colorScheme = cardColors[variant as keyof typeof cardColors] || cardColors['total-transactions'];\r\n\r\n  if (compact) {\r\n    return (\r\n      <div className={cn(\r\n        colorScheme.bg,\r\n        'p-3 rounded-xl border shadow-sm hover:shadow-md transition-shadow h-full',\r\n        colorScheme.border\r\n      )}>\r\n        <div className=\"flex items-start\">\r\n          <div className={cn(\r\n            colorScheme.bg,\r\n            'p-2 rounded-lg border shadow-sm mr-3',\r\n            colorScheme.border\r\n          )}>\r\n            <div className={cn('h-4 w-4 flex items-center justify-center', colorScheme.icon)}>\r\n              {icon}\r\n            </div>\r\n          </div>\r\n          <div className=\"flex-1 min-w-0\">\r\n            <p className=\"text-sm font-medium text-gray-500\">{label}</p>\r\n            <p className=\"text-xl font-bold text-gray-500\">{value}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className={cn(\r\n        colorScheme.bg,\r\n        'p-4 rounded-xl border shadow-sm hover:shadow-md transition-all',\r\n        colorScheme.border\r\n      )}\r\n    >\r\n      <div className=\"flex items-center\">\r\n        <div className={cn(\r\n          colorScheme.bg,\r\n          'p-2 rounded-lg border shadow-sm mr-4',\r\n          colorScheme.border\r\n        )}\r\n        >\r\n          <div className={cn('h-6 w-6 flex items-center justify-center', colorScheme.icon)}>\r\n            {icon}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <p className=\"text-sm font-medium text-gray-500\">{label}</p>\r\n          <p className={cn('text-2xl font-bold', colorScheme.icon)}>{value}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAKA;AACA;AANA,2CAA2C;AAC3C;;;;AAeO,SAAS,YAAY,EAC1B,IAAI,EACJ,KAAK,EACL,KAAK,EACL,UAAU,SAAS,EACnB,UAAU,KAAK,EACE;IACjB,6CAA6C;IAC7C,MAAM,cAAc,oIAAU,CAAC,QAAmC,IAAI,oIAAU,CAAC,qBAAqB;IAEtG,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAW,IAAA,kHAAE,EAChB,YAAY,EAAE,EACd,4EACA,YAAY,MAAM;sBAElB,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAW,IAAA,kHAAE,EAChB,YAAY,EAAE,EACd,wCACA,YAAY,MAAM;kCAElB,cAAA,8OAAC;4BAAI,WAAW,IAAA,kHAAE,EAAC,4CAA4C,YAAY,IAAI;sCAC5E;;;;;;;;;;;kCAGL,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAqC;;;;;;0CAClD,8OAAC;gCAAE,WAAU;0CAAmC;;;;;;;;;;;;;;;;;;;;;;;IAK1D;IAEA,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,YAAY,EAAE,EACd,kEACA,YAAY,MAAM;kBAGpB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAW,IAAA,kHAAE,EAChB,YAAY,EAAE,EACd,wCACA,YAAY,MAAM;8BAGlB,cAAA,8OAAC;wBAAI,WAAW,IAAA,kHAAE,EAAC,4CAA4C,YAAY,IAAI;kCAC5E;;;;;;;;;;;8BAGL,8OAAC;;sCACC,8OAAC;4BAAE,WAAU;sCAAqC;;;;;;sCAClD,8OAAC;4BAAE,WAAW,IAAA,kHAAE,EAAC,sBAAsB,YAAY,IAAI;sCAAI;;;;;;;;;;;;;;;;;;;;;;;AAKrE"}},
    {"offset": {"line": 2119, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/components/dashboard/DashboardLayout.tsx"],"sourcesContent":["// src/components/dashboard/DashboardLayout.tsx\r\nimport React from 'react';\r\nimport { Navigation } from '../layout/navigation';\r\nimport { getRoleColors } from '@/lib/theme/colors';\r\nimport { MetricsCard } from './metricsCard';\r\n\r\ninterface DashboardLayoutProps {\r\n  children: React.ReactNode;\r\n  title?: string;\r\n  subtitle?: string;\r\n  actions?: React.ReactNode;\r\n  welcomeMessage?: string;\r\n  description?: string;\r\n  cards?: any[];\r\n}\r\n\r\ninterface MetricsCardProps {\r\n  title: string;\r\n  value: number;\r\n  icon: React.ReactNode;\r\n  color: string;\r\n  variant?: string;\r\n}\r\n\r\nfunction MetricsCardWrapper({ title, value, icon, color, variant = 'primary' }: MetricsCardProps) {\r\n  return (\r\n    <MetricsCard\r\n      icon={icon as any}\r\n      label={title}\r\n      value={value}\r\n      variant={variant as any}\r\n    />\r\n  );\r\n}\r\n\r\nexport function DashboardLayout({ children, title, subtitle, actions, welcomeMessage, description, cards }: DashboardLayoutProps) {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <Navigation />\r\n      <div className=\"px-4 sm:px-6 lg:px-8\">\r\n        {(title || subtitle || actions) && (\r\n          <div className=\"text-center mb-8\">\r\n            {title && <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">{title}</h1>}\r\n            {subtitle && <p className=\"mt-2 text-lg text-gray-600 max-w-2xl mx-auto\">{subtitle}</p>}\r\n            {actions && <div className=\"flex justify-center mt-4 space-x-3\">{actions}</div>}\r\n          </div>\r\n        )}\r\n        \r\n        {/* Render metrics cards if provided */}\r\n        {cards && cards.length > 0 && (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6\">\r\n            {cards.map((card, index) => (\r\n              <MetricsCardWrapper\r\n                key={index}\r\n                title={card.title}\r\n                value={card.value}\r\n                icon={card.icon}\r\n                color={card.color}\r\n                variant={card.variant}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"space-y-6\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,+CAA+C;;;;;;AAE/C;AAEA;;;;AAoBA,SAAS,mBAAmB,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,UAAU,SAAS,EAAoB;IAC9F,qBACE,8OAAC,sJAAW;QACV,MAAM;QACN,OAAO;QACP,OAAO;QACP,SAAS;;;;;;AAGf;AAEO,SAAS,gBAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,KAAK,EAAwB;IAC9H,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,iJAAU;;;;;0BACX,8OAAC;gBAAI,WAAU;;oBACZ,CAAC,SAAS,YAAY,OAAO,mBAC5B,8OAAC;wBAAI,WAAU;;4BACZ,uBAAS,8OAAC;gCAAG,WAAU;0CAAyC;;;;;;4BAChE,0BAAY,8OAAC;gCAAE,WAAU;0CAAgD;;;;;;4BACzE,yBAAW,8OAAC;gCAAI,WAAU;0CAAsC;;;;;;;;;;;;oBAKpE,SAAS,MAAM,MAAM,GAAG,mBACvB,8OAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,8OAAC;gCAEC,OAAO,KAAK,KAAK;gCACjB,OAAO,KAAK,KAAK;gCACjB,MAAM,KAAK,IAAI;gCACf,OAAO,KAAK,KAAK;gCACjB,SAAS,KAAK,OAAO;+BALhB;;;;;;;;;;kCAWb,8OAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 2230, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/components/dashboard/constants.ts"],"sourcesContent":["// src/components/dashboard/constants.ts\r\n\r\nexport const CHART_COLORS = [\r\n  '#3b82f6',\r\n  '#10b981', \r\n  '#f59e0b',\r\n  '#ef4444',\r\n  '#6b7280',\r\n  '#22c55e',\r\n  '#f97316',\r\n  '#dc2626',\r\n  '#06b6d4',\r\n] as const;\r\n\r\nexport const CHART_COLOR_MAP = {\r\n  primary: '#3b82f6',\r\n  secondary: '#10b981',\r\n  tertiary: '#f59e0b',\r\n  quaternary: '#ef4444',\r\n  neutral: '#6b7280',\r\n  success: '#22c55e',\r\n  warning: '#f97316',\r\n  error: '#dc2626',\r\n  info: '#06b6d4',\r\n  background: '#f3f4f6',\r\n  border: '#e5e7eb',\r\n  text: '#111827',\r\n  textSecondary: '#6b7280',\r\n};\r\n\r\nexport const DASHBOARD_CONFIG = {\r\n  refreshInterval: 30000, // 30 seconds\r\n  maxDataPoints: 50,\r\n  animationDuration: 300,\r\n};\r\n\r\nexport const METRICS_LABELS = {\r\n  totalProducts: 'Total Products',\r\n  verifiedProducts: 'Verified Products',\r\n  pendingVerifications: 'Pending Verifications',\r\n  activeUsers: 'Active Users',\r\n  systemUptime: 'System Uptime',\r\n  averageResponseTime: 'Avg Response Time',\r\n};\r\n"],"names":[],"mappings":"AAAA,wCAAwC;;;;;;;;;;;AAEjC,MAAM,eAAe;IAC1B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,kBAAkB;IAC7B,SAAS;IACT,WAAW;IACX,UAAU;IACV,YAAY;IACZ,SAAS;IACT,SAAS;IACT,SAAS;IACT,OAAO;IACP,MAAM;IACN,YAAY;IACZ,QAAQ;IACR,MAAM;IACN,eAAe;AACjB;AAEO,MAAM,mBAAmB;IAC9B,iBAAiB;IACjB,eAAe;IACf,mBAAmB;AACrB;AAEO,MAAM,iBAAiB;IAC5B,eAAe;IACf,kBAAkB;IAClB,sBAAsB;IACtB,aAAa;IACb,cAAc;IACd,qBAAqB;AACvB"}},
    {"offset": {"line": 2284, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/components/qr/QRScanner.tsx"],"sourcesContent":["// src/components/qr/QRScanner.tsx\r\n'use client';\r\n\r\nimport { useState, useCallback, useRef } from 'react';\r\nimport { Camera, X, CheckCircle, AlertCircle, QrCode } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\n\r\ninterface QRScannerProps {\r\n  onScanSuccess?: (data: string) => void;\r\n  onScanError?: (error: string) => void;\r\n  onClose?: () => void;\r\n  mockMode?: boolean;\r\n}\r\n\r\nexport function QRScanner({ \r\n  onScanSuccess, \r\n  onScanError, \r\n  onClose, \r\n  mockMode = true \r\n}: QRScannerProps) {\r\n  const [isScanning, setIsScanning] = useState(false);\r\n  const [scanResult, setScanResult] = useState<string | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [showMockDialog, setShowMockDialog] = useState(false);\r\n  const [mockInput, setMockInput] = useState('');\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n\r\n  const startScanning = useCallback(() => {\r\n    if (mockMode) {\r\n      setShowMockDialog(true);\r\n      setIsScanning(true);\r\n      setError(null);\r\n      setScanResult(null);\r\n    } else {\r\n      // Real QR code scanning logic would go here\r\n      setIsScanning(true);\r\n      setError(null);\r\n      setScanResult(null);\r\n    }\r\n  }, [mockMode]);\r\n\r\n  const stopScanning = useCallback(() => {\r\n    setIsScanning(false);\r\n    setShowMockDialog(false);\r\n    setMockInput('');\r\n    setError(null);\r\n  }, []);\r\n\r\n  const handleMockScan = useCallback(() => {\r\n    if (!mockInput.trim()) {\r\n      const errorMsg = 'Please enter a product ID or QR code data';\r\n      setError(errorMsg);\r\n      onScanError?.(errorMsg);\r\n      return;\r\n    }\r\n\r\n    // Simulate successful scan\r\n    setScanResult(mockInput);\r\n    setError(null);\r\n    onScanSuccess?.(mockInput);\r\n    \r\n    // Auto-close after successful scan\r\n    setTimeout(() => {\r\n      stopScanning();\r\n      onClose?.();\r\n    }, 1500);\r\n  }, [mockInput, onScanSuccess, onScanError, onClose, stopScanning]);\r\n\r\n  const generateMockProductIds = useCallback(() => {\r\n    const mockIds = [\r\n      'PRD-2024-001',\r\n      'PRD-2024-002', \r\n      'PRD-2024-003',\r\n      'BLK1704123456789',\r\n      'TRACE-DEMO-001'\r\n    ];\r\n    return mockIds[Math.floor(Math.random() * mockIds.length)];\r\n  }, []);\r\n\r\n  const useMockId = useCallback(() => {\r\n    const mockId = generateMockProductIds();\r\n    setMockInput(mockId);\r\n  }, [generateMockProductIds]);\r\n\r\n  if (showMockDialog) {\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\r\n        <div className=\"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                <QrCode className=\"h-6 w-6 text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">QR Scanner</h3>\r\n                <p className=\"text-sm text-gray-500\">Mock Mode - Enter product ID</p>\r\n              </div>\r\n            </div>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={stopScanning}\r\n              className=\"h-8 w-8 p-0\"\r\n            >\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n\r\n          {scanResult ? (\r\n            <div className=\"text-center py-8\">\r\n              <div className=\"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4\">\r\n                <CheckCircle className=\"h-8 w-8 text-green-600\" />\r\n              </div>\r\n              <h4 className=\"text-lg font-semibold text-gray-900 mb-2\">Scan Successful!</h4>\r\n              <p className=\"text-sm text-gray-600 font-mono bg-gray-100 px-3 py-2 rounded\">\r\n                {scanResult}\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Enter Product ID or QR Data\r\n                </label>\r\n                <div className=\"flex gap-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={mockInput}\r\n                    onChange={(e) => setMockInput(e.target.value)}\r\n                    placeholder=\"e.g., PRD-2024-001\"\r\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                    autoFocus\r\n                  />\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={useMockId}\r\n                    className=\"whitespace-nowrap\"\r\n                  >\r\n                    Random\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              {error && (\r\n                <div className=\"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg\">\r\n                  <AlertCircle className=\"h-4 w-4 text-red-600 flex-shrink-0\" />\r\n                  <p className=\"text-sm text-red-700\">{error}</p>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex gap-3\">\r\n                <Button\r\n                  onClick={handleMockScan}\r\n                  className=\"flex-1 bg-blue-600 hover:bg-blue-700\"\r\n                >\r\n                  Scan Product\r\n                </Button>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={stopScanning}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n\r\n              <div className=\"text-xs text-gray-500 text-center\">\r\n                <p>Try: PRD-2024-001, BLK1704123456789, or click \"Random\"</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 flex items-center justify-center min-h-[400px]\">\r\n      <div className=\"text-center w-full\">\r\n        <div className=\"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4\">\r\n          <Camera className=\"h-8 w-8 text-blue-600\" />\r\n        </div>\r\n        \r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">QR Code Scanner</h3>\r\n        <p className=\"text-sm text-gray-600 mb-6\">\r\n          {mockMode ? 'Mock Mode - Simulate QR scanning' : 'Scan product QR codes'}\r\n        </p>\r\n\r\n        {isScanning ? (\r\n          <div className=\"space-y-4\">\r\n            <div className=\"relative\">\r\n              <div className=\"w-64 h-64 mx-auto bg-gray-900 rounded-lg overflow-hidden\">\r\n                {/* Mock scanning animation */}\r\n                <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                  <div className=\"text-white text-center\">\r\n                    <QrCode className=\"h-16 w-16 mx-auto mb-4 animate-pulse\" />\r\n                    <p className=\"text-sm\">Scanning...</p>\r\n                  </div>\r\n                </div>\r\n                {/* Scanning line animation */}\r\n                <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-b from-blue-400 to-transparent animate-pulse\"></div>\r\n              </div>\r\n            </div>\r\n            \r\n            <Button\r\n              onClick={stopScanning}\r\n              variant=\"outline\"\r\n              className=\"w-full\"\r\n            >\r\n              Stop Scanning\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            <Button\r\n              onClick={startScanning}\r\n              className=\"w-full !bg-gradient-to-r !from-green-600 !to-green-500 hover:!from-green-700 hover:!to-green-600 !text-white shadow-lg rounded-full\"\r\n            >\r\n              Start Scanning\r\n            </Button>\r\n            \r\n            {mockMode && (\r\n              <p className=\"text-xs text-gray-500\">\r\n                This is a mock implementation for demonstration\r\n              </p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2769, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/components/qr/QRGenerator.tsx"],"sourcesContent":["// src/components/qr/QRGenerator.tsx\r\n'use client';\r\n\r\nimport { useState, useCallback } from 'react';\r\nimport { QrCode, Download, Share2, Copy, Check } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\n\r\ninterface QRGeneratorProps {\r\n  productId?: string;\r\n  productName?: string;\r\n  farmer?: string;\r\n  location?: string;\r\n  onGenerate?: (qrData: string) => void;\r\n  mockMode?: boolean;\r\n}\r\n\r\nexport function QRGenerator({ \r\n  productId = '',\r\n  productName = '',\r\n  farmer = '',\r\n  location = '',\r\n  onGenerate,\r\n  mockMode = true \r\n}: QRGeneratorProps) {\r\n  const [qrData, setQrData] = useState<string>('');\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [copied, setCopied] = useState(false);\r\n  const [showPreview, setShowPreview] = useState(false);\r\n\r\n  const generateQRData = useCallback(() => {\r\n    if (!productId.trim()) {\r\n      return '';\r\n    }\r\n\r\n    // Create structured QR data for the product\r\n    const qrContent = {\r\n      id: productId,\r\n      name: productName,\r\n      farmer: farmer,\r\n      location: location,\r\n      timestamp: new Date().toISOString(),\r\n      source: 'maroon-traceability'\r\n    };\r\n\r\n    return JSON.stringify(qrContent);\r\n  }, [productId, productName, farmer, location]);\r\n\r\n  const handleGenerate = useCallback(async () => {\r\n    if (!productId.trim()) {\r\n      return;\r\n    }\r\n\r\n    setIsGenerating(true);\r\n    \r\n    // Simulate QR generation delay\r\n    await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n    const generatedData = generateQRData();\r\n    setQrData(generatedData);\r\n    setShowPreview(true);\r\n    setIsGenerating(false);\r\n    \r\n    onGenerate?.(generatedData);\r\n  }, [productId, generateQRData, onGenerate]);\r\n\r\n  const handleCopy = useCallback(() => {\r\n    navigator.clipboard.writeText(qrData);\r\n    setCopied(true);\r\n    setTimeout(() => setCopied(false), 2000);\r\n  }, [qrData]);\r\n\r\n  const handleDownload = useCallback(() => {\r\n    // In a real implementation, this would download the QR code image\r\n    // For mock, we'll download the data as a text file\r\n    const blob = new Blob([qrData], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `qr-${productId}.txt`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n  }, [qrData, productId]);\r\n\r\n  const handleShare = useCallback(async () => {\r\n    if (navigator.share) {\r\n      try {\r\n        await navigator.share({\r\n          title: `Product QR Code: ${productName}`,\r\n          text: `Scan this QR code to verify ${productName} from ${farmer}`,\r\n          url: qrData\r\n        });\r\n      } catch (error) {\r\n        // Fallback to copying if share fails\r\n        handleCopy();\r\n      }\r\n    } else {\r\n      handleCopy();\r\n    }\r\n  }, [productName, farmer, qrData, handleCopy]);\r\n\r\n  const generateMockQR = useCallback(() => {\r\n    // Generate a mock QR code visual representation\r\n    const mockQR = [];\r\n    const size = 25;\r\n    \r\n    for (let i = 0; i < size; i++) {\r\n      const row = [];\r\n      for (let j = 0; j < size; j++) {\r\n        // Create a pattern that looks like a QR code\r\n        const isPositionMarker = \r\n          (i < 7 && j < 7) || // Top-left\r\n          (i < 7 && j >= size - 7) || // Top-right\r\n          (i >= size - 7 && j < 7); // Bottom-left\r\n        \r\n        const isRandomPattern = Math.random() > 0.5;\r\n        \r\n        row.push(isPositionMarker || isRandomPattern);\r\n      }\r\n      mockQR.push(row);\r\n    }\r\n    \r\n    return mockQR;\r\n  }, []);\r\n\r\n  const mockQRPattern = generateMockQR();\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-2xl shadow-lg border border-gray-200 p-6\">\r\n      <div className=\"text-center mb-6\">\r\n        <div className=\"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4\">\r\n          <QrCode className=\"h-8 w-8 text-green-600\" />\r\n        </div>\r\n        \r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">QR Code Generator</h3>\r\n        <p className=\"text-sm text-gray-600\">\r\n          {mockMode ? 'Mock Mode - Generate demo QR codes' : 'Generate product QR codes'}\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"space-y-4\">\r\n        {/* Product Info Input */}\r\n        <div className=\"space-y-3\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Product ID\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={productId}\r\n              onChange={(e) => setQrData('')} // Clear QR data when input changes\r\n              placeholder=\"e.g., PRD-2024-001\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n              Product Name\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={productName}\r\n              onChange={(e) => setQrData('')}\r\n              placeholder=\"e.g., Organic Apples\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-3\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Farmer\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={farmer}\r\n                onChange={(e) => setQrData('')}\r\n                placeholder=\"Farm name\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Location\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={location}\r\n                onChange={(e) => setQrData('')}\r\n                placeholder=\"Location\"\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Generate Button */}\r\n        <Button\r\n          onClick={handleGenerate}\r\n          disabled={!productId.trim() || isGenerating}\r\n          className=\"w-full bg-green-600 hover:bg-green-700\"\r\n        >\r\n          {isGenerating ? 'Generating...' : 'Generate QR Code'}\r\n        </Button>\r\n\r\n        {/* QR Code Preview */}\r\n        {showPreview && qrData && (\r\n          <div className=\"space-y-4\">\r\n            {/* Mock QR Code Visual */}\r\n            <div className=\"flex justify-center\">\r\n              <div className=\"p-4 bg-white border-2 border-gray-300 rounded-lg\">\r\n                <div className=\"grid grid-cols-25 gap-0\" style={{ gridTemplateColumns: `repeat(25, 1fr)` }}>\r\n                  {mockQRPattern.map((row, i) => (\r\n                    row.map((cell, j) => (\r\n                      <div\r\n                        key={`${i}-${j}`}\r\n                        className={`w-1 h-1 ${cell ? 'bg-black' : 'bg-white'}`}\r\n                      />\r\n                    ))\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* QR Data Display */}\r\n            <div className=\"bg-gray-50 p-3 rounded-lg\">\r\n              <p className=\"text-xs font-medium text-gray-700 mb-2\">QR Code Data:</p>\r\n              <p className=\"text-xs font-mono text-gray-600 break-all\">\r\n                {qrData}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"grid grid-cols-3 gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={handleCopy}\r\n                className=\"flex items-center gap-1\"\r\n              >\r\n                {copied ? (\r\n                  <Check className=\"h-3 w-3\" />\r\n                ) : (\r\n                  <Copy className=\"h-3 w-3\" />\r\n                )}\r\n                {copied ? 'Copied!' : 'Copy'}\r\n              </Button>\r\n\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={handleDownload}\r\n                className=\"flex items-center gap-1\"\r\n              >\r\n                <Download className=\"h-3 w-3\" />\r\n                Download\r\n              </Button>\r\n\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={handleShare}\r\n                className=\"flex items-center gap-1\"\r\n              >\r\n                <Share2 className=\"h-3 w-3\" />\r\n                Share\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Product Info Summary */}\r\n            <div className=\"bg-blue-50 p-3 rounded-lg\">\r\n              <p className=\"text-sm font-medium text-blue-900 mb-1\">Product Summary:</p>\r\n              <div className=\"text-xs text-blue-700 space-y-1\">\r\n                <p><strong>ID:</strong> {productId}</p>\r\n                <p><strong>Name:</strong> {productName}</p>\r\n                <p><strong>Farmer:</strong> {farmer}</p>\r\n                <p><strong>Location:</strong> {location}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {mockMode && (\r\n          <p className=\"text-xs text-gray-500 text-center\">\r\n            This is a mock implementation for demonstration\r\n          </p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3334, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/components/qr/index.ts"],"sourcesContent":["// src/components/qr/index.ts\r\nexport { QRScanner } from './QRScanner';\r\nexport { QRGenerator } from './QRGenerator';\r\n"],"names":[],"mappings":";AAAA,6BAA6B;AAC7B;AACA"}},
    {"offset": {"line": 3344, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/maroon_traceability_demo/app/viewer/page.tsx"],"sourcesContent":["// src/app/viewer/page.tsx\r\n'use client';\r\n\r\nimport { useRouter } from 'next/navigation';\r\nimport { useProducts, ProductCategory } from '@/contexts/productContext';\r\nimport { ErrorBoundary } from '@/components/errorBoundary';\r\nimport { useTheme } from 'next-themes';\r\nimport { eventLogger, EventType } from '@/services/eventLogger';\r\nimport { analytics } from '@/services/analytics';\r\nimport { realtime } from '@/services/realtime';\r\nimport { useEffect, useState, useMemo } from 'react';\r\nimport { DashboardLayout } from '@/components/dashboard/DashboardLayout';\r\nimport { MetricsCard } from '@/components/dashboard/metricsCard';\r\nimport { Button } from '@/components/ui/button';\r\nimport { CHART_COLORS } from '@/components/dashboard/constants';\r\nimport { getRoleColors, textColors, bgColors, borderColors, commonColors, chartColors, dashboardColors } from '@/lib/theme/colors';\r\nimport { PieChart, Pie, Cell, ResponsiveContainer, Tooltip } from 'recharts';\r\nimport { Package, Check, AlertCircle, TrendingUp, Wifi, WifiOff } from 'lucide-react';\r\nimport { QRScanner } from '@/components/qr';\r\n\r\ninterface CategoryData {\r\n  name: string;\r\n  value: number;\r\n  percentage: number;\r\n}\r\n\r\ninterface PieDataPoint {\r\n  name: string;\r\n  value: number;\r\n  percentage: number;\r\n}\r\n\r\ninterface CustomPieLabelProps {\r\n  name: string;\r\n  value: number;\r\n  percent?: number;\r\n  cx: number;\r\n  cy: number;\r\n  midAngle: number;\r\n  innerRadius: number;\r\n  outerRadius: number;\r\n}\r\n\r\n// Category Overview Component\r\nconst CategoryOverview = () => {\r\n  const { products } = useProducts();\r\n\r\n  console.log('CategoryOverview - products:', products);\r\n\r\n  try {\r\n    // Calculate category distribution\r\n    const categoryData = Object.values(ProductCategory).map(category => {\r\n      const count = products.filter(p => p.category === category).length;\r\n      const percentage = products.length > 0 ? (count / products.length) * 100 : 0;\r\n      return {\r\n        name: category,\r\n        value: count,\r\n        percentage: parseFloat(percentage.toFixed(1))\r\n      };\r\n    }).filter(item => item.value > 0);\r\n\r\n    console.log('CategoryOverview - categoryData:', categoryData);\r\n\r\n    // Sort by count (descending)\r\n    const sortedData = [...categoryData].sort((a, b) => b.value - a.value);\r\n\r\n    console.log('CategoryOverview - sortedData:', sortedData);\r\n\r\n    const renderCustomizedLabel = (props: any) => {\r\n      // Defensive checks to prevent runtime errors\r\n      if (!props || !props.cx || !props.cy || props.midAngle === undefined || !props.percent || !props.name) {\r\n        return null;\r\n      }\r\n      \r\n      const RADIAN = Math.PI / 180;\r\n      const innerRadius = props.innerRadius || 0;\r\n      const outerRadius = props.outerRadius || 0;\r\n      const radius = 25 + innerRadius + outerRadius;\r\n      const x = props.cx + radius * Math.cos(-props.midAngle * RADIAN);\r\n      const y = props.cy + radius * Math.sin(-props.midAngle * RADIAN);\r\n\r\n      return (\r\n        <text\r\n          x={x}\r\n          y={y}\r\n          fill={chartColors.gray}\r\n          textAnchor={x > props.cx ? 'start' : 'end'}\r\n          dominantBaseline=\"central\"\r\n          className=\"text-xs\"\r\n        >\r\n          {`${props.name} (${(props.percent * 100).toFixed(0)}%)`}\r\n        </text>\r\n      );\r\n    };\r\n\r\n    if (!sortedData || sortedData.length === 0) {\r\n      console.warn('CategoryOverview: No data available for charts');\r\n      return (\r\n        <ErrorBoundary>\r\n          <div className={`${commonColors.whiteBg} ${commonColors.roundedLg} ${commonColors.shadowLg} ${commonColors.borderGray200} p-6`}>\r\n            <div className=\"text-center mb-4 flex items-center justify-center gap-2\">\r\n              <TrendingUp className={`h-5 w-5 ${textColors.info} mx-auto mb-2`} />\r\n              <h2 className={`text-lg font-semibold text-center ${textColors.primary}`}>Product Categories</h2>\r\n            </div>\r\n            <div className=\"flex items-center justify-center h-64 ${commonColors.gray500}\">\r\n              No category data available\r\n            </div>\r\n          </div>\r\n        </ErrorBoundary>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <ErrorBoundary>\r\n        <div className={`${commonColors.whiteBg} ${commonColors.roundedLg} ${commonColors.shadowLg} ${commonColors.borderGray200} p-6`}>\r\n          <div className=\"text-center mb-4 flex items-center justify-center gap-2\">\r\n            <TrendingUp className=\"h-5 w-5 ${commonColors.blue500}\" />\r\n            <h2 className=\"text-lg font-semibold text-center ${commonColors.gray900}\">Product Categories</h2>\r\n          </div>\r\n          \r\n          <ErrorBoundary>\r\n            {sortedData.length > 0 ? (\r\n              <div className=\"space-y-4\">\r\n                {/* Pie Chart */}\r\n                <div className=\"min-h-[200px]\">\r\n                  <div className=\"min-h-[200px] w-full\" role=\"img\" aria-label={`Pie chart showing product category distribution`}>\r\n                    <ResponsiveContainer width=\"100%\" height={200} minWidth={0} minHeight={0}>\r\n                      <PieChart>\r\n                        <Pie\r\n                          data={sortedData}\r\n                          cx=\"50%\"\r\n                          cy=\"50%\"\r\n                          labelLine={false}\r\n                          outerRadius={60}\r\n                          fill={chartColors.pieDefault}\r\n                          dataKey=\"value\"\r\n                          nameKey=\"name\"\r\n                          label={renderCustomizedLabel}\r\n                        >\r\n                          {sortedData.map((_, index) => (\r\n                            <Cell key={`cell-${index}`} fill={CHART_COLORS[index % CHART_COLORS.length]} />\r\n                          ))}\r\n                        </Pie>\r\n                        <Tooltip \r\n                          formatter={(value: any, name: any) => [\r\n                            `${value} products (${((value as number / products.length) * 100).toFixed(1)}%)`,\r\n                            name\r\n                          ]} \r\n                        />\r\n                      </PieChart>\r\n                    </ResponsiveContainer>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Category List with Progress Bars */}\r\n                <div className=\"space-y-3\">\r\n                  {sortedData.map((category, index) => {\r\n                    const colors = [\r\n                      { bg: chartColors.primary, border: chartColors.primaryDark },\r\n                      { bg: chartColors.success, border: chartColors.successDark },\r\n                      { bg: chartColors.warning, border: chartColors.warningDark },\r\n                      { bg: chartColors.error, border: chartColors.errorDark },\r\n                      { bg: chartColors.purple, border: chartColors.purpleDark },\r\n                    ];\r\n                    const color = colors[index % colors.length];\r\n                    \r\n                    return (\r\n                      <div key={category.name} className=\"space-y-2\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <span className={`text-sm font-medium ${commonColors.gray900}`}>{category.name}</span>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span className={`text-sm font-bold ${commonColors.gray900}`}>{category.value}</span>\r\n                            <span className={`text-xs font-semibold ${commonColors.gray500}`}>({category.percentage.toFixed(0)}%)</span>\r\n                          </div>\r\n                        </div>\r\n                        <div className={`relative w-full h-2 rounded-full overflow-hidden ${commonColors.gray200}`}>\r\n                          <div \r\n                            className=\"absolute inset-y-0 left-0 rounded-full transition-all duration-700 ease-out\"\r\n                            style={{ \r\n                              width: `${category.percentage}%`,\r\n                              background: `linear-gradient(90deg, ${color.bg}, ${color.border})`,\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex items-center justify-center h-64 ${commonColors.gray500}\">\r\n                No category data available\r\n              </div>\r\n            )}\r\n          </ErrorBoundary>\r\n        </div>\r\n      </ErrorBoundary>\r\n    );\r\n  } catch (error) {\r\n    console.error('CategoryOverview error:', error);\r\n    return (\r\n      <ErrorBoundary>\r\n        <div className={`${commonColors.whiteBg} ${commonColors.roundedLg} ${commonColors.shadowLg} ${commonColors.borderGray200} p-6`}>\r\n          <div className=\"text-center mb-4 flex items-center justify-center gap-2\">\r\n            <TrendingUp className=\"h-5 w-5 ${commonColors.blue500}\" />\r\n            <h2 className=\"text-lg font-semibold text-center ${commonColors.gray900}\">Product Categories</h2>\r\n          </div>\r\n          <div className=\"flex items-center justify-center h-64 ${commonColors.gray500}\">\r\n            Error loading category data\r\n          </div>\r\n        </div>\r\n      </ErrorBoundary>\r\n    );\r\n  }\r\n};\r\n\r\n\r\nexport default function PublicAccessPage() {\r\n  const router = useRouter();\r\n  const { theme } = useTheme();\r\n  const { products, isLoading } = useProducts();\r\n  const [isRealtimeConnected, setIsRealtimeConnected] = useState(false);\r\n  const [recentEvents, setRecentEvents] = useState<any[]>([]);\r\n\r\n  // Set up real-time subscriptions\r\n  useEffect(() => {\r\n    // Subscribe to product updates\r\n    const unsubscribeProduct = realtime.subscribe('product_update', (event) => {\r\n      console.log('Product update received:', event.data);\r\n      setRecentEvents(prev => [event, ...prev.slice(0, 4)]); // Keep last 5 events\r\n      \r\n      // Track real-time event\r\n      analytics.trackUserAction('realtime_product_update', {\r\n        productId: (event.data as any).productId,\r\n        status: (event.data as any).status\r\n      });\r\n    });\r\n\r\n    // Subscribe to verification updates\r\n    const unsubscribeVerification = realtime.subscribe('verification_update', (event) => {\r\n      console.log('Verification update received:', event.data);\r\n      setRecentEvents(prev => [event, ...prev.slice(0, 4)]);\r\n      \r\n      analytics.trackUserAction('realtime_verification_update', {\r\n        productId: (event.data as any).productId,\r\n        verificationCount: (event.data as any).verificationCount\r\n      });\r\n    });\r\n\r\n    // Subscribe to blockchain updates\r\n    const unsubscribeBlockchain = realtime.subscribe('blockchain_update', (event) => {\r\n      console.log('Blockchain update received:', event.data);\r\n      setRecentEvents(prev => [event, ...prev.slice(0, 4)]);\r\n      \r\n      analytics.trackUserAction('realtime_blockchain_update', {\r\n        blockNumber: (event.data as any).blockNumber,\r\n        transactionCount: (event.data as any).transactionCount\r\n      });\r\n    });\r\n\r\n    // Monitor connection status\r\n    const unsubscribeAll = realtime.subscribeToAll((event) => {\r\n      if (event && event.type === 'connection_established') {\r\n        setIsRealtimeConnected(true);\r\n        analytics.trackUserAction('realtime_connected', {\r\n          connectedClients: (event.data as any).connectedClients\r\n        });\r\n      }\r\n    });\r\n\r\n    // Check initial connection status\r\n    setIsRealtimeConnected(realtime.getConnectionStatus());\r\n\r\n    // Cleanup subscriptions\r\n    return () => {\r\n      unsubscribeProduct();\r\n      unsubscribeVerification();\r\n      unsubscribeBlockchain();\r\n      unsubscribeAll();\r\n    };\r\n  }, []);\r\n\r\n  // Log dashboard view (without user dependency)\r\n  useEffect(() => {\r\n    eventLogger.log('USER_ACTION' as any, 'View dashboard', {\r\n      userId: 'public-access-anonymous',\r\n      userRole: 'public',\r\n      action: 'VIEW_PUBLIC_ACCESS',\r\n      details: {\r\n        dashboard: 'public-access',\r\n        anonymous: true,\r\n        productCount: products.length,\r\n        realtimeConnected: isRealtimeConnected\r\n      }\r\n    });\r\n\r\n    // Track analytics\r\n    analytics.trackUserAction('view_public_access', {\r\n      dashboardType: 'public-access',\r\n      productCount: products.length,\r\n      isLoading,\r\n      realtimeConnected: isRealtimeConnected\r\n    });\r\n\r\n    // Track feature usage\r\n    analytics.trackFeatureUsage('dashboard_public_access', {\r\n      productCategories: Object.keys(ProductCategory).length,\r\n      hasProducts: products.length > 0,\r\n      realtimeEnabled: true\r\n    });\r\n  }, [products.length, isLoading, isRealtimeConnected]);\r\n\r\n  // Calculate metrics\r\n  const metrics = useMemo(() => ({\r\n    totalProducts: products.length,\r\n    verifiedProducts: products.filter(p => p.status === 'verified').length,\r\n    pendingVerification: products.filter(p => p.status === 'pending').length,\r\n    totalVerifications: products.reduce((sum, p) => sum + (p.verifications || 0), 0)\r\n  }), [products]);\r\n\r\n  // Debug logging\r\n  console.log('Products data:', products);\r\n  console.log('Public Access metrics updated:', metrics);\r\n  console.log('Metrics re-rendering with new values');\r\n\r\n  const displayProducts = products\r\n    .map(product => ({\r\n      id: product.id,\r\n      name: product.name,\r\n      category: product.category,\r\n      status: product.status,\r\n      verificationCount: product.verifications,\r\n      lastVerified: product.lastVerified\r\n    }))\r\n    .sort((a, b) => b.verificationCount - a.verificationCount)\r\n    .slice(0, 3); // Only show top 3 for cleaner layout\r\n\r\n  const handleProductClick = (productId: string) => {\r\n    // Track product click\r\n    analytics.trackUserAction('click_product', {\r\n      productId,\r\n      source: 'public_access_dashboard'\r\n    });\r\n\r\n    // Track conversion (product view)\r\n    analytics.trackConversion('product_view', {\r\n      productId,\r\n      dashboardType: 'public-access'\r\n    });\r\n\r\n    router.push(`/public-access/trace/${productId}`);\r\n  };\r\n\r\n  // Get public-access specific colors\r\n  const viewerColors = getRoleColors('viewer');\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <DashboardLayout\r\n        description=\"View and verify product information on blockchain\"\r\n      >\r\n        <div className=\"space-y-8\">\r\n          {/* Hero Section */}\r\n          <div className={`relative overflow-hidden bg-gradient-to-br from-gray-600 to-gray-500 rounded-2xl shadow-2xl max-w-4xl mx-auto w-full`}>\r\n            <div className=\"absolute inset-0 bg-foreground/5\"></div>\r\n            <div className=\"relative z-10 text-center p-8 px-4 sm:px-8\">\r\n              <div className=\"inline-block mb-4 px-4 py-1.5 bg-background/20 backdrop-blur-sm rounded-full border border-white/10\">\r\n                <span className=\"text-xs font-medium text-white\">Public Dashboard</span>\r\n              </div>\r\n              <h1 className=\"mb-2 text-white text-2xl sm:text-3xl font-bold\">\r\n                Welcome\r\n              </h1>\r\n              <p className=\"text-white/90 text-sm max-w-md mx-auto\">\r\n                View product information and track blockchain history (Read-only access)\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Metrics Grid - matching GitHub repo layout */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n            <MetricsCard\r\n              key=\"total-products\"\r\n              icon={<Package className=\"h-6 w-6\" aria-hidden=\"true\" />}\r\n              label=\"Total Products\"\r\n              value={metrics.totalProducts}\r\n              variant=\"total-transactions\"\r\n            />\r\n            <MetricsCard\r\n              key=\"certified-products\"\r\n              icon={<Check className=\"h-6 w-6\" aria-hidden=\"true\" />}\r\n              label=\"Certified\"\r\n              value={metrics.verifiedProducts}\r\n              variant=\"success\"\r\n            />\r\n            <MetricsCard\r\n              key=\"in-transit\"\r\n              icon={<AlertCircle className=\"h-6 w-6\" aria-hidden=\"true\" />}\r\n              label=\"In Transit\"\r\n              value={metrics.pendingVerification}\r\n              variant=\"warning\"\r\n            />\r\n            <MetricsCard\r\n              key=\"total-verifications\"\r\n              icon={<TrendingUp className=\"h-6 w-6\" aria-hidden=\"true\" />}\r\n              label=\"Total Verifications\"\r\n              value={metrics.totalVerifications}\r\n              variant=\"monthly-revenue\"\r\n            />\r\n          </div>\r\n\r\n          {/* Two Column Layout */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n            {/* Recent Products */}\r\n            <div className=\"lg:col-span-2\">\r\n              <div className={`${commonColors.whiteBg} ${commonColors.roundedLg} ${commonColors.shadowLg} ${commonColors.borderGray200}`}>\r\n                <div className=\"p-6\">\r\n                  <div className=\"mb-6\">\r\n                    <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n                      <h2 className=\"text-lg font-semibold text-gray-900\">Recent Products</h2>\r\n                      <Button \r\n                        onClick={() => router.push('/products')}\r\n                        className=\"!bg-gradient-to-r !from-gray-600 !to-gray-500 hover:!from-gray-700 hover:!to-gray-600 !text-white shadow-lg\"\r\n                        size=\"sm\"\r\n                      >\r\n                        View All\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-4\">\r\n                    {isLoading ? (\r\n                      <div className=\"space-y-4\">\r\n                        {[...Array(3)].map((_, i) => (\r\n                          <div key={i} className=\"animate-pulse\">\r\n                            <div className=\"h-20 ${commonColors.gray200} rounded-lg\"></div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    ) : displayProducts.length > 0 ? (\r\n                      displayProducts.map((product) => (\r\n                        <div \r\n                          key={product.id} \r\n                          className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 gap-4 ${commonColors.gray50} ${commonColors.hoverGray100} rounded-lg cursor-pointer transition-colors\"\r\n                          onClick={() => handleProductClick(product.id)}\r\n                        >\r\n                          <div className=\"flex items-center gap-4 flex-1\">\r\n                            <div className=\"bg-white p-3 rounded-lg shadow-sm flex-shrink-0\">\r\n                              <Package className={`h-6 w-6 ${textColors.muted}`} />\r\n                            </div>\r\n                            <div className=\"flex-1 min-w-0\">\r\n                              <div className=\"flex flex-col sm:flex-row sm:items-center gap-2 mb-1\">\r\n                                <h4 className={`font-semibold ${textColors.primary} truncate`}>{product.name}</h4>\r\n                                <span className={`px-2 py-1 text-xs font-medium rounded-full flex-shrink-0 ${\r\n                                  product.status === 'verified' ? 'bg-card-green-light text-card-green' :\r\n                                  product.status === 'pending' ? 'bg-card-orange-light text-card-orange' :\r\n                                  'bg-card-neutral-light text-card-neutral'\r\n                                }`}>\r\n                                  {product.status.charAt(0).toUpperCase() + product.status.slice(1)}\r\n                                </span>\r\n                              </div>\r\n                              <p className=\"text-xs ${commonColors.gray500}\">{product.category}</p>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"text-right sm:text-left\">\r\n                            <div className={`text-sm font-semibold ${textColors.primary}`}>{product.verificationCount || 0} verifications</div>\r\n                            {product.lastVerified && (\r\n                              <p className=\"text-xs ${commonColors.gray500}\">\r\n                                {new Date(product.lastVerified).toLocaleDateString()}\r\n                              </p>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ))\r\n                    ) : (\r\n                      <div className=\"text-center py-8\">\r\n                        <Package className={`h-12 w-12 ${textColors.muted} mx-auto mb-3`} />\r\n                        <p className={`${textColors.muted}`}>No products available</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Category Overview with Pie Chart */}\r\n            <div>\r\n              <CategoryOverview />\r\n            </div>\r\n          </div>\r\n\r\n          {/* QR Scanner Section */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            <QRScanner\r\n              onScanSuccess={(data) => {\r\n                console.log('QR Scanned:', data);\r\n                router.push(`/public-access/trace/${data}`);\r\n              }}\r\n              onScanError={(error) => {\r\n                console.error('QR Scan Error:', error);\r\n              }}\r\n              mockMode={true}\r\n            />\r\n            \r\n            <div className={`${commonColors.whiteBg} ${commonColors.roundedLg} ${commonColors.shadowLg} ${commonColors.borderGray200} p-6`}>\r\n              <h3 className=\"text-lg font-semibold text-center ${commonColors.gray900} mb-4\">Quick Actions</h3>\r\n              <div className=\"space-y-3\">\r\n                <Button \r\n                  onClick={() => router.push('/public-access')}\r\n                  className=\"w-full !bg-gradient-to-r !from-gray-600 !to-gray-500 hover:!from-gray-700 hover:!to-gray-600 !text-white shadow-lg rounded-full\"\r\n                >\r\n                  Public Access\r\n                </Button>\r\n                <Button \r\n                  onClick={() => window.open('/qr-demo', '_blank')}\r\n                  className=\"w-full !bg-gradient-to-r !from-gray-600 !to-gray-500 hover:!from-gray-700 hover:!to-gray-600 !text-white shadow-lg rounded-full\"\r\n                >\r\n                  QR Page\r\n                </Button>\r\n              </div>\r\n              \r\n              <div className=\"mt-4 p-4 bg-blue-50 rounded-lg\">\r\n                <h4 className=\"font-medium text-blue-900 mb-2\">Public Access Benefits:</h4>\r\n                <ul className=\"text-sm text-blue-800 space-y-1\">\r\n                  <li> No login required</li>\r\n                  <li> Complete product transparency</li>\r\n                  <li> Mobile QR scanning</li>\r\n                  <li> Share and print features</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Real-time Activity */}\r\n          <div className={`${commonColors.whiteBg} ${commonColors.roundedLg} ${commonColors.shadowLg} ${commonColors.borderGray200}`}>\r\n            <div className=\"p-6\">\r\n              <div className=\"mb-6\">\r\n                <div className=\"flex flex-col gap-4\">\r\n                  <h2 className=\"text-lg font-semibold text-center text-gray-900\">Real-time Activity</h2>\r\n                  <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n                    <div className=\"flex items-center gap-2 justify-center sm:justify-start\">\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => {\r\n                          if (isRealtimeConnected) {\r\n                            realtime.disableMockActivity();\r\n                          } else {\r\n                            realtime.enableMockActivity();\r\n                          }\r\n                        }}\r\n                      >\r\n                        {isRealtimeConnected ? 'Pause' : 'Resume'}\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={() => realtime.generateTestEvent('product_update')}\r\n                      >\r\n                        Test Event\r\n                      </Button>\r\n                    </div>\r\n                    {isRealtimeConnected ? (\r\n                      <span className=\"flex items-center gap-1 px-3 py-1 bg-card-green-light text-card-green rounded-full text-sm font-medium justify-center sm:justify-end\">\r\n                        <Wifi className=\"h-3 w-3\" />\r\n                        Connected\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"flex items-center gap-1 px-3 py-1 bg-card-neutral-light text-card-neutral rounded-full text-sm font-medium justify-center sm:justify-end\">\r\n                        <WifiOff className=\"h-3 w-3\" />\r\n                        Disconnected\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"space-y-3\">\r\n                {recentEvents.length > 0 ? (\r\n                  <div className=\"space-y-3\">\r\n                    {recentEvents.map((event, index) => (\r\n                      <div \r\n                        key={`${event.id}-${index}`} \r\n                        className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 gap-3 ${commonColors.gray50} rounded-lg\"\r\n                      >\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <div className=\"w-2 h-2 bg-card-green rounded-full animate-pulse flex-shrink-0\"></div>\r\n                          <div className=\"min-w-0 flex-1\">\r\n                            <p className={`font-medium text-sm ${textColors.primary} capitalize truncate`}>\r\n                              {event.type.replace('_', ' ')}\r\n                            </p>\r\n                            <p className=\"text-xs ${commonColors.gray500}\">\r\n                              {new Date(event.timestamp).toLocaleTimeString()}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"text-right sm:text-left min-w-0\">\r\n                          <p className=\"text-sm ${commonColors.gray900} truncate\">\r\n                            {(event.data as any)?.productId || (event.data as any)?.productName || `Block ${(event.data as any)?.blockNumber}`}\r\n                          </p>\r\n                          <p className=\"text-xs ${commonColors.gray500} capitalize truncate\">\r\n                            {(event.data as any)?.status || \r\n                             (event.data as any)?.verificationCount ? `${(event.data as any).verificationCount} verifications` :\r\n                             (event.data as any)?.quality ? `Quality: ${(event.data as any).quality}` :\r\n                             (event.data as any)?.location ? `${(event.data as any).location}` :\r\n                             (event.data as any)?.transactionCount ? `${(event.data as any).transactionCount} transactions` :\r\n                             'Updated'\r\n                            }\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-center py-8 ${commonColors.gray500}\">\r\n                    <WifiOff className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\r\n                    <p className=\"text-sm\">\r\n                      {isRealtimeConnected ? 'Waiting for events...' : 'Click \"Resume\" to start mock activity'}\r\n                    </p>\r\n                    {!isRealtimeConnected && (\r\n                      <p className=\"text-xs mt-2\">\r\n                        Mock events will appear every 3-7 seconds when active\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </DashboardLayout>\r\n    </ErrorBoundary>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}