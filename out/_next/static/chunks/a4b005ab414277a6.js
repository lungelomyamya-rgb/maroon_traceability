(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},67881,e=>{"use strict";var t=e.i(43476);function s({className:e="",variant:s="outline",size:a="default",children:r,...i}){let l=/bg-\w+-\d+|text-\w+-\d+/.test(e);return(0,t.jsx)("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background ${l?"":({default:"bg-primary text-primary-foreground hover:bg-primary/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-blue text-white hover:bg-blue-hover",ghost:"hover:bg-accent hover:text-accent-foreground"})[s]} ${{default:"h-10 py-2 px-4 text-sm sm:text-base",sm:"h-9 px-3 rounded-md text-xs sm:text-sm",lg:"h-11 sm:h-12 px-6 sm:px-8 rounded-md text-base sm:text-lg"}[a]} ${e}`,...i,children:r})}e.s(["Button",()=>s])},70065,e=>{"use strict";var t=e.i(43476);function s({children:e,className:s="",variant:a="default",title:r,description:i,badge:l}){return(0,t.jsxs)("div",{className:`rounded-lg border bg-card text-card-foreground shadow-sm ${{default:"border-border",outline:"border-2 border-border",ghost:"border-transparent bg-transparent",success:"border-green-200 bg-green-50",warning:"border-yellow-200 bg-yellow-50",danger:"border-red-200 bg-red-50"}[a]} ${s}`,children:[(r||i||l)&&(0,t.jsx)("div",{className:"p-6 pb-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[r&&(0,t.jsx)("h3",{className:"text-lg font-semibold leading-none tracking-tight",children:r}),i&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:i})]}),l&&(0,t.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${"destructive"===l.variant?"bg-red-100 text-red-800":"success"===l.variant?"bg-green-100 text-green-800":"warning"===l.variant?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:l.text})]})}),(0,t.jsx)("div",{className:"p-6 pt-0",children:e})]})}e.s(["Card",()=>s])},94179,e=>{"use strict";var t=e.i(43476);function s({children:e,variant:s="outline",className:a=""}){let r=/bg-\w+-\d+|text-\w+-\d+/.test(a);return(0,t.jsx)("div",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${r?"":({default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input bg-background hover:bg-accent hover:text-accent-foreground",info:"bg-blue-100 text-blue-800 hover:bg-blue-200",success:"bg-green-100 text-green-800 hover:bg-green-200",warning:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"})[s]} ${a}`,children:e})}e.s(["Badge",()=>s])},23750,e=>{"use strict";var t=e.i(43476);function s({className:e="",...s}){return(0,t.jsx)("input",{className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,...s})}e.s(["Input",()=>s])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},84762,e=>{"use strict";var t=e.i(43476);function s({className:e="",...s}){return(0,t.jsx)("textarea",{className:`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,...s})}e.s(["Textarea",()=>s])},78583,e=>{"use strict";let t=(0,e.i(75254).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],78583)},68553,e=>{"use strict";let t=(0,e.i(75254).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>t],68553)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},85851,e=>{"use strict";e.s(["EVENT_CONFIG",0,{planting:{label:"Planting",icon:"ðŸŒ±",color:"green",description:"Seeds planted in field"},growth:{label:"Growth Update",icon:"ðŸŒ¿",color:"lime",description:"Crop growth monitoring"},fertiliser:{label:"Fertiliser Application",icon:"ðŸ’§",color:"blue",description:"Fertiliser applied to crops"},harvest:{label:"Harvest",icon:"ðŸŒ¾",color:"yellow",description:"Crop harvested"},"quality-inspection":{label:"Quality Inspection",icon:"âœ…",color:"blue",description:"Quality standards verified"},"compliance-check":{label:"Compliance Check",icon:"ðŸ“‹",color:"indigo",description:"Regulatory compliance verified"},collection:{label:"Collection",icon:"ðŸ“¥",color:"orange",description:"Product collected from farm"},transport:{label:"In Transit",icon:"ðŸš›",color:"amber",description:"Product in transport"},delivery:{label:"Delivery",icon:"ðŸ“",color:"red",description:"Product delivered"},packaging:{label:"Packaging",icon:"ðŸ“¦",color:"purple",description:"Product packaged"},labeling:{label:"Labeling",icon:"ðŸ·ï¸",color:"violet",description:"Labels applied"},"qr-generation":{label:"QR Generated",icon:"â¬›",color:"gray",description:"QR code generated"},"retail-verification":{label:"Retail Verification",icon:"ðŸ›ï¸",color:"pink",description:"Verified by retailer"}}])},92040,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(70065),r=e.i(94179),i=e.i(87316),l=e.i(46897),n=e.i(84614),o=e.i(78583),c=e.i(68553),d=e.i(85851),m=e.i(47163);function g({productId:e}){let[g,p]=(0,s.useState)([]),[h,x]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let t=[{id:"evt1",productId:e,type:"planting",actor:"John Farmer",actorRole:"farmer",timestamp:"2025-01-20T08:30:00Z",location:"Field A, North Farm",notes:"Planted 200 organic tomato seedlings with organic compost and proper spacing",photos:["planting_photo_1.jpg","seedling_tray.jpg"],syncStatus:"synced",data:{seedVariety:"Celebrity Tomato",quantity:200,method:"organic",weather:"Sunny, 22Â°C"}},{id:"evt2",productId:e,type:"growth",actor:"John Farmer",actorRole:"farmer",timestamp:"2025-01-22T06:00:00Z",location:"Field A, North Farm",notes:"First watering after planting, soil moisture levels good",photos:["watering_setup.jpg"],syncStatus:"synced",data:{waterAmount:"500L",method:"drip irrigation",time:"Early morning"}},{id:"evt3",productId:e,type:"growth",actor:"John Farmer",actorRole:"farmer",timestamp:"2025-01-28T14:15:00Z",location:"Field A, North Farm",notes:"Applied organic compost tea to boost growth and soil health",photos:["fertiliser_application.jpg"],syncStatus:"synced",data:{fertiliserType:"Organic Compost",amount:"50kg",npkRatio:"2-1-2",method:"broadcast"}},{id:"evt4",productId:e,type:"growth",actor:"John Farmer",actorRole:"farmer",timestamp:"2025-02-05T09:00:00Z",location:"Field A, North Farm",notes:"Plants showing healthy growth, reaching 25cm height. No pests detected.",photos:["growth_measurement.jpg","plant_health_check.jpg"],syncStatus:"synced",data:{height:"25cm",health:"Excellent",stage:"vegetative",temperature:"24Â°C"}},{id:"evt5",productId:e,type:"growth",actor:"John Farmer",actorRole:"farmer",timestamp:"2025-02-12T16:30:00Z",location:"Field A, North Farm",notes:"Applied organic neem oil spray as preventive measure against aphids",photos:["pest_control_application.jpg"],syncStatus:"synced",data:{treatment:"Neem Oil",concentration:"5%",coverage:"Full field"}},{id:"evt6",productId:e,type:"harvest",actor:"John Farmer",actorRole:"farmer",timestamp:"2025-03-15T07:00:00Z",location:"Field A, North Farm",notes:"Harvested 450kg of premium quality tomatoes. Excellent color and firmness.",photos:["harvesting_process.jpg","harvested_tomatoes.jpg"],syncStatus:"synced",data:{quantity:"450kg",quality:"Premium",averageWeight:"250g",marketPrice:"R25/kg"}},{id:"evt7",productId:e,type:"quality-inspection",actor:"Quality Inspector",actorRole:"inspector",timestamp:"2025-03-16T10:00:00Z",location:"Quality Lab, Processing Center",notes:"Quality inspection passed. All tomatoes meet premium standards.",photos:["quality_inspection.jpg","lab_results.jpg"],syncStatus:"synced",data:{grade:"Premium",sugarContent:"4.2%",acidity:"0.6%",shelfLife:"14 days"}},{id:"evt8",productId:e,type:"packaging",actor:"Packaging Team",actorRole:"packaging",timestamp:"2025-03-16T14:00:00Z",location:"Packaging Facility",notes:"Packaged in eco-friendly cardboard boxes with proper labeling",photos:["packaging_process.jpg","boxed_tomatoes.jpg"],syncStatus:"synced",data:{packagingType:"Cardboard",boxSize:"1kg",labels:["Organic","Premium","Traceable"]}},{id:"evt9",productId:e,type:"transport",actor:"Logistics Team",actorRole:"logistics",timestamp:"2025-03-17T09:00:00Z",location:"Distribution Center",notes:"Shipped to local markets and restaurants",photos:["loading_truck.jpg","shipping_manifest.jpg"],syncStatus:"synced",data:{destination:"Local Markets",transport:"Refrigerated Truck",temperature:"4Â°C"}}];setTimeout(()=>{p(t),x(!1)},500)},[e]),h)?(0,t.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,t.jsx)(a.Card,{className:"p-6",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})},s))}):0===g.length?(0,t.jsxs)(a.Card,{className:"p-12 text-center",children:[(0,t.jsx)(i.Calendar,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Events Yet"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Start tracking your product journey by adding your first event."})]}):(0,t.jsx)("div",{className:"space-y-4",children:g.map((e,s)=>{let g=d.EVENT_CONFIG[e.type];return(0,t.jsxs)(a.Card,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:g.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:g.label}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:g.description})]})]}),(0,t.jsx)(r.Badge,{variant:"synced"===e.syncStatus?"success":"pending"===e.syncStatus?"warning":"failed"===e.syncStatus?"destructive":"secondary",children:e.syncStatus})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.User,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,t.jsx)("strong",{children:"By:"})," ",e.actor," (",e.actorRole,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Calendar,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,t.jsx)("strong",{children:"When:"})," ",(0,m.formatDateTime)(e.timestamp)]})]}),e.location&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.MapPin,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,t.jsx)("strong",{children:"Where:"})," ",e.location]})]}),e.photos&&e.photos.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Camera,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,t.jsx)("strong",{children:"Photos:"})," ",e.photos.length," attached"]})]})]}),e.notes&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(o.FileText,{className:"h-4 w-4 text-gray-400 mt-0.5"}),(0,t.jsxs)("p",{className:"text-sm text-gray-700 italic",children:['"',e.notes,'"']})]})})]},e.id)})})}e.s(["ProductEventList",()=>g])},69074,e=>{"use strict";let t=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],69074)},87082,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(53145),r=e.i(94814),i=e.i(81307),l=e.i(67881),n=e.i(23750),o=e.i(84762),c=e.i(71829),d=e.i(68553),m=e.i(69074),g=e.i(37727),p=e.i(75254);let h=(0,p.default)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),x=(0,p.default)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),u=i.z.object({type:i.z.enum(c.eventTypeValues),notes:i.z.string().optional(),location:i.z.string().optional(),timestamp:i.z.string().datetime(),photos:i.z.array(i.z.instanceof(File)).optional(),fertiliserType:i.z.string().optional(),fertiliserAmount:i.z.string().optional(),applicationMethod:i.z.string().optional(),growthStage:i.z.string().optional(),plantHeight:i.z.string().optional(),healthStatus:i.z.string().optional()});function f({productId:e,onSubmit:i}){let{register:p,handleSubmit:f,formState:{errors:y},watch:b,setValue:v}=(0,a.useForm)({resolver:(0,r.zodResolver)(u),defaultValues:{timestamp:new Date().toISOString()}}),[j,N]=(0,s.useState)(!1),[w,k]=(0,s.useState)([]),[S,F]=(0,s.useState)(navigator.onLine),C=(0,s.useRef)(null),T=b("type");(0,s.useState)(()=>{let e=()=>F(!0),t=()=>F(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}});let P=async t=>{try{if(N(!0),!S){let s={...t,productId:e,timestamp:new Date().toISOString(),syncStatus:"pending"},a=JSON.parse(localStorage.getItem("offlineEvents")||"[]");a.push(s),localStorage.setItem("offlineEvents",JSON.stringify(a)),alert("Event saved offline. It will sync when you're back online.");return}await i(t),k([]),C.current&&(C.current.value="")}catch(e){console.error("Error submitting event:",e),alert("Error saving event. Please try again.")}finally{N(!1)}};return(0,t.jsxs)("form",{onSubmit:f(P),className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 text-sm",children:S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h,{className:"h-4 w-4 text-green-600"}),(0,t.jsx)("span",{className:"text-green-600",children:"Online - Events will sync immediately"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x,{className:"h-4 w-4 text-orange-600"}),(0,t.jsx)("span",{className:"text-orange-600",children:"Offline - Events will sync when connection is restored"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Event Type"}),(0,t.jsx)("select",{id:"type",...p("type"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:c.eventTypes.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),y.type&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:String(y.type.message)})]}),"fertiliser"===T&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-blue-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"fertiliserType",className:"block text-sm font-medium text-gray-700",children:"Fertiliser Type"}),(0,t.jsx)(n.Input,{type:"text",id:"fertiliserType",placeholder:"e.g., NPK 15-15-15",...p("fertiliserType"),className:"mt-1 block w-full"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"fertiliserAmount",className:"block text-sm font-medium text-gray-700",children:"Amount"}),(0,t.jsx)(n.Input,{type:"text",id:"fertiliserAmount",placeholder:"e.g., 50kg per hectare",...p("fertiliserAmount"),className:"mt-1 block w-full"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"applicationMethod",className:"block text-sm font-medium text-gray-700",children:"Application Method"}),(0,t.jsxs)("select",{id:"applicationMethod",...p("applicationMethod"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[(0,t.jsx)("option",{value:"",children:"Select method"}),(0,t.jsx)("option",{value:"broadcast",children:"Broadcast"}),(0,t.jsx)("option",{value:"foliar",children:"Foliar Spray"}),(0,t.jsx)("option",{value:"drip",children:"Drip Irrigation"}),(0,t.jsx)("option",{value:"banded",children:"Banded"})]})]})]}),"growth"===T&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-green-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"growthStage",className:"block text-sm font-medium text-gray-700",children:"Growth Stage"}),(0,t.jsxs)("select",{id:"growthStage",...p("growthStage"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[(0,t.jsx)("option",{value:"",children:"Select stage"}),(0,t.jsx)("option",{value:"seedling",children:"Seedling"}),(0,t.jsx)("option",{value:"vegetative",children:"Vegetative"}),(0,t.jsx)("option",{value:"flowering",children:"Flowering"}),(0,t.jsx)("option",{value:"fruiting",children:"Fruiting"}),(0,t.jsx)("option",{value:"mature",children:"Mature"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"plantHeight",className:"block text-sm font-medium text-gray-700",children:"Plant Height"}),(0,t.jsx)(n.Input,{type:"text",id:"plantHeight",placeholder:"e.g., 15cm",...p("plantHeight"),className:"mt-1 block w-full"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"healthStatus",className:"block text-sm font-medium text-gray-700",children:"Health Status"}),(0,t.jsxs)("select",{id:"healthStatus",...p("healthStatus"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[(0,t.jsx)("option",{value:"",children:"Select status"}),(0,t.jsx)("option",{value:"excellent",children:"Excellent"}),(0,t.jsx)("option",{value:"good",children:"Good"}),(0,t.jsx)("option",{value:"fair",children:"Fair"}),(0,t.jsx)("option",{value:"poor",children:"Poor"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,t.jsx)(o.Textarea,{id:"notes",...p("notes"),placeholder:"Add any additional observations or details...",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),(0,t.jsx)(n.Input,{type:"text",id:"location",placeholder:"Field location or GPS coordinates",...p("location"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos (Crop Conditions, Harvest, etc.)"}),w.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-4",children:w.map((e,s)=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("img",{src:e,alt:`Preview ${s+1}`,className:"w-full h-24 object-cover rounded-lg border"}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e,t;return e=w.filter((e,t)=>t!==s),t=(b("photos")||[]).filter((e,t)=>t!==s),void(k(e),v("photos",t))},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(g.X,{className:"h-3 w-3"})})]},s))}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{ref:C,type:"file",multiple:!0,accept:"image/*",capture:"environment",onChange:e=>(e=>{if(!e)return;let t=Array.from(e),s=[];t.forEach(e=>{if(e.type.startsWith("image/")){let t=URL.createObjectURL(e);s.push(t)}}),k(e=>[...e,...s]),v("photos",[...b("photos")||[],...t])})(e.target.files),className:"hidden"}),(0,t.jsxs)(l.Button,{type:"button",variant:"outline",onClick:()=>C.current?.click(),className:"flex items-center gap-2",children:[(0,t.jsx)(d.Camera,{className:"h-4 w-4"}),"Take Photo"]}),(0,t.jsxs)(l.Button,{type:"button",variant:"outline",onClick:()=>C.current?.click(),className:"flex items-center gap-2",children:[(0,t.jsx)(m.Upload,{className:"h-4 w-4"}),"Upload Photos"]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: JPG, PNG. Max 5 photos per event."})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(l.Button,{type:"submit",disabled:j,className:"bg-indigo-600 text-white hover:bg-indigo-700",children:j?"Saving...":S?"Add Event":"Save Offline"})})]})}e.s(["EventForm",()=>f],87082)},98550,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(52155),i=e.i(15580),l=e.i(70065),n=e.i(67881),o=e.i(94179),c=e.i(88544),d=e.i(92040),m=e.i(87082),g=e.i(7233),p=e.i(87316),h=e.i(25652),x=e.i(88844);function u(){let e=(0,a.useRouter)(),{currentUser:u}=(0,r.useUser)(),{products:f}=(0,i.useProducts)(),[y,b]=(0,s.useState)(!0),[v,j]=(0,s.useState)(!1),[N,w]=(0,s.useState)(""),k=f.length>0?f.slice(0,3):[];if((0,s.useEffect)(()=>{let t=setTimeout(()=>{(b(!1),u)?u.role&&!["farmer"].includes(u.role)&&e.replace("/unauthorized"):e.replace("/login?redirect=/farmer/events")},100);return()=>clearTimeout(t)},[u,e]),y)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-green-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Checking authentication..."})]})});if(!u||"farmer"!==u.role)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-green-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Redirecting..."})]})});let S=async e=>{try{console.log("Event submitted:",e),j(!1)}catch(e){console.error("Error submitting event:",e)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 pt-4 pb-2",children:(0,t.jsxs)(n.Button,{variant:"outline",onClick:()=>e.push("/farmer"),className:"text-gray-600 hover:text-gray-900 hover:bg-gray-50",children:[(0,t.jsx)("span",{className:"hidden sm:inline",children:"Back to Profile"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Back"})]})}),(0,t.jsx)(c.DashboardLayout,{title:"Event Management",subtitle:"Track and manage your farm events from seed to sale",actions:(0,t.jsx)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:(0,t.jsxs)(n.Button,{onClick:()=>j(!v),className:"bg-green hover:bg-green-hover text-white shadow-lg w-full sm:w-auto",size:"lg",children:[(0,t.jsx)(g.Plus,{className:"h-4 w-4 mr-2"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Add Event"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Event"})]})}),children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[(0,t.jsx)(l.Card,{className:"p-3 sm:p-4 lg:p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(x.Package,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-green-600 mx-auto mb-1 sm:mb-2"}),(0,t.jsx)("p",{className:"text-lg sm:text-2xl lg:text-3xl font-bold text-gray-900",children:k.length}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Active Products"})]})}),(0,t.jsx)(l.Card,{className:"p-3 sm:p-4 lg:p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(p.Calendar,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-blue-600 mx-auto mb-1 sm:mb-2"}),(0,t.jsx)("p",{className:"text-lg sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"27"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Total Events"})]})}),(0,t.jsx)(l.Card,{className:"p-3 sm:p-4 lg:p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(h.TrendingUp,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-orange-600 mx-auto mb-1 sm:mb-2"}),(0,t.jsx)("p",{className:"text-lg sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"3"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"This Week"})]})}),(0,t.jsx)(l.Card,{className:"p-3 sm:p-4 lg:p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(g.Plus,{className:"h-6 w-6 sm:h-8 sm:w-8 lg:h-10 lg:w-10 text-purple-600 mx-auto mb-1 sm:mb-2"}),(0,t.jsx)("p",{className:"text-lg sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"2"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:"Pending"})]})})]}),v&&(0,t.jsxs)(l.Card,{className:"p-3 sm:p-4 lg:p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4",children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Add New Event"}),(0,t.jsx)(n.Button,{variant:"outline",size:"sm",onClick:()=>j(!1),className:"w-full sm:w-auto",children:"Cancel"})]}),(0,t.jsx)(m.EventForm,{productId:N||k[0]?.id||"",onSubmit:S})]}),(0,t.jsxs)("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6",children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2 sm:mb-4",children:"Recent Product Events"}),k.length>0?k.map(e=>(0,t.jsxs)(l.Card,{className:"p-3 sm:p-4 lg:p-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2 sm:mb-4 gap-2",children:[(0,t.jsx)("h4",{className:"text-sm sm:text-base font-medium text-gray-900",children:e.name}),(0,t.jsx)(o.Badge,{variant:"outline",className:"text-xs sm:text-sm w-fit",children:e.category})]}),(0,t.jsx)(d.ProductEventList,{productId:e.id})]},e.id)):(0,t.jsx)(l.Card,{className:"p-6 sm:p-8 lg:p-12 text-center",children:(0,t.jsx)("p",{className:"text-sm sm:text-base text-gray-500",children:"No products available. Add your first product to see events."})})]})]})})]})}e.s(["default",()=>u])}]);