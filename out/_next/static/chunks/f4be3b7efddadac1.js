(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78583,e=>{"use strict";let t=(0,e.i(75254).default)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);e.s(["FileText",()=>t],78583)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},67881,e=>{"use strict";var t=e.i(43476);function s({className:e="",variant:s="outline",size:r="default",children:a,...i}){let l=/bg-\w+-\d+|text-\w+-\d+/.test(e);return(0,t.jsx)("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background ${l?"":({default:"bg-primary text-primary-foreground hover:bg-primary/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-blue text-white hover:bg-blue-hover",ghost:"hover:bg-accent hover:text-accent-foreground"})[s]} ${{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}[r]} ${e}`,...i,children:a})}e.s(["Button",()=>s])},70065,e=>{"use strict";var t=e.i(43476);function s({children:e,className:s="",variant:r="default",title:a,description:i,badge:l}){return(0,t.jsxs)("div",{className:`rounded-lg border bg-card text-card-foreground shadow-sm ${{default:"border-border",outline:"border-2 border-border",ghost:"border-transparent bg-transparent",success:"border-green-200 bg-green-50",warning:"border-yellow-200 bg-yellow-50",danger:"border-red-200 bg-red-50"}[r]} ${s}`,children:[(a||i||l)&&(0,t.jsx)("div",{className:"p-6 pb-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[a&&(0,t.jsx)("h3",{className:"text-lg font-semibold leading-none tracking-tight",children:a}),i&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:i})]}),l&&(0,t.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${"destructive"===l.variant?"bg-red-100 text-red-800":"success"===l.variant?"bg-green-100 text-green-800":"warning"===l.variant?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:l.text})]})}),(0,t.jsx)("div",{className:"p-6 pt-0",children:e})]})}function r({children:e,className:s=""}){return(0,t.jsx)("div",{className:`p-6 pt-0 ${s}`,children:e})}e.s(["Card",()=>s,"CardContent",()=>r])},94179,e=>{"use strict";var t=e.i(43476);function s({children:e,variant:s="outline",className:r=""}){let a=/bg-\w+-\d+|text-\w+-\d+/.test(r);return(0,t.jsx)("div",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${a?"":({default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input bg-background hover:bg-accent hover:text-accent-foreground",info:"bg-blue-100 text-blue-800 hover:bg-blue-200",success:"bg-green-100 text-green-800 hover:bg-green-200",warning:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"})[s]} ${r}`,children:e})}e.s(["Badge",()=>s])},23750,e=>{"use strict";var t=e.i(43476);function s({className:e="",...s}){return(0,t.jsx)("input",{className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,...s})}e.s(["Input",()=>s])},84762,e=>{"use strict";var t=e.i(43476);function s({className:e="",...s}){return(0,t.jsx)("textarea",{className:`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,...s})}e.s(["Textarea",()=>s])},68553,e=>{"use strict";let t=(0,e.i(75254).default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>t],68553)},98791,e=>{"use strict";let t=(0,e.i(75254).default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],98791)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);e.s(["Calendar",()=>t],87316)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},85851,e=>{"use strict";e.s(["EVENT_CONFIG",0,{planting:{label:"Planting",icon:"ðŸŒ±",color:"green",description:"Seeds planted in field"},growth:{label:"Growth Update",icon:"ðŸŒ¿",color:"lime",description:"Crop growth monitoring"},harvest:{label:"Harvest",icon:"ðŸŒ¾",color:"yellow",description:"Crop harvested"},"quality-inspection":{label:"Quality Inspection",icon:"âœ…",color:"blue",description:"Quality standards verified"},"compliance-check":{label:"Compliance Check",icon:"ðŸ“‹",color:"indigo",description:"Regulatory compliance verified"},collection:{label:"Collection",icon:"ðŸ“¥",color:"orange",description:"Product collected from farm"},transport:{label:"In Transit",icon:"ðŸš›",color:"amber",description:"Product in transport"},delivery:{label:"Delivery",icon:"ðŸ“",color:"red",description:"Product delivered"},packaging:{label:"Packaging",icon:"ðŸ“¦",color:"purple",description:"Product packaged"},labeling:{label:"Labeling",icon:"ðŸ·ï¸",color:"violet",description:"Labels applied"},"qr-generation":{label:"QR Generated",icon:"â¬›",color:"gray",description:"QR code generated"},"retail-verification":{label:"Retail Verification",icon:"ðŸ›ï¸",color:"pink",description:"Verified by retailer"}}])},66679,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),a=e.i(52155),i=e.i(15580),l=e.i(67881),n=e.i(70065),o=e.i(7233),c=e.i(88844),d=e.i(98791),m=e.i(127),u=e.i(53145),g=e.i(94814),x=e.i(81307),h=e.i(23750),b=e.i(84762),p=e.i(71829);let f=x.z.object({type:x.z.enum(p.eventTypeValues),notes:x.z.string().optional(),location:x.z.string().optional(),timestamp:x.z.string().datetime(),photos:x.z.array(x.z.instanceof(File)).optional()});function y({productId:e,onSubmit:r}){let{register:a,handleSubmit:i,formState:{errors:n}}=(0,u.useForm)({resolver:(0,g.zodResolver)(f),defaultValues:{timestamp:new Date().toISOString()}}),[o,c]=(0,s.useState)(!1),d=async e=>{try{c(!0),await r(e)}catch(e){console.error("Error submitting event:",e)}finally{c(!1)}};return(0,t.jsxs)("form",{onSubmit:i(d),className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Event Type"}),(0,t.jsx)("select",{id:"type",...a("type"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:p.eventTypes.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))}),n.type&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:String(n.type.message)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700",children:"Notes"}),(0,t.jsx)(b.Textarea,{id:"notes",...a("notes"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),(0,t.jsx)(h.Input,{type:"text",id:"location",...a("location"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Photos"}),(0,t.jsx)(h.Input,{type:"file",multiple:!0,accept:"image/*",onChange:e=>{Array.from(e.target.files||[])},className:"mt-1 block w-full"})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(l.Button,{type:"submit",disabled:o,className:"bg-indigo-600 text-white hover:bg-indigo-700",children:o?"Submitting...":"Add Event"})})]})}var v=e.i(94179),j=e.i(87316),N=e.i(46897),w=e.i(84614),k=e.i(78583),C=e.i(68553),P=e.i(85851),S=e.i(47163);function F({productId:e}){let[r,a]=(0,s.useState)([]),[i,l]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let t=[{id:"evt1",productId:e,type:"planting",actor:"John Farmer",actorRole:"farmer",timestamp:"2025-01-15T09:00:00Z",location:"Field A, North Farm",notes:"Planted organic tomato seedlings with organic compost",photos:[],syncStatus:"synced",data:{}},{id:"evt2",productId:e,type:"growth",actor:"John Farmer",actorRole:"farmer",timestamp:"2025-02-01T10:30:00Z",location:"Field A, North Farm",notes:"Healthy growth observed, plants reaching 30cm height",photos:[],syncStatus:"synced",data:{}},{id:"evt3",productId:e,type:"harvest",actor:"John Farmer",actorRole:"farmer",timestamp:"2025-03-15T08:00:00Z",location:"Field A, North Farm",notes:"Harvested 500kg of premium tomatoes",photos:[],syncStatus:"synced",data:{}}];setTimeout(()=>{a(t),l(!1)},500)},[e]),i)?(0,t.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,t.jsx)(n.Card,{className:"p-6",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})},s))}):0===r.length?(0,t.jsxs)(n.Card,{className:"p-12 text-center",children:[(0,t.jsx)(j.Calendar,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Events Yet"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Start tracking your product journey by adding your first event."})]}):(0,t.jsx)("div",{className:"space-y-4",children:r.map((e,s)=>{let r=P.EVENT_CONFIG[e.type];return(0,t.jsxs)(n.Card,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:r.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:r.label}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:r.description})]})]}),(0,t.jsx)(v.Badge,{variant:"synced"===e.syncStatus?"success":"pending"===e.syncStatus?"warning":"failed"===e.syncStatus?"destructive":"secondary",children:e.syncStatus})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.User,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,t.jsx)("strong",{children:"By:"})," ",e.actor," (",e.actorRole,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Calendar,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,t.jsx)("strong",{children:"When:"})," ",(0,S.formatDateTime)(e.timestamp)]})]}),e.location&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.MapPin,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,t.jsx)("strong",{children:"Where:"})," ",e.location]})]}),e.photos&&e.photos.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.Camera,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,t.jsx)("strong",{children:"Photos:"})," ",e.photos.length," attached"]})]})]}),e.notes&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(k.FileText,{className:"h-4 w-4 text-gray-400 mt-0.5"}),(0,t.jsxs)("p",{className:"text-sm text-gray-700 italic",children:['"',e.notes,'"']})]})})]},e.id)})})}function T(){let e=(0,r.useRouter)(),{currentUser:u}=(0,a.useUser)(),{products:g}=(0,i.useProducts)(),[x,h]=(0,s.useState)(""),[b,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!u||"farmer"!==u.role)return void e.push("/unauthorized")},[u,e]);let f=g.filter(e=>e.farmerId===u?.id);if(!u||"farmer"!==u.role)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-primary"})});let v=[{title:"Active Products",value:f.length,icon:(0,t.jsx)(c.Package,{className:"h-6 w-6"}),color:"green",variant:"total-transactions"},{title:"Growing Crops",value:f.filter(e=>"pending"===e.status).length,icon:(0,t.jsx)(c.Package,{className:"h-6 w-6"}),color:"lime",variant:"success"},{title:"Ready for Harvest",value:f.filter(e=>"verified"===e.status).length,icon:(0,t.jsx)(c.Package,{className:"h-6 w-6"}),color:"blue",variant:"monthly-revenue"},{title:"Compliance Needed",value:2,icon:(0,t.jsx)(d.AlertCircle,{className:"h-6 w-6"}),color:"orange",variant:"warning"}];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-br from-green to-green-light shadow-2xl",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-foreground/5"}),(0,t.jsxs)("div",{className:"relative z-10 text-center p-8 px-4 sm:px-8",children:[(0,t.jsx)("div",{className:"inline-block mb-4 px-4 py-1.5 bg-background/20 backdrop-blur-sm rounded-full border border-white/10",children:(0,t.jsx)("span",{className:"text-xs font-medium text-white",children:"Farmer Dashboard"})}),(0,t.jsxs)("h1",{className:"mb-2 text-white text-2xl sm:text-3xl font-bold",children:["Welcome, ",u?.name||"Farmer","!"]}),(0,t.jsx)("p",{className:"text-white/90 text-sm max-w-md mx-auto mb-6",children:"Manage your farm operations and track products from seed to sale"}),(0,t.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,t.jsxs)(l.Button,{onClick:()=>p(!b),className:"bg-green hover:bg-green-hover text-white shadow-lg",size:"lg",children:[(0,t.jsx)(o.Plus,{className:"h-4 w-4 mr-2"}),"Add Event"]}),(0,t.jsxs)(l.Button,{onClick:()=>e.push("/farmer/seeds"),className:"bg-green hover:bg-green-hover text-white shadow-lg",size:"lg",children:[(0,t.jsx)(c.Package,{className:"h-4 w-4 mr-2"}),"Manage Seeds"]})]})]})]}),(0,t.jsx)(m.DashboardLayout,{title:"",subtitle:"",cards:v,children:(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{children:[b&&(0,t.jsxs)(n.Card,{className:"p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Create New Event"}),(0,t.jsx)(l.Button,{variant:"outline",onClick:()=>p(!1),children:"Cancel"})]}),(0,t.jsx)(y,{productId:x||f[0]?.id||"",onSubmit:async e=>{console.log("Event submitted:",e),p(!1)}})]}),(0,t.jsx)(F,{productId:x})]})})})]})}e.s(["default",()=>T],66679)}]);