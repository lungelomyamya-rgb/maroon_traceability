(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94542,e=>{"use strict";var r=e.i(43476),t=e.i(18566),a=e.i(34189),s=e.i(71645),l=e.i(7030);function i(){let e=(0,t.useRouter)(),{user:i,setUser:o}=(0,a.useUser)(),[n,c]=(0,s.useState)(!1),[d,m]=(0,s.useState)(null),[u,x]=(0,s.useState)(null),h={farmer:"Manage your farm and track your products",retailer:"Verify and manage product inventory",inspector:"Inspect and verify product quality",logistics:"Track and manage product shipments",packaging:"Handle product packaging and processing",viewer:"View product information and track history"},p=async r=>{if(!n)try{m(r),c(!0),x(null);let t=l.DEMO_USERS.find(e=>e.role===r);if(!t)throw Error("User role not found");await new Promise(e=>setTimeout(e,500)),await o({...t,permissions:{canCreate:["farmer","inspector","packaging"].includes(r),canVerify:["retailer","inspector"].includes(r)}}),e.push(`/${r}`)}catch(e){console.error("Login error:",e),x(e instanceof Error?e.message:"Failed to log in. Please try again."),c(!1),m(null)}},g=e=>{n||p(e)};return(0,s.useEffect)(()=>{{let e=new URLSearchParams(window.location.search).get("role");e&&"viewer"!==e&&m(e)}},[]),(0,s.useEffect)(()=>{new URLSearchParams(window.location.search).has("role")&&o(null)},[o]),(0,s.useEffect)(()=>{{let r=new URLSearchParams(window.location.search).has("role");i&&!r&&e.push(`/${i.role}`)}},[i,e]),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100 p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-4",children:"Welcome to Maroon Blockchain"}),(0,r.jsx)("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Select your role to access the traceability dashboard and manage your supply chain"})]}),u&&(0,r.jsx)("div",{className:"mb-8 p-4 text-red-600 bg-red-50 border border-red-200 rounded-lg text-sm",children:u}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.DEMO_USERS.map(e=>{let t=d===e.role,a=t&&n,s=e.role;return(0,r.jsxs)("div",{onClick:()=>g(s),className:`group relative p-6 border-2 rounded-xl transition-all duration-200 cursor-pointer ${t?"border-primary bg-primary/5 shadow-lg scale-105":"border-slate-200 bg-white hover:border-primary/50 hover:shadow-md hover:scale-102"} ${n?"opacity-75 cursor-not-allowed":""}`,role:"button",tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),g(s))},children:[(0,r.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,r.jsx)("div",{className:`mb-4 h-16 w-16 rounded-2xl flex items-center justify-center text-2xl font-bold transition-all ${t?"bg-primary text-white shadow-lg":"bg-slate-100 text-slate-700 group-hover:bg-primary/10 group-hover:text-primary"}`,children:e.name?.charAt(0)||"U"}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:[e.name,a&&(0,r.jsx)("span",{className:"ml-2 inline-flex",children:(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),(0,r.jsx)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${t?"bg-primary text-white":"bg-slate-100 text-slate-600"}`,children:s})]}),(0,r.jsxs)("p",{className:"text-sm text-slate-600 leading-relaxed",children:[h[s]||"Access your dashboard",a&&"..."]})]}),t&&(0,r.jsx)("div",{className:"absolute -top-2 -right-2 h-6 w-6 bg-primary rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"h-4 w-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},s)})}),(0,r.jsx)("div",{className:"mt-12 text-center",children:(0,r.jsx)("p",{className:"text-sm text-slate-500",children:"Select your role to access the appropriate dashboard and start managing your supply chain"})})]})})}e.s(["default",()=>i])}]);