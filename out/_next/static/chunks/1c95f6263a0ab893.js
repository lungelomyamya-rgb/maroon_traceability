(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},40160,e=>{"use strict";let t=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],40160)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},46897,e=>{"use strict";let t=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},67881,e=>{"use strict";var t=e.i(43476);function s({className:e="",variant:s="outline",size:a="default",children:r,...l}){let i=/bg-\w+-\d+|text-\w+-\d+/.test(e);return(0,t.jsx)("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background ${i?"":({default:"bg-primary text-primary-foreground hover:bg-primary/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-blue text-white hover:bg-blue-hover",ghost:"hover:bg-accent hover:text-accent-foreground"})[s]} ${{default:"h-10 py-2 px-4 text-sm sm:text-base",sm:"h-9 px-3 rounded-md text-xs sm:text-sm",lg:"h-11 sm:h-12 px-6 sm:px-8 rounded-md text-base sm:text-lg"}[a]} ${e}`,...l,children:r})}e.s(["Button",()=>s])},70065,e=>{"use strict";var t=e.i(43476);function s({children:e,className:s="",variant:a="default",title:r,description:l,badge:i}){return(0,t.jsxs)("div",{className:`rounded-lg border bg-card text-card-foreground shadow-sm ${{default:"border-border",outline:"border-2 border-border",ghost:"border-transparent bg-transparent",success:"border-green-200 bg-green-50",warning:"border-yellow-200 bg-yellow-50",danger:"border-red-200 bg-red-50"}[a]} ${s}`,children:[(r||l||i)&&(0,t.jsx)("div",{className:"p-6 pb-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[r&&(0,t.jsx)("h3",{className:"text-lg font-semibold leading-none tracking-tight",children:r}),l&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:l})]}),i&&(0,t.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${"destructive"===i.variant?"bg-red-100 text-red-800":"success"===i.variant?"bg-green-100 text-green-800":"warning"===i.variant?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:i.text})]})}),(0,t.jsx)("div",{className:"p-6 pt-0",children:e})]})}e.s(["Card",()=>s])},94179,e=>{"use strict";var t=e.i(43476);function s({children:e,variant:s="outline",className:a=""}){let r=/bg-\w+-\d+|text-\w+-\d+/.test(a);return(0,t.jsx)("div",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${r?"":({default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border border-input bg-background hover:bg-accent hover:text-accent-foreground",info:"bg-blue-100 text-blue-800 hover:bg-blue-200",success:"bg-green-100 text-green-800 hover:bg-green-200",warning:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"})[s]} ${a}`,children:e})}e.s(["Badge",()=>s])},23750,e=>{"use strict";var t=e.i(43476);function s({className:e="",...s}){return(0,t.jsx)("input",{className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,...s})}e.s(["Input",()=>s])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},84762,e=>{"use strict";var t=e.i(43476);function s({className:e="",...s}){return(0,t.jsx)("textarea",{className:`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,...s})}e.s(["Textarea",()=>s])},68553,e=>{"use strict";let t=(0,e.i(75254).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>t],68553)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},62031,e=>{"use strict";let t=(0,e.i(75254).default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);e.s(["Share2",()=>t],62031)},23962,e=>{"use strict";let t=(0,e.i(75254).default)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);e.s(["QrCode",()=>t],23962)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},84547,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(68553),r=e.i(37727),l=e.i(69638),i=e.i(63209),c=e.i(23962),n=e.i(67881),d=e.i(18566);function o({onScanSuccess:e,onScanError:o,onClose:m,mockMode:u=!0}){let[x,g]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),[b,f]=(0,s.useState)(null),[y,j]=(0,s.useState)(!1),[N,v]=(0,s.useState)("");(0,s.useRef)(null);let k=(0,d.useRouter)(),w=(0,s.useCallback)(()=>{u&&j(!0),g(!0),f(null),h(null)},[u]),C=(0,s.useCallback)(()=>{g(!1),j(!1),v(""),f(null)},[]),S=(0,s.useCallback)(()=>{if(!N.trim()){let e="Please enter a product ID or QR code data";f(e),o?.(e);return}h(N),f(null),e?.(N),setTimeout(()=>{console.log("Navigating to:",`/trace/${N}`),k.push(`/trace/${N}`),C(),m?.()},1e3)},[N,e,o,m,C,k]),P=(0,s.useCallback)(()=>{let e=["APPLE-001","TOMATO-002","MORINGA-003","BLK1704123456789","TRACE-DEMO-001"];return e[Math.floor(Math.random()*e.length)]},[]),T=(0,s.useCallback)(()=>{v(P())},[P]);return y?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)(c.QrCode,{className:"h-6 w-6 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"QR Scanner"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Mock Mode - Enter product ID"})]})]}),(0,t.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:C,className:"h-8 w-8 p-0",children:(0,t.jsx)(r.X,{className:"h-4 w-4"})})]}),p?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:(0,t.jsx)(l.CheckCircle,{className:"h-8 w-8 text-green-600"})}),(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Scan Successful!"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 font-mono bg-gray-100 px-3 py-2 rounded mb-3",children:p}),(0,t.jsx)("p",{className:"text-sm text-blue-600 animate-pulse",children:"Redirecting to product details..."})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter Product ID or QR Data"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:N,onChange:e=>v(e.target.value),placeholder:"e.g., APPLE-001",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),(0,t.jsx)(n.Button,{variant:"outline",size:"sm",onClick:T,className:"whitespace-nowrap",children:"Random"})]})]}),b&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,t.jsx)(i.AlertCircle,{className:"h-4 w-4 text-red-600 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-red-700",children:b})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(n.Button,{onClick:S,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"View Product Details"}),(0,t.jsx)(n.Button,{variant:"outline",onClick:C,children:"Cancel"})]}),(0,t.jsx)("div",{className:"text-xs text-gray-500 text-center",children:(0,t.jsx)("p",{children:'Try: APPLE-001, TOMATO-002, MORINGA-003, or click "Random"'})})]})]})}):(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center w-full",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:(0,t.jsx)(a.Camera,{className:"h-8 w-8 text-blue-600"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"QR Code Scanner"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:u?"Mock Mode - Simulate QR scanning":"Scan product QR codes"}),x?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("div",{className:"w-64 h-64 mx-auto bg-gray-900 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-white text-center",children:[(0,t.jsx)(c.QrCode,{className:"h-16 w-16 mx-auto mb-4 animate-pulse"}),(0,t.jsx)("p",{className:"text-sm",children:"Scanning..."})]})}),(0,t.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-b from-blue-400 to-transparent animate-pulse"})]})}),(0,t.jsx)(n.Button,{onClick:C,variant:"outline",className:"w-full",children:"Stop Scanning"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(n.Button,{onClick:w,className:"w-full !bg-gradient-to-r !from-green-600 !to-green-500 hover:!from-green-700 hover:!to-green-600 !text-white shadow-lg rounded-full",children:"Start Scanning"}),u&&(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"This is a mock implementation for demonstration"})]})]})})}e.s(["QRScanner",()=>o])},74886,e=>{"use strict";let t=(0,e.i(75254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],74886)},96793,19850,e=>{"use strict";e.i(84547);var t=e.i(43476),s=e.i(71645),a=e.i(23962),r=e.i(40160),l=e.i(62031),i=e.i(74886),c=e.i(43531),n=e.i(67881);function d({productId:e="",productName:d="",farmer:o="",location:m="",onGenerate:u,mockMode:x=!0}){let[g,p]=(0,s.useState)(""),[h,b]=(0,s.useState)(!1),[f,y]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),v=(0,s.useCallback)(()=>e.trim()?JSON.stringify({id:e,name:d,farmer:o,location:m,timestamp:new Date().toISOString(),source:"maroon-traceability"}):"",[e,d,o,m]),k=(0,s.useCallback)(async()=>{if(!e.trim())return;b(!0),await new Promise(e=>setTimeout(e,1e3));let t=v();p(t),N(!0),b(!1),u?.(t)},[e,v,u]),w=(0,s.useCallback)(()=>{navigator.clipboard.writeText(g),y(!0),setTimeout(()=>y(!1),2e3)},[g]),C=(0,s.useCallback)(()=>{let t=new Blob([g],{type:"text/plain"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`qr-${e}.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)},[g,e]),S=(0,s.useCallback)(async()=>{if(navigator.share)try{await navigator.share({title:`Product QR Code: ${d}`,text:`Scan this QR code to verify ${d} from ${o}`,url:g})}catch(e){w()}else w()},[d,o,g,w]),P=(0,s.useCallback)(()=>{let e=[];for(let t=0;t<25;t++){let s=[];for(let e=0;e<25;e++){let a=t<7&&e<7||t<7&&e>=18||t>=18&&e<7,r=Math.random()>.5;s.push(a||r)}e.push(s)}return e},[])();return(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:(0,t.jsx)(a.QrCode,{className:"h-8 w-8 text-green-600"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"QR Code Generator"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:x?"Mock Mode - Generate demo QR codes":"Generate product QR codes"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product ID"}),(0,t.jsx)("input",{type:"text",value:e,onChange:e=>p(""),placeholder:"e.g., PRD-2024-001",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),(0,t.jsx)("input",{type:"text",value:d,onChange:e=>p(""),placeholder:"e.g., Organic Apples",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Farmer"}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>p(""),placeholder:"Farm name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>p(""),placeholder:"Location",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),(0,t.jsx)(n.Button,{onClick:k,disabled:!e.trim()||h,className:"w-full bg-green-600 hover:bg-green-700",children:h?"Generating...":"Generate QR Code"}),j&&g&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"p-4 bg-white border-2 border-gray-300 rounded-lg",children:(0,t.jsx)("div",{className:"grid grid-cols-25 gap-0",style:{gridTemplateColumns:"repeat(25, 1fr)"},children:P.map((e,s)=>e.map((e,a)=>(0,t.jsx)("div",{className:`w-1 h-1 ${e?"bg-black":"bg-white"}`},`${s}-${a}`)))})})}),(0,t.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"QR Code Data:"}),(0,t.jsx)("p",{className:"text-xs font-mono text-gray-600 break-all",children:g})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:w,className:"flex items-center gap-1",children:[f?(0,t.jsx)(c.Check,{className:"h-3 w-3"}):(0,t.jsx)(i.Copy,{className:"h-3 w-3"}),f?"Copied!":"Copy"]}),(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:C,className:"flex items-center gap-1",children:[(0,t.jsx)(r.Download,{className:"h-3 w-3"}),"Download"]}),(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:S,className:"flex items-center gap-1",children:[(0,t.jsx)(l.Share2,{className:"h-3 w-3"}),"Share"]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Product Summary:"}),(0,t.jsxs)("div",{className:"text-xs text-blue-700 space-y-1",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"ID:"})," ",e]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Name:"})," ",d]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Farmer:"})," ",o]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Location:"})," ",m]})]})]})]}),x&&(0,t.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"This is a mock implementation for demonstration"})]})]})}e.s(["QRGenerator",()=>d],19850),e.s([],96793)},47627,e=>{"use strict";var t=e.i(43476),s=e.i(3939);function a({children:e,className:a=""}){return(0,t.jsx)("table",{className:`min-w-full divide-y ${s.commonColors.borderGray200} ${a}`,children:e})}function r({data:e,columns:r,onRowClick:l,className:i="",pageSize:c}){return(0,t.jsx)("div",{className:`overflow-x-auto ${i}`,children:(0,t.jsxs)(a,{children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{children:r.map((e,a)=>(0,t.jsx)("th",{className:`px-6 py-3 text-left text-xs font-medium ${s.commonColors.gray500} uppercase tracking-wider`,children:e.header},a))})}),(0,t.jsx)("tbody",{className:`${s.commonColors.whiteBg} divide-y ${s.commonColors.borderGray200}`,children:e.map((e,a)=>(0,t.jsx)("tr",{onClick:()=>l?.(e),className:`${s.commonColors.gray50} cursor-pointer`,children:r.map((a,r)=>(0,t.jsx)("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${s.commonColors.gray900}`,children:e[a.accessor]},r))},a))})]})})}e.s(["DataTable",()=>r])},79986,e=>{"use strict";let t={"cardboard-box":{label:"Cardboard Box",description:"Standard corrugated cardboard packaging",icon:"ðŸ“¦",typicalUnits:["boxes","pieces"],defaultCapacity:50},"plastic-crate":{label:"Plastic Crate",description:"Reusable plastic crate for transport",icon:"ðŸ—ƒï¸",typicalUnits:["crates","pieces"],defaultCapacity:100},"wooden-crate":{label:"Wooden Crate",description:"Traditional wooden crate for bulk items",icon:"ðŸ“¦",typicalUnits:["crates","pieces"],defaultCapacity:200},"vacuum-sealed":{label:"Vacuum Sealed",description:"Vacuum packaging for freshness",icon:"ðŸ¥«",typicalUnits:["packages","kg","lbs"],defaultCapacity:10},"bulk-bag":{label:"Bulk Bag",description:"Large bulk packaging bags",icon:"ðŸ‘œ",typicalUnits:["bags","kg","tons"],defaultCapacity:1e3},"paper-bag":{label:"Paper Bag",description:"Eco-friendly paper packaging",icon:"ðŸ›ï¸",typicalUnits:["bags","pieces"],defaultCapacity:25},"plastic-pouch":{label:"Plastic Pouch",description:"Flexible plastic pouch packaging",icon:"ðŸ›ï¸",typicalUnits:["pouches","pieces"],defaultCapacity:20},"glass-jar":{label:"Glass Jar",description:"Glass jar packaging for premium products",icon:"ðŸ«™",typicalUnits:["jars","ml","oz"],defaultCapacity:500},"metal-can":{label:"Metal Can",description:"Metal can packaging for preservation",icon:"ðŸ¥«",typicalUnits:["cans","ml","oz"],defaultCapacity:400},custom:{label:"Custom Packaging",description:"Specialized packaging solution",icon:"ðŸ“‹",typicalUnits:["units","pieces","custom"],defaultCapacity:1}};e.s(["BATCH_STATUS_COLORS",0,{pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800","qc-pending":"bg-orange-100 text-orange-800","qc-approved":"bg-emerald-100 text-emerald-800",shipped:"bg-purple-100 text-purple-800"},"PACKAGING_TYPES",0,t,"generateBatchCode",0,(e,s)=>{let a=new Date,r=a.getFullYear();String(a.getMonth()+1).padStart(2,"0"),String(a.getDate()).padStart(2,"0");let l=t[e].label.substring(0,3).toUpperCase(),i=s?s.substring(0,3).toUpperCase():"GEN",c=Math.random().toString(36).substring(2,5).toUpperCase();return`BATCH-${r}-${l}-${i}-${c}`},"getUnitsForPackagingType",0,e=>t[e].typicalUnits])},74155,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(52155),l=e.i(88544),i=e.i(67881),c=e.i(23750),n=e.i(70065),d=e.i(94179),o=e.i(7233),m=e.i(37727);let u=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var x=e.i(23962),g=e.i(88844),p=e.i(46897),h=e.i(87316),b=e.i(53145),f=e.i(94814),y=e.i(81307),j=e.i(84762),N=e.i(84614),v=e.i(68553),k=e.i(69638),w=e.i(79986);let C=y.z.object({productId:y.z.string().min(1,"Product ID is required"),productName:y.z.string().min(1,"Product name is required"),packagingType:y.z.enum(["cardboard-box","plastic-crate","wooden-crate","vacuum-sealed","bulk-bag","paper-bag","plastic-pouch","glass-jar","metal-can","custom"]),quantity:y.z.number().min(1,"Quantity must be at least 1"),unitOfMeasure:y.z.string().min(1,"Unit of measure is required"),location:y.z.string().min(1,"Location is required"),operator:y.z.string().min(1,"Operator name is required"),packagingDate:y.z.string().min(1,"Packaging date is required"),notes:y.z.string().optional()});function S({onSubmit:e,initialData:a,existingRecord:r}){let l,{register:o,handleSubmit:u,formState:{errors:y},watch:S,setValue:P}=(0,b.useForm)({resolver:(0,f.zodResolver)(C),defaultValues:{packagingDate:new Date().toISOString().slice(0,16),unitOfMeasure:"pieces",...a,...r}}),[T,M]=(0,s.useState)(!1),[I,B]=(0,s.useState)([]),[A,D]=(0,s.useState)(""),[R,O]=(0,s.useState)(!1),q=S("packagingType"),z=S("location"),G=async t=>{try{M(!0),await e({...t,photos:I})}catch(e){console.error("Error submitting packaging event:",e)}finally{M(!1)}};return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)(n.Card,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,t.jsx)(g.Package,{className:"h-5 w-5 text-purple-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Packaging Event"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Record packaging details and generate batch codes"})]})]}),r&&(0,t.jsx)(d.Badge,{className:(l=r.status,w.BATCH_STATUS_COLORS[l]),children:r.status})]}),(0,t.jsxs)("form",{onSubmit:u(G),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product ID"}),(0,t.jsx)(c.Input,{...o("productId"),placeholder:"e.g., PRD-2024-001"}),y.productId&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.productId.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),(0,t.jsx)(c.Input,{...o("productName"),placeholder:"e.g., Organic Apples"}),y.productName&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.productName.message})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,t.jsx)(g.Package,{className:"inline h-4 w-4 mr-1"}),"Packaging Type"]}),(0,t.jsxs)("select",{...o("packagingType"),onChange:e=>{var t;let s;t=e.target.value,(s=(0,w.getUnitsForPackagingType)(t)).length>0&&P("unitOfMeasure",s[0])},className:"w-full p-2 border border-gray-300 rounded-md focus:border-purple-500 focus:ring-purple-500",children:[(0,t.jsx)("option",{value:"",children:"Select packaging type"}),Object.entries(w.PACKAGING_TYPES).map(([e,s])=>(0,t.jsxs)("option",{value:e,children:[s.icon," ",s.label]},e))]}),y.packagingType&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.packagingType.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),(0,t.jsx)(c.Input,{type:"number",min:"1",...o("quantity",{valueAsNumber:!0}),placeholder:"e.g., 100"}),y.quantity&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.quantity.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit of Measure"}),(0,t.jsx)("select",{...o("unitOfMeasure"),className:"w-full p-2 border border-gray-300 rounded-md focus:border-purple-500 focus:ring-purple-500",children:q&&(0,w.getUnitsForPackagingType)(q).map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),y.unitOfMeasure&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.unitOfMeasure.message})]})]}),(0,t.jsxs)("div",{className:"border-t pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"Batch Code Generation"}),(0,t.jsxs)(i.Button,{type:"button",variant:"outline",onClick:()=>{q&&z&&(D((0,w.generateBatchCode)(q,z)),O(!0))},disabled:!q||!z,className:"flex items-center gap-2",children:[(0,t.jsx)(x.QrCode,{className:"h-4 w-4"}),"Generate Batch Code"]})]}),R&&A&&(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Generated Batch Code:"}),(0,t.jsx)("p",{className:"text-lg font-mono text-blue-800",children:A})]}),(0,t.jsxs)(d.Badge,{className:"bg-green-100 text-green-800",children:[(0,t.jsx)(k.CheckCircle,{className:"h-3 w-3 mr-1"}),"Ready"]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,t.jsx)(p.MapPin,{className:"inline h-4 w-4 mr-1"}),"Packaging Location"]}),(0,t.jsx)(c.Input,{...o("location"),placeholder:"e.g., Packhouse 1, Stellenbosch"}),y.location&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.location.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,t.jsx)(h.Calendar,{className:"inline h-4 w-4 mr-1"}),"Packaging Date"]}),(0,t.jsx)(c.Input,{type:"datetime-local",...o("packagingDate")}),y.packagingDate&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.packagingDate.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,t.jsx)(N.User,{className:"inline h-4 w-4 mr-1"}),"Operator Name"]}),(0,t.jsx)(c.Input,{...o("operator"),placeholder:"e.g., John Smith"}),y.operator&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:y.operator.message})]})]}),(0,t.jsxs)("div",{className:"border-t pt-6",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Visual Evidence"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{let t=e.target.files;t&&Array.from(t).forEach((e,t)=>{let s=new FileReader;s.onload=e=>{let t=e.target?.result;B(e=>[...e,t])},s.readAsDataURL(e)})},className:"hidden",id:"photo-upload"}),(0,t.jsxs)("label",{htmlFor:"photo-upload",className:"flex items-center justify-center gap-2 w-full p-4 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-purple-500 hover:bg-purple-50",children:[(0,t.jsx)(v.Camera,{className:"h-5 w-5 text-gray-400"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Upload packaging photos"})]}),I.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:I.map((e,s)=>(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("img",{src:e,alt:`Packaging photo ${s+1}`,className:"w-full h-24 object-cover rounded-lg"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:(0,t.jsx)(i.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{B(I.filter((e,t)=>t!==s))},className:"text-white hover:text-red-300",children:(0,t.jsx)(m.X,{className:"h-4 w-4"})})})]},s))})]})]}),(0,t.jsxs)("div",{className:"border-t pt-6",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Additional Notes"}),(0,t.jsx)(j.Textarea,{...o("notes"),rows:4,placeholder:"Enter any additional observations or notes about the packaging process..."})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[(0,t.jsx)(i.Button,{type:"button",variant:"outline",children:"Save as Draft"}),(0,t.jsx)(i.Button,{type:"submit",disabled:T,children:T?"Submitting...":"Record Packaging Event"})]})]})]})})}e.i(96793);var P=e.i(19850),T=e.i(47627);function M({data:e,onRowClick:s}){let a=[{header:"Batch ID",accessor:"batchId",className:"hidden sm:table-cell"},{header:"Product",accessor:"product",cell:({row:e})=>(0,t.jsxs)("div",{className:"max-w-0 sm:max-w-none",children:[(0,t.jsx)("div",{className:"font-medium text-sm sm:text-base truncate",children:e.original.product}),(0,t.jsx)("div",{className:"text-xs text-gray-500 sm:hidden truncate",children:e.original.batchCode})]})},{header:"Status",accessor:"status",cell:({row:e})=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full ${"completed"===e.original.status?"bg-green-500":"processing"===e.original.status?"bg-blue-500":"pending"===e.original.status?"bg-yellow-500":"bg-gray-500"}`}),(0,t.jsx)("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:e.original.status.replace("-"," ").charAt(0).toUpperCase()+e.original.status.slice(1).replace("-"," ")}),(0,t.jsx)("span",{className:"text-xs sm:hidden",children:"completed"===e.original.status?"âœ“":"processing"===e.original.status?"â³":"pending"===e.original.status?"â¸":"?"})]})},{header:"Created",accessor:"createdAt",className:"hidden sm:table-cell",cell:({row:e})=>(0,t.jsx)("div",{className:"text-xs sm:text-sm text-gray-600",children:new Date(e.original.createdAt).toLocaleDateString()})},{header:"Actions",accessor:"actions",cell:({row:e})=>(0,t.jsx)("div",{className:"flex gap-1 sm:gap-2",children:(0,t.jsx)("button",{onClick:()=>s?.(e.original),className:"p-1.5 sm:p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors text-xs sm:text-sm",children:"View"})})}];return(0,t.jsx)("div",{className:"overflow-x-auto -mx-4 sm:mx-0",children:(0,t.jsx)(T.DataTable,{data:e,columns:a,onRowClick:s,className:"text-xs sm:text-sm",pageSize:5})})}function I(){let e=(0,a.useRouter)(),{currentUser:b}=(0,r.useUser)();if((0,s.useEffect)(()=>{let t=setTimeout(()=>{if(b?.role!=="packaging"){console.log("Batch processing page - redirecting to unauthorized. Current user:",b),e.push("/unauthorized");return}},200);return()=>clearTimeout(t)},[b,e]),!b||"packaging"!==b.role)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Checking authentication..."})]})});let[f,y]=(0,s.useState)([{id:"1",productId:"PRD-2024-001",productName:"Organic Apples Premium",quantity:50,unitOfMeasure:"boxes",packagingType:"cardboard-box",status:"completed",batchCode:"BATCH-2024-CAR-STL-ABC",qrGenerated:!0,packagingDate:"2025-01-20T08:00:00Z"},{id:"2",productId:"PRD-2024-002",productName:"Fresh Pears Vacuum Sealed",quantity:25,unitOfMeasure:"packages",packagingType:"vacuum-sealed",status:"qc-pending",batchCode:"BATCH-2024-VAC-STL-DEF",qrGenerated:!0,packagingDate:"2025-01-20T09:00:00Z"},{id:"3",productId:"PRD-2024-003",productName:"Mixed Citrus Bulk",quantity:10,unitOfMeasure:"bags",packagingType:"bulk-bag",status:"processing",batchCode:"BATCH-2024-BUL-STL-GHI",qrGenerated:!1,packagingDate:"2025-01-20T10:00:00Z"}]),[j,N]=(0,s.useState)({productId:"",productName:"",quantity:1,unitOfMeasure:"pieces",packagingType:"cardboard-box"}),[v,k]=(0,s.useState)(!1),[C,T]=(0,s.useState)(!1),[I,B]=(0,s.useState)(!1),[A,D]=(0,s.useState)(null),[R,O]=(0,s.useState)([]),[q,z]=(0,s.useState)(!1),G=()=>{j.productName.trim()&&j.productId.trim()&&(y([...f,{id:Date.now().toString(),productId:j.productId.trim(),productName:j.productName.trim(),quantity:Math.max(1,j.quantity),unitOfMeasure:j.unitOfMeasure,packagingType:j.packagingType,status:"pending"}]),N({productId:"",productName:"",quantity:1,unitOfMeasure:"pieces",packagingType:"cardboard-box"}))},U=async()=>{if(0!==f.length){k(!0);try{await new Promise(e=>setTimeout(e,2e3));let e=f.map(e=>{let t=(0,w.generateBatchCode)(e.packagingType,"Packhouse 1");return{...e,batchCode:t,status:"completed",packagingDate:new Date().toISOString(),qrGenerated:!0}});y(e);let t=e.map(e=>({id:`record-${e.id}`,batchId:e.batchCode,productId:e.productId,productName:e.productName,packagingType:e.packagingType,quantity:e.quantity,unitOfMeasure:e.unitOfMeasure,packagingDate:e.packagingDate,location:"Packhouse 1, Stellenbosch",operator:"System User",status:"completed",batchCode:e.batchCode,qrCodes:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}));O([...R,...t])}catch(e){console.error("Batch processing failed:",e)}finally{k(!1)}}},$=async e=>{console.log("Packaging event submitted:",e),T(!1),D(null)},Q=f.map(e=>({id:e.id,batchId:e.batchCode||"Pending",product:e.productName,status:e.status,createdAt:e.packagingDate||new Date().toISOString(),original:e}));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 pt-4",children:(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>{e.push("/packaging")},className:"inline-flex items-center gap-2 text-sm",children:"Back"})}),(0,t.jsx)(l.DashboardLayout,{description:"Manage and process your product batches",children:(0,t.jsxs)("div",{className:"container mx-auto py-4 sm:py-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,t.jsxs)("div",{className:"text-center lg:text-left flex-1",children:[(0,t.jsx)("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold mb-1 lg:mb-2",children:"Batch Processing"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm sm:text-base lg:text-lg",children:"Manage and process your product batches"})]}),(0,t.jsxs)("div",{className:"w-full lg:w-auto flex flex-col sm:flex-row lg:flex-row gap-2 mt-4 lg:mt-0",children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>z(!q),className:"gap-2 w-full sm:w-auto px-4 py-2 lg:px-6 text-base",children:q?"Card View":"Table View"}),(0,t.jsx)(i.Button,{onClick:U,disabled:v||0===f.length,className:"bg-emerald-600 hover:bg-emerald-700 text-white w-full sm:w-auto px-4 py-2 lg:px-6 text-base font-medium",children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{className:"h-4 w-4 sm:h-5 sm:w-5 animate-spin"}),"Processing..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Package,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Process Batch"]})})]})]}),(0,t.jsxs)(n.Card,{className:"p-4 sm:p-6",children:[(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Add Batch Items"}),(0,t.jsxs)("div",{className:"flex flex-col xl:flex-row gap-4 sm:gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2 w-full xl:w-auto",children:[(0,t.jsx)("label",{htmlFor:"productId",className:"text-sm font-medium text-gray-700",children:"Product ID"}),(0,t.jsx)(c.Input,{id:"productId",placeholder:"e.g., PRD-2024-001",value:j.productId,onChange:e=>N({...j,productId:e.target.value}),className:"w-full p-3 text-base"})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-2 w-full xl:w-auto",children:[(0,t.jsx)("label",{htmlFor:"productName",className:"text-sm font-medium text-gray-700",children:"Product Name"}),(0,t.jsx)(c.Input,{id:"productName",placeholder:"Enter product name",value:j.productName,onChange:e=>N({...j,productName:e.target.value}),onKeyDown:e=>"Enter"===e.key&&G(),className:"w-full p-3 text-base"})]}),(0,t.jsxs)("div",{className:"w-full xl:w-48 space-y-2",children:[(0,t.jsx)("label",{htmlFor:"quantity",className:"text-sm font-medium text-gray-700",children:"Quantity"}),(0,t.jsx)(c.Input,{id:"quantity",type:"number",min:"1",value:j.quantity,onChange:e=>N({...j,quantity:parseInt(e.target.value)||1}),className:"w-full p-3 text-base"})]}),(0,t.jsxs)("div",{className:"w-full xl:w-auto space-y-2",children:[(0,t.jsx)("label",{htmlFor:"packagingType",className:"text-sm font-medium text-gray-700",children:"Packaging Type"}),(0,t.jsx)("select",{id:"packagingType",value:j.packagingType,onChange:e=>N({...j,packagingType:e.target.value}),className:"w-full p-3 text-base border border-gray-300 rounded-md focus:border-purple-500 focus:ring-purple-500",children:Object.entries(w.PACKAGING_TYPES).map(([e,s])=>(0,t.jsxs)("option",{value:e,children:[s.icon," ",s.label]},e))})]}),(0,t.jsx)("div",{className:"flex items-end w-full xl:w-auto",children:(0,t.jsxs)(i.Button,{onClick:G,className:"gap-2 w-full xl:w-auto px-6 py-3 text-base font-medium",children:[(0,t.jsx)(o.Plus,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Add Item"]})})]}),(0,t.jsxs)("div",{className:"mt-4 sm:mt-6",children:[q?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsx)(M,{data:Q,onRowClick:e=>{D(e.original),T(!0)}})}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 gap-3 sm:gap-4",children:f.map(e=>(0,t.jsx)(n.Card,{className:"p-3 sm:p-4 lg:p-5 hover:shadow-lg transition-all hover:scale-[1.02] cursor-pointer border-2 border-gray-200 hover:border-purple-300 rounded-lg w-full",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-2 sm:space-y-3",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm sm:text-base lg:text-lg leading-none",children:w.PACKAGING_TYPES[e.packagingType].icon})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-bold text-sm sm:text-base",children:e.productName}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.productId})]})]}),(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsx)(d.Badge,{className:`${w.BATCH_STATUS_COLORS[e.status]} text-xs px-2 py-1 whitespace-nowrap flex-shrink-0`,children:e.status.replace("-"," ")})})]}),(0,t.jsxs)("div",{className:"space-y-1 sm:space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:(0,t.jsx)(p.MapPin,{className:"h-3 w-3 sm:h-4 sm:h-5 text-gray-400"})}),(0,t.jsx)("span",{className:"text-gray-600",children:"Quantity:"}),(0,t.jsxs)("span",{className:"font-medium text-xs",children:[e.quantity," ",e.unitOfMeasure]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:(0,t.jsx)(g.Package,{className:"h-3 w-3 sm:h-4 sm:h-5 text-gray-400"})}),(0,t.jsx)("span",{className:"text-gray-600",children:"Packaging:"}),(0,t.jsx)("span",{className:"font-medium text-xs truncate",title:w.PACKAGING_TYPES[e.packagingType].label,children:w.PACKAGING_TYPES[e.packagingType].label})]}),e.batchCode&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center",children:(0,t.jsx)(h.Calendar,{className:"h-3 w-3 sm:h-4 sm:h-5 text-gray-400"})}),(0,t.jsx)("span",{className:"text-gray-600",children:"Batch Code:"}),(0,t.jsx)("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded text-center sm:text-right truncate",title:e.batchCode,children:e.batchCode})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-1 sm:pt-2",children:[(0,t.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>{D(e),T(!0)},className:"flex-1 text-xs sm:text-sm h-7 sm:h-8",children:[(0,t.jsx)(g.Package,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Details"]}),e.batchCode&&(0,t.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>{D(e),B(!0)},className:"px-2 h-7 sm:h-8 min-w-[28px] sm:min-w-[32px]",children:(0,t.jsx)(x.QrCode,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]})},e.id))}),0===f.length&&(0,t.jsxs)("div",{className:"text-center py-12 sm:py-16 text-gray-500",children:[(0,t.jsx)(g.Package,{className:"h-16 w-16 sm:h-20 sm:w-20 mx-auto mb-4 text-gray-300"}),(0,t.jsx)("p",{className:"text-base sm:text-lg",children:"No items in batch yet. Add items above to get started."})]})]})]}),C&&A&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto m-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 sm:p-6 border-b gap-4",children:[(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Packaging Event Details"}),(0,t.jsxs)(i.Button,{variant:"ghost",size:"sm",onClick:()=>{T(!1),D(null)},className:"w-full sm:w-auto",children:[(0,t.jsx)(m.X,{className:"h-4 w-4 sm:h-5 sm:w-5"}),(0,t.jsx)("span",{className:"ml-2 hidden sm:inline",children:"Close"})]})]}),(0,t.jsx)("div",{className:"p-4 sm:p-6",children:(0,t.jsx)(S,{onSubmit:$,initialData:{productId:A.productId,productName:A.productName,quantity:A.quantity,unitOfMeasure:A.unitOfMeasure,packagingType:A.packagingType}})})]})}),I&&A&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full m-4 max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 sm:p-6 border-b gap-4",children:[(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Generate QR Code"}),(0,t.jsxs)(i.Button,{variant:"ghost",size:"sm",onClick:()=>{B(!1),D(null)},className:"w-full sm:w-auto",children:[(0,t.jsx)(m.X,{className:"h-4 w-4 sm:h-5 sm:w-5"}),(0,t.jsx)("span",{className:"ml-2 hidden sm:inline",children:"Close"})]})]}),(0,t.jsx)("div",{className:"p-4 sm:p-6",children:(0,t.jsx)(P.QRGenerator,{productId:A.productId,productName:A.productName,farmer:"Maroon Farm",location:"Stellenbosch, South Africa",onGenerate:e=>{console.log("QR code generated:",e),y(f.map(t=>t.id===A?.id?{...t,qrGenerated:!0,qrCode:e}:t))},mockMode:!1})})]})})]})})]})}e.s(["BatchProcessing",()=>I],74155)},94584,e=>{e.n(e.i(74155))}]);